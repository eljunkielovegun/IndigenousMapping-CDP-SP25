import{r as e,D as t,S as o,M as n,B as r,F as i}from"./deck-92512e48.js";import{r as a,_ as s}from"./vendor-2c589def.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var l={exports:{}},c={},d=e,p=Symbol.for("react.element"),u=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,m=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function y(e,t,o){var n,r={},i=null,a=null;for(n in void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)h.call(t,n)&&!g.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:p,type:e,key:i,ref:a,props:r,_owner:m.current}}c.Fragment=u,c.jsx=y,c.jsxs=y,l.exports=c;var f=l.exports,x={},v=a;x.createRoot=v.createRoot,x.hydrateRoot=v.hydrateRoot;const b=e.createContext(null);function _(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!_(e[o],t[o]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(const r of o){if(!t.hasOwnProperty(r))return!1;if(!_(e[r],t[r]))return!1}return!0}return!1}function w(e,t){if(!e.getProjection)return;const o=e.getProjection();_(o,t.getProjection())||t.setProjection(o)}function j(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function S(e,t){const o=t.viewState||t;let n=!1;if("zoom"in o){const t=e.zoom;e.zoom=o.zoom,n=n||t!==e.zoom}if("bearing"in o){const t=e.bearing;e.bearing=o.bearing,n=n||t!==e.bearing}if("pitch"in o){const t=e.pitch;e.pitch=o.pitch,n=n||t!==e.pitch}if(o.padding&&!e.isPaddingEqual(o.padding)&&(n=!0,e.padding=o.padding),"longitude"in o&&"latitude"in o){const t=e.center;e.center=new t.constructor(o.longitude,o.latitude),n=n||t!==e.center}return n}const P=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function z(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const n of e.layers)t[n.id]=n;const o=e.layers.map((e=>{let o=null;"interactive"in e&&(o=Object.assign({},e),delete o.interactive);const n=t[e.ref];if(n){o=o||Object.assign({},e),delete o.ref;for(const e of P)e in n&&(o[e]=n[e])}return o||e}));return{...e,layers:o}}const k={version:8,sources:{},layers:[]},L={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},M={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},C={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},E=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],R=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class T{constructor(e,t,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[C[e.type]];t?t(e):e.type},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[L[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[M[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const o=this._updateSettings(e,t);o&&this._createShadowTransform(this._map);const n=this._updateSize(e),r=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(o||n||r&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const o=T.savedMaps.pop();if(!o)return null;const n=o.map,r=n.getContainer();for(t.className=r.className;r.childNodes.length>0;)t.appendChild(r.childNodes[0]);n._container=t;const i=n._resizeObserver;i&&(i.disconnect(),i.observe(t)),o.setProps({...e,styleDiffing:!1}),n.resize();const{initialViewState:a}=e;return a&&(a.bounds?n.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):o._updateViewState(a,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",(()=>n.fire("load"))),n._update(),o}_initialize(e){const{props:t}=this,{mapStyle:o=k}=t,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||I()||null,container:e,style:z(o)},r=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const i=new this._MapClass(n);r.padding&&i.setPadding(r.padding),t.cursor&&(i.getCanvas().style.cursor=t.cursor),this._createShadowTransform(i);const a=i._render;i._render=e=>{this._inRender=!0,a.call(i,e),this._inRender=!1};const s=i._renderTaskQueue.run;i._renderTaskQueue.run=e=>{s.call(i._renderTaskQueue,e),this._onBeforeRepaint()},i.on("render",(()=>this._onAfterRepaint()));const l=i.fire;i.fire=this._fireEvent.bind(this,l),i.on("resize",(()=>{this._renderTransform.resize(i.transform.width,i.transform.height)})),i.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),w(i.transform,this._renderTransform)})),i.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const c in L)i.on(c,this._onPointerEvent);for(const c in M)i.on(c,this._onCameraEvent);for(const c in C)i.on(c,this._onEvent);this._map=i}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null==e||e.remove(),T.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const o=this._map,n=this._renderTransform,{zoom:r,pitch:i,bearing:a}=n,s=o.isMoving();s&&(n.cameraElevationReference="sea");const l=S(n,{...j(o.transform),...e});if(s&&(n.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=r!==n.zoom),e.rotate||(e.rotate=a!==n.bearing),e.pitch||(e.pitch=i!==n.pitch)}return s||S(o.transform,e),l}_updateSettings(e,t){const o=this._map;let n=!1;for(const r of E)if(r in e&&!_(e[r],t[r])){n=!0;const t=o[`set${r[0].toUpperCase()}${r.slice(1)}`];null==t||t.call(o,e[r])}return n}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=k,styleDiffing:o=!0}=e,n={diff:o};return"localIdeographFontFamily"in e&&(n.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(z(t),n),!0}return!1}_updateStyleComponents(e,t){const o=this._map;let n=!1;return o.isStyleLoaded()&&("light"in e&&o.setLight&&!_(e.light,t.light)&&(n=!0,o.setLight(e.light)),"fog"in e&&o.setFog&&!_(e.fog,t.fog)&&(n=!0,o.setFog(e.fog)),"terrain"in e&&o.setTerrain&&!_(e.terrain,t.terrain)&&(e.terrain&&!o.getSource(e.terrain.source)||(n=!0,o.setTerrain(e.terrain)))),n}_updateHandlers(e,t){var o,n;const r=this._map;let i=!1;for(const a of R){const s=null===(o=e[a])||void 0===o||o;_(s,null===(n=t[a])||void 0===n||n)||(i=!0,s?r[a].enable(s):r[a].disable())}return i}_queryRenderedFeatures(e){const t=this._map,o=t.transform,{interactiveLayerIds:n=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:n.filter(t.getLayer.bind(t))})}catch(r){return[]}finally{t.transform=o}}_updateHover(e){var t;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const o=e.type,n=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,r=this._queryRenderedFeatures(e.point),i=r.length>0;!i&&n&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=r,i&&!n&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}_fireEvent(e,t,o){const n=this._map,r=n.transform,i="string"==typeof t?t:t.type;return"move"===i&&this._updateViewState(this.props,!1),i in M&&("object"==typeof t&&(t.viewState=j(r)),this._map.isMoving())?(n.transform=this._renderTransform,e.call(n,t,o),n.transform=r,n):(e.call(n,t,o),n)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&e.fire(o);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{w(this._renderTransform,t),e.transform=t}}}function I(){let e=null;if("undefined"!=typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch(t){}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(o){}return e}T.savedMaps=[];const F=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function O(e){if(!e)return null;const t=e.map,o={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>{const n=t.transform;t.transform=e.transform;const r=t.project(o);return t.transform=n,r},unproject:o=>{const n=t.transform;t.transform=e.transform;const r=t.unproject(o);return t.transform=n,r},queryTerrainElevation:(o,n)=>{const r=t.transform;t.transform=e.transform;const i=t.queryTerrainElevation(o,n);return t.transform=r,i},queryRenderedFeatures:(o,n)=>{const r=t.transform;t.transform=e.transform;const i=t.queryRenderedFeatures(o,n);return t.transform=r,i}};for(const n of function(e){const t=new Set;let o=e;for(;o;){for(const n of Object.getOwnPropertyNames(o))"_"!==n[0]&&"function"==typeof e[n]&&"fire"!==n&&"setEventedParent"!==n&&t.add(n);o=Object.getPrototypeOf(o)}return Array.from(t)}(t))n in o||F.includes(n)||(o[n]=t[n].bind(t));return o}const A="undefined"!=typeof document?e.useLayoutEffect:e.useEffect,N=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const W=e.createContext(null);function H(t,o,n){const r=e.useContext(b),[i,a]=e.useState(null),s=e.useRef(),{current:l}=e.useRef({mapLib:null,map:null});e.useEffect((()=>{const e=t.mapLib;let o,i=!0;return Promise.resolve(e||n).then((e=>{if(!i)return;if(!e)throw new Error("Invalid mapLib");const n="Map"in e?e:e.default;if(!n.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const n of N)n in t&&(e[n]=t[n]);const{RTLTextPlugin:o="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;o&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(o,(e=>{}),!0)}(n,t),n.supported&&!n.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(o=T.reuse(t,s.current)),o||(o=new T(n.Map,t,s.current)),l.map=O(o),l.mapLib=n,a(o),null==r||r.onMapMount(l.map,t.id)})).catch((e=>{const{onError:o}=t;o&&o({type:"error",target:null,originalEvent:null,error:e})})),()=>{i=!1,o&&(null==r||r.onMapUnmount(t.id),t.reuseMaps?o.recycle():o.destroy())}}),[]),A((()=>{i&&i.setProps(t)})),e.useImperativeHandle(o,(()=>l.map),[i]);const c=e.useMemo((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return e.createElement("div",{id:t.id,ref:s,style:c},i&&e.createElement(W.Provider,{value:l},e.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}const D=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function B(e,t){if(!e||!t)return;const o=e.style;for(const n in t){const e=t[n];Number.isFinite(e)&&!D.test(n)?o[n]=`${e}px`:o[n]=e}}function Z(e){return new Set(e?e.trim().split(/\s+/):[])}function U(t,o,n,r){const i=e.useContext(W),a=e.useMemo((()=>t(i)),[]);return e.useEffect((()=>{const e=r||n||o,t="function"==typeof o&&"function"==typeof n?o:null,s="function"==typeof n?n:"function"==typeof o?o:null,{map:l}=i;return l.hasControl(a)||(l.addControl(a,null==e?void 0:e.position),t&&t(i)),()=>{s&&s(i),l.hasControl(a)&&l.removeControl(a)}}),[]),a}e.memo(e.forwardRef((function(t,o){const{map:n,mapLib:r}=e.useContext(W),i=e.useRef({props:t});i.current.props=t;const s=e.useMemo((()=>{let o=!1;e.Children.forEach(t.children,(e=>{e&&(o=!0)}));const n={...t,element:o?document.createElement("div"):null},a=new r.Marker(n);return a.setLngLat([t.longitude,t.latitude]),a.getElement().addEventListener("click",(e=>{var t,o;null===(o=(t=i.current.props).onClick)||void 0===o||o.call(t,{type:"click",target:a,originalEvent:e})})),a.on("dragstart",(e=>{var t,o;const n=e;n.lngLat=s.getLngLat(),null===(o=(t=i.current.props).onDragStart)||void 0===o||o.call(t,n)})),a.on("drag",(e=>{var t,o;const n=e;n.lngLat=s.getLngLat(),null===(o=(t=i.current.props).onDrag)||void 0===o||o.call(t,n)})),a.on("dragend",(e=>{var t,o;const n=e;n.lngLat=s.getLngLat(),null===(o=(t=i.current.props).onDragEnd)||void 0===o||o.call(t,n)})),a}),[]);e.useEffect((()=>(s.addTo(n.getMap()),()=>{s.remove()})),[]);const{longitude:l,latitude:c,offset:d,style:p,draggable:u=!1,popup:h=null,rotation:m=0,rotationAlignment:g="auto",pitchAlignment:y="auto"}=t;return e.useEffect((()=>{B(s.getElement(),p)}),[p]),e.useImperativeHandle(o,(()=>s),[]),s.getLngLat().lng===l&&s.getLngLat().lat===c||s.setLngLat([l,c]),d&&!function(e,t){const o=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return o===r&&n===i}(s.getOffset(),d)&&s.setOffset(d),s.isDraggable()!==u&&s.setDraggable(u),s.getRotation()!==m&&s.setRotation(m),s.getRotationAlignment()!==g&&s.setRotationAlignment(g),s.getPitchAlignment()!==y&&s.setPitchAlignment(y),s.getPopup()!==h&&s.setPopup(h),a.createPortal(t.children,s.getElement())}))),e.memo(e.forwardRef((function(t,o){const{map:n,mapLib:r}=e.useContext(W),i=e.useMemo((()=>document.createElement("div")),[]),s=e.useRef({props:t});s.current.props=t;const l=e.useMemo((()=>{const e={...t},o=new r.Popup(e);return o.setLngLat([t.longitude,t.latitude]),o.once("open",(e=>{var t,o;null===(o=(t=s.current.props).onOpen)||void 0===o||o.call(t,e)})),o}),[]);if(e.useEffect((()=>{const e=e=>{var t,o;null===(o=(t=s.current.props).onClose)||void 0===o||o.call(t,e)};return l.on("close",e),l.setDOMContent(i).addTo(n.getMap()),()=>{l.off("close",e),l.isOpen()&&l.remove()}}),[]),e.useEffect((()=>{B(l.getElement(),t.style)}),[t.style]),e.useImperativeHandle(o,(()=>l),[]),l.isOpen()&&(l.getLngLat().lng===t.longitude&&l.getLngLat().lat===t.latitude||l.setLngLat([t.longitude,t.latitude]),t.offset&&!_(l.options.offset,t.offset)&&l.setOffset(t.offset),l.options.anchor===t.anchor&&l.options.maxWidth===t.maxWidth||(l.options.anchor=t.anchor,l.setMaxWidth(t.maxWidth)),l.options.className!==t.className)){const e=Z(l.options.className),o=Z(t.className);for(const t of e)o.has(t)||l.removeClassName(t);for(const t of o)e.has(t)||l.addClassName(t);l.options.className=t.className}return a.createPortal(t.children,i)}))),e.memo((function(t){const o=U((({mapLib:e})=>new e.AttributionControl(t)),{position:t.position});return e.useEffect((()=>{B(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=U((({mapLib:e})=>new e.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})),{position:t.position});return e.useEffect((()=>{B(o._controlContainer,t.style)}),[t.style]),null})),e.memo(e.forwardRef((function(t,o){const n=e.useRef({props:t}),r=U((({mapLib:e})=>{const o=new e.GeolocateControl(t),r=o._setupUI;return o._setupUI=e=>{o._container.hasChildNodes()||r(e)},o.on("geolocate",(e=>{var t,o;null===(o=(t=n.current.props).onGeolocate)||void 0===o||o.call(t,e)})),o.on("error",(e=>{var t,o;null===(o=(t=n.current.props).onError)||void 0===o||o.call(t,e)})),o.on("outofmaxbounds",(e=>{var t,o;null===(o=(t=n.current.props).onOutOfMaxBounds)||void 0===o||o.call(t,e)})),o.on("trackuserlocationstart",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationStart)||void 0===o||o.call(t,e)})),o.on("trackuserlocationend",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationEnd)||void 0===o||o.call(t,e)})),o}),{position:t.position});return n.current.props=t,e.useImperativeHandle(o,(()=>r),[]),e.useEffect((()=>{B(r._container,t.style)}),[t.style]),null}))),e.memo((function(t){const o=U((({mapLib:e})=>new e.NavigationControl(t)),{position:t.position});return e.useEffect((()=>{B(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=U((({mapLib:e})=>new e.ScaleControl(t)),{position:t.position}),n=e.useRef(t),r=n.current;n.current=t;const{style:i}=t;return void 0!==t.maxWidth&&t.maxWidth!==r.maxWidth&&(o.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==r.unit&&o.setUnit(t.unit),e.useEffect((()=>{B(o._container,i)}),[i]),null}));const J=s((()=>import("./vendor-2c589def.js").then((e=>e.m))),["assets/vendor-2c589def.js","assets/deck-92512e48.js"]),V=e.forwardRef((function(e,t){return H(e,t,J)}));function G({styleUrl:o,children:n,layers:r=[],viewState:i,onViewStateChange:a,territoriesVisible:s={navajo:!0,hopi:!0,zuni:!0,others:!1}}){const l={longitude:-109.55,latitude:36.15,zoom:7.5,pitch:45,bearing:0,maxPitch:85,minZoom:2,maxZoom:20,transitionDuration:1e3},[c,d]=e.useState(l),[p,u]=e.useState(!1),[h,m]=e.useState(null),g=i||c,[y,x]=e.useState(null),v=e.useCallback((()=>{}),[g]);e.useEffect((()=>{const e=e=>{"c"!==e.key&&"C"!==e.key||v()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[v]),e.useEffect((()=>{if(h)try{const e=(e,t)=>{if(t){const t=["==",["get","Slug"],e],o=`territory-${e}`;if(h.getLayer(o))h.setLayoutProperty(o,"visibility","visible");else if(h.getLayer("native-land-territories")){h.getLayer("native-land-territories");h.addLayer({id:o,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:t,paint:{"fill-color":"navajo"===e?"hsla(0, 99%, 61%, 0.5)":"hopi"===e?"hsla(294, 66%, 34%, 0.5)":"zuni"===e?"hsla(249, 70%, 59%, 0.5)":"hsla(156, 66%, 34%, 0.3)","fill-outline-color":"navajo"===e?"hsl(0, 99%, 41%)":"hopi"===e?"hsl(294, 66%, 24%)":"zuni"===e?"hsl(249, 70%, 39%)":"hsl(156, 66%, 24%)"}})}}else{const t=`territory-${e}`;h.getLayer(t)&&h.setLayoutProperty(t,"visibility","none")}};if(["native-land-territories","native-land-labels"].forEach((e=>{h.getLayer(e)&&h.setLayoutProperty(e,"visibility","none")})),e("navajo",s.navajo),e("hopi",s.hopi),e("zuni",s.zuni),s.others){const e="territory-others";h.getLayer(e)?h.setLayoutProperty(e,"visibility","visible"):h.addLayer({id:e,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]],paint:{"fill-color":"hsla(156, 66%, 34%, 0.3)","fill-outline-color":"hsl(156, 66%, 24%)"}})}else{const e="territory-others";h.getLayer(e)&&h.setLayoutProperty(e,"visibility","none")}}catch(e){}}),[h,s]),i&&(!y||Math.abs(i.zoom-((null==y?void 0:y.zoom)||0))>.1||Math.abs(i.pitch-((null==y?void 0:y.pitch)||0))>1||Math.abs(i.bearing-((null==y?void 0:y.bearing)||0))>1)&&x(i);const b=(e=>{const t=JSON.parse(JSON.stringify(e)),o=s.navajo,n=s.hopi,r=s.zuni,i=s.others;return o||n||r||i?(t.layers=t.layers.map((e=>{if("native-land-territories"===e.id||"native-land-labels"===e.id){const t=["any"];return o&&t.push(["==",["get","Slug"],"navajo"]),n&&t.push(["==",["get","Slug"],"hopi"]),r&&t.push(["==",["get","Slug"],"zuni"]),i&&t.push(["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]]),{...e,filter:t}}return e})),t):(t.layers=t.layers.filter((e=>"native-land-territories"!==e.id&&"native-land-labels"!==e.id)),t)})({version:8,name:"Indigenous Territories Map",sources:{"mapbox-satellite":{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},"mapbox-dem":{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:17},"native-land":{type:"vector",url:"mapbox://nativeland.4pgB_next_nld_terr_prod_layer"},"jackson-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Jackson Expedition Route"},geometry:{type:"LineString",coordinates:[[-111.65,35.19],[-110.87,35.6],[-110.45,35.73],[-110.17,36.31],[-109.87,36.99]]}}},"hillers-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Hillers Expedition Route"},geometry:{type:"LineString",coordinates:[[-110.67,36.92],[-110.5,36.54],[-110.09,36.11],[-109.87,35.83],[-109.54,35.52]]}}},"expedition-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Canyon de Chelly",expedition:"Jackson",description:"Major photography site"},geometry:{type:"Point",coordinates:[-109.47,36.13]}},{type:"Feature",properties:{name:"Walpi",expedition:"Hillers",description:"Hopi village photography"},geometry:{type:"Point",coordinates:[-110.39,35.87]}},{type:"Feature",properties:{name:"Monument Valley",expedition:"Jackson",description:"Iconic landscape photography"},geometry:{type:"Point",coordinates:[-110.11,36.98]}},{type:"Feature",properties:{name:"Window Rock",expedition:"Hillers",description:"Cultural documentation"},geometry:{type:"Point",coordinates:[-109.05,35.68]}}]}},"chicago-route":{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[-87.63,41.88],[-111.89,40.76],[-110.55,36.15]]}}},"origin-destination-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chicago",type:"origin",description:"Starting point for expeditions"},geometry:{type:"Point",coordinates:[-87.63,41.88]}},{type:"Feature",properties:{name:"Washington D.C.",type:"destination",description:"Smithsonian Institution"},geometry:{type:"Point",coordinates:[-77.03,38.9]}},{type:"Feature",properties:{name:"Salt Lake City",type:"waypoint",description:"Supply point for expeditions"},geometry:{type:"Point",coordinates:[-111.89,40.76]}},{type:"Feature",properties:{name:"Mexico City",type:"destination",description:"Exhibition location"},geometry:{type:"Point",coordinates:[-99.13,19.43]}},{type:"Feature",properties:{name:"New York",type:"destination",description:"Exhibition venue"},geometry:{type:"Point",coordinates:[-73.94,40.67]}}]}},"general-image-locations":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chaco Canyon",type:"photo-site",description:"Archaeological site photography"},geometry:{type:"Point",coordinates:[-107.96,36.06]}},{type:"Feature",properties:{name:"Grand Canyon",type:"photo-site",description:"Landscape photography"},geometry:{type:"Point",coordinates:[-112.11,36.1]}},{type:"Feature",properties:{name:"Yellowstone",type:"photo-site",description:"National park documentation"},geometry:{type:"Point",coordinates:[-110.58,44.42]}}]}}},sprite:"mapbox://sprites/mapbox/satellite-streets-v12",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",terrain:{source:"mapbox-dem",exaggeration:1.5},layers:[{id:"satellite",type:"raster",source:"mapbox-satellite",minzoom:0,maxzoom:22},{id:"native-land-territories",type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",paint:{"fill-color":["match",["get","Slug"],["navajo"],"hsla(0, 99%, 61%, 0.5)",["hopi"],"hsla(294, 66%, 34%, 0.5)",["zuni"],"hsla(249, 70%, 59%, 0.5)","hsla(156, 66%, 34%, 0.3)"],"fill-outline-color":["match",["get","Slug"],["navajo"],"hsl(0, 99%, 41%)",["hopi"],"hsl(294, 66%, 24%)",["zuni"],"hsl(249, 70%, 39%)","hsl(156, 66%, 24%)"]}},{id:"native-land-labels",type:"symbol",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",layout:{"text-field":["get","Name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":12,"text-max-width":10,"text-variable-anchor":["center"],"text-justify":"center","text-radial-offset":.5},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.7)","text-halo-width":1.5}},{id:"jackson-expedition-route-line",type:"line",source:"jackson-expedition-route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(199, 100%, 43%)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"hillers-expedition-route-line",type:"line",source:"hillers-expedition-route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(0, 100%, 61%, 0.83)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"expedition-points",type:"circle",source:"expedition-points",paint:{"circle-radius":10,"circle-color":["match",["get","expedition"],"Jackson","hsl(199, 100%, 43%)","Hillers","hsla(0, 100%, 61%, 0.83)","lightgray"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"expedition-point-labels",type:"symbol",source:"expedition-points",layout:{"text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"origin-destination-markers",type:"circle",source:"origin-destination-points",paint:{"circle-radius":12,"circle-color":["match",["get","type"],"origin","hsl(54, 100%, 50%)","destination","hsl(54, 100%, 50%)","waypoint","hsl(54, 100%, 40%)","hsl(54, 100%, 50%)"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"origin-destination-labels",type:"symbol",source:"origin-destination-points",layout:{"text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0,"text-justify":"center","text-max-width":10},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"general-photo-markers",type:"circle",source:"general-image-locations",paint:{"circle-radius":10,"circle-color":"hsl(30, 100%, 50%)","circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.2}},{id:"general-photo-labels",type:"symbol",source:"general-image-locations",layout:{"text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"chicago-to-arizona-line",type:"line",source:"chicago-route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(54, 72%, 49%, 0.8)","line-width":5,"line-dasharray":[2,1],"line-blur":1}}]});e.useEffect((()=>{}),[s]);const[_,w]=e.useState(null);return e.useEffect((()=>{if(null==i?void 0:i.transitionDuration){w(0);const e=i.transitionDuration,t=Date.now(),o=setInterval((()=>{const n=Date.now()-t,r=Math.min(1,n/e);let a=r;if(i.transitionEasing&&"function"==typeof i.transitionEasing)try{a=i.transitionEasing(r)}catch(s){}w(a),r>=1&&(setTimeout((()=>{w(null)}),500),clearInterval(o))}),50);return()=>clearInterval(o)}}),[i]),e.useEffect((()=>{h&&null!==_&&h.triggerRepaint()}),[h,_]),f.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[f.jsx("div",{style:{position:"absolute",top:10,left:10,zIndex:10,background:"white",padding:"5px"},children:"Indigenous Territory Map - Navajo Nation"}),f.jsx("div",{style:{position:"absolute",bottom:30,right:10,zIndex:10,background:"rgba(255,255,255,0.7)",padding:"5px",fontSize:"12px",borderRadius:"4px"},children:"Press C to capture camera position"}),null!==_&&f.jsxs("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",zIndex:20,background:"rgba(0,0,0,0.7)",padding:"8px 16px",borderRadius:"20px",color:"white",fontSize:"14px",display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("div",{style:{width:"100px",height:"5px",background:"rgba(255,255,255,0.3)",borderRadius:"2px",overflow:"hidden"},children:f.jsx("div",{style:{height:"100%",width:100*_+"%",background:"white",transition:"width 0.1s ease"}})}),f.jsxs("span",{children:["Loading view... ",Math.round(100*_),"%"]})]}),f.jsxs(t,{initialViewState:l,viewState:g,controller:{scrollZoom:{speed:.005,smooth:!0},dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!0,keyboard:!0,inertia:!0},onViewStateChange:({viewState:e})=>{const t={...e};d(t),a&&a({viewState:t})},layers:r,onError:e=>{},children:[f.jsx(V,{id:"main",mapboxAccessToken:"pk.eyJ1Ijoic3R1ZGlvLW9ycGltZW50IiwiYSI6ImNtOTFxZGI1ZzAzdDEycnBzbHZhNHdvbHMifQ.4z6bo58xtenHNY2vwt39Gg",mapStyle:b,onLoad:e=>{u(!0),m(e.target)}}),p&&n]})]})}const Y={"mystic-lake":{id:"mystic-lake",name:"Mystic Lake, Montana",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.7",description:"Mystic Lake, Montana Territory",coordinates:{latitude:45.5453506,longitude:-110.9193637},elevation_feet:6398,elevation_meters:1950,camera:{viewpoint:{latitude:45.5461,longitude:-110.9215,elevation:6420},bearing:135,pitch:-5,zoom:14.2,fov:60},overlay:{opacity:.5,bounds:[[-110.924,45.544],[-110.917,45.548]]},image_url:"/assets/img/P.48.1.7.jpg"},"gallatin-headwaters":{id:"gallatin-headwaters",name:"Headwaters of the Gallatin Mountains",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.16",description:"Headwaters of the Gallatin Mountains",coordinates:{latitude:44.9632,longitude:-111.0573},elevation_feet:8500,elevation_meters:2591,camera:{viewpoint:{latitude:44.963,longitude:-111.058,elevation:8520},bearing:95,pitch:-10,zoom:16.5,fov:50},overlay:{opacity:.5,bounds:[[-111.059,44.9625],[-111.0565,44.964]]},image_url:"/assets/img/P.48.1.16.jpg"},"mammoth-hot-springs":{id:"mammoth-hot-springs",name:"Mammoth Hot Springs",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.8",description:"Mammoth Hot-Springs Gardiners River [Wyoming]",coordinates:{latitude:44.9772,longitude:-110.7028},elevation_feet:6200,elevation_meters:1889,camera:{viewpoint:{latitude:44.9785,longitude:-110.7045,elevation:6300},bearing:215,pitch:-15,zoom:15.5,fov:65},overlay:{opacity:.5,bounds:[[-110.707,44.975],[-110.698,44.979]]},image_url:"/assets/img/P.48.1.8.jpg"},"yellowstone-falls":{id:"yellowstone-falls",name:"Great Falls of the Yellowstone",photographer:"Jackson",year:"1871",catalog_ref:"P.48.1.9",description:"Great Falls of the Yellowstone",coordinates:{latitude:44.7181,longitude:-110.4961},elevation_feet:7500,elevation_meters:2286,camera:{viewpoint:{latitude:44.7155,longitude:-110.498,elevation:7700},bearing:65,pitch:-10,zoom:14.8,fov:55},overlay:{opacity:.5,bounds:[[-110.5,44.715],[-110.492,44.721]]},image_url:"/assets/img/P.48.1.9.jpg"},"holy-cross":{id:"holy-cross",name:"Mountain of the Holy-Cross",photographer:"Jackson",year:"1873",catalog_ref:"P.48.1.2",description:"Mountain of the Holy-Cross",coordinates:{latitude:39.4668,longitude:-106.4817},elevation_feet:14009,elevation_meters:4270,camera:{viewpoint:{latitude:39.466268,longitude:-106.478553,elevation:13800},bearing:-109.27,pitch:81.77,zoom:15.95,fov:60},overlay:{opacity:.8,bounds:[[-106.4785,39.4635],[-106.4765,39.4655]],scale:1,aspect:1.33},image_url:"/assets/img/P.48.1.2.jpg"},"mancos-canyon":{id:"mancos-canyon",name:"Mancos Canyon",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.30",description:"Ancient Ruins in the Canyon of the Mancos",coordinates:{latitude:37.3352,longitude:-108.4338},elevation_feet:6700,elevation_meters:2042,camera:{viewpoint:{latitude:37.335,longitude:-108.435,elevation:6750},bearing:65,pitch:0,zoom:16,fov:55},overlay:{opacity:.5,bounds:[[-108.436,37.334],[-108.433,37.336]]},image_url:"/assets/img/P.48.1.30.jpg"},"walpi-pueblo-1":{id:"walpi-pueblo-1",name:"Walpi Pueblo - Terraced Houses",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.20",description:"Terraced Houses at Wolpi [Walpi]",coordinates:{latitude:35.8291,longitude:-110.3885},elevation_feet:6225,elevation_meters:1897,camera:{viewpoint:{latitude:35.8295,longitude:-110.389,elevation:6240},bearing:140,pitch:-5,zoom:18.5,fov:45},overlay:{opacity:.5,bounds:[[-110.3895,35.8285],[-110.388,35.8295]]},image_url:"/assets/img/P.48.1.20.jpg"},"walpi-pueblo-2":{id:"walpi-pueblo-2",name:"Walpi Pueblo - Weaving",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.22",description:"A Moki [Hopi] Weaving [Walpi]",coordinates:{latitude:35.8291,longitude:-110.3885},elevation_feet:6225,elevation_meters:1897,camera:{viewpoint:{latitude:35.8292,longitude:-110.3883,elevation:6230},bearing:270,pitch:-5,zoom:19.8,fov:40},overlay:{opacity:.5,bounds:[[-110.3886,35.829],[-110.3882,35.8293]]},image_url:"/assets/img/P.48.1.22.jpg"},"montezuma-canyon":{id:"montezuma-canyon",name:"Montezuma Canyon",photographer:"Jackson",year:"1874-1876",catalog_ref:"P.48.1.31",description:"Ruins in the Montezuma Canyon",coordinates:{latitude:37.387,longitude:-109.3062},elevation_feet:5800,elevation_meters:1768,camera:{viewpoint:{latitude:37.3868,longitude:-109.307,elevation:5820},bearing:75,pitch:-5,zoom:16.8,fov:60},overlay:{opacity:.5,bounds:[[-109.308,37.386],[-109.305,37.388]]},image_url:"/assets/img/P.48.1.31.jpg"}};function q(e){return Y[e]||null}function $({onPhotoSelect:e=()=>{}}={}){const t=Object.values(Y);return new o({id:"photo-markers",viewId:"main",data:t,pickable:!0,opacity:1,stroked:!0,filled:!0,radiusScale:6,radiusMinPixels:6,radiusMaxPixels:12,lineWidthMinPixels:1,getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getRadius:e=>5,getFillColor:e=>"Jackson"===e.photographer?[255,87,51,255]:[75,144,226,255],getLineColor:[255,255,255,200],onClick:t=>{t.object&&e(t.object.id)},getTooltip:({object:e})=>e&&`${e.name} (${e.year})\nPhotographer: ${e.photographer}`})}function X(){const[t,o]=e.useState(null),[a,s]=e.useState(null),[l,c]=e.useState(null),d={longitude:-109.55,latitude:36.15,zoom:7.5,pitch:45,bearing:0,maxPitch:85,minZoom:2,maxZoom:20,transitionDuration:1e3},[p,u]=e.useState({navajo:!0,hopi:!0,zuni:!0,others:!1}),[h,m]=e.useState(0),[g,y]=e.useState(0),[x,v]=e.useState(0),[b,_]=e.useState(1),w=e.useCallback((e=>{u((t=>({...t,[e]:!t[e]})))}),[]),j=e.useCallback((()=>{const e=p.navajo&&p.hopi&&p.zuni&&p.others;u({navajo:!e,hopi:!e,zuni:!e,others:!e})}),[p]),S=l||d,P=e.useCallback((e=>{try{const t=q(e);if(t){s(e),m(0),y(0),v(0),_(1);let o=t.camera.pitch||60;o<0&&(o=0);const n=(null==S?void 0:S.longitude)||d.longitude,r=(null==S?void 0:S.latitude)||d.latitude,a=(null==S||S.zoom,t.camera.viewpoint.longitude),l=t.camera.viewpoint.latitude,p=t.camera.zoom||12,u=t.camera.bearing||0,h=o;Math.sqrt(Math.pow(n-a,2)+Math.pow(r-l,2));let g=1.2,f=1.5;"holy-cross"===e&&(g=1,f=1.2);const x={longitude:a,latitude:l,zoom:p,pitch:h,bearing:u,transitionDuration:3e3,transitionInterpolator:new i({speed:g,curve:f,screenSpeed:15,maxDuration:3e3}),transitionEasing:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2};c(x)}}catch(t){o(`Failed to select photo: ${t.message}`)}}),[S,d]),z=e.useMemo((()=>{const e=[$({onPhotoSelect:P,selectedPhotoId:a})];if(a){const o=q(a);if(o){const i={...o,overlay:{...o.overlay,customOffsetX:h,customOffsetY:g,customRotationY:x,scale:o.overlay.scale?o.overlay.scale*b:b}};try{const t=function(e,t=.5){var o,i,a;if(!e||!e.overlay.bounds)return null;const s=[e.overlay.bounds[0][0],e.overlay.bounds[0][1],e.overlay.bounds[1][0],e.overlay.bounds[1][1]],l=1e-4,c=e.overlay.customOffsetX?e.overlay.customOffsetX*l:0,d=e.overlay.customOffsetY?e.overlay.customOffsetY*l:0,p=[s[0]+c,s[1]+d,s[2]+c,s[3]+d],u=(p[0]+p[2])/2,h=(p[1]+p[3])/2,m=e.overlay.aspect||1.5,g=e.overlay.scale||1,y=Math.abs(s[2]-s[0]),f=Math.abs(s[3]-s[1]);let x,v;y/f>m?(x=f*m,v=f):(x=y,v=y/m),x*=g,v*=g;const b=(null==(o=e.camera)?void 0:o.bearing)||0,_=(null==(i=e.camera)?void 0:i.pitch)||0,w=(null==(a=e.overlay)?void 0:a.customRotationY)||0,j=[u-x/2,h-v/2,u+x/2,h+v/2],S=new Image;S.crossOrigin="anonymous",S.src=e.image_url.startsWith("/")?window.location.origin+e.image_url:e.image_url,S.onload=()=>{},S.onerror=e=>{};let P=null;try{P=new n,P.translate([u,h,0]),P.rotateX(Math.PI/2),0!==b&&P.rotateZ(b*Math.PI/180),0!==w&&P.rotateY(w*Math.PI/180),0!==_&&P.rotateX(_*Math.PI/180),P.translate([-u,-h,0])}catch(z){}return new r({id:`photo-overlay-${e.id}`,bounds:j,image:e.image_url.startsWith("/")?window.location.origin+e.image_url:e.image_url,opacity:t,modelMatrix:P,parameters:{depthTest:!1}})}(i,.8);t&&e.push(t)}catch(t){}}}return e}),[a,P,h,g,x,b]),k=a?q(a):null;return f.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:[f.jsxs("div",{style:{position:"absolute",top:10,left:10,zIndex:10,background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 0 10px rgba(0,0,0,0.3)"},children:[f.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"16px"},children:"Indigenous Territories & Expeditions"}),f.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:[f.jsxs("div",{children:[f.jsx("span",{style:{color:"hsla(0, 99%, 61%, 0.83)",fontWeight:"bold"},children:"▬▬▬"})," Hillers Expedition"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"hsl(199, 100%, 43%)",fontWeight:"bold"},children:"▬▬▬"})," Jackson Expedition"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"hsla(54, 72%, 49%, 0.6)",fontWeight:"bold"},children:"▬▬▬"})," Travel Routes"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"hsl(54, 100%, 50%)",fontWeight:"bold"},children:"●"})," Major Cities"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"hsl(30, 100%, 50%)",fontWeight:"bold"},children:"●"})," General Photo Locations"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"rgb(255, 87, 51)",fontWeight:"bold"},children:"●"})," Jackson Photos"]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"rgb(75, 144, 226)",fontWeight:"bold"},children:"●"})," Hillers Photos"]})]}),f.jsxs("div",{style:{borderTop:"1px solid #ddd",paddingTop:"8px",marginTop:"5px"},children:[f.jsx("h4",{style:{margin:"0 0 5px 0",fontSize:"14px"},children:"Territory Visibility"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"12px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:p.navajo,onChange:()=>w("navajo"),style:{marginRight:"5px"}}),f.jsx("span",{style:{color:"hsla(0, 99%, 61%, 0.83)"},children:"Diné (Navajo)"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:p.hopi,onChange:()=>w("hopi"),style:{marginRight:"5px"}}),f.jsx("span",{style:{color:"hsla(294, 66%, 34%, 0.83)"},children:"Hopi"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:p.zuni,onChange:()=>w("zuni"),style:{marginRight:"5px"}}),f.jsx("span",{style:{color:"hsla(249, 70%, 59%, 0.83)"},children:"Zuni"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:p.others,onChange:()=>w("others"),style:{marginRight:"5px"}}),f.jsx("span",{style:{color:"hsla(156, 66%, 34%, 0.83)"},children:"Other Territories"})]}),f.jsx("button",{onClick:j,style:{marginTop:"5px",padding:"3px",fontSize:"11px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"3px",cursor:"pointer"},children:p.navajo&&p.hopi&&p.zuni&&p.others?"Hide All":"Show All"})]})]})]}),t&&f.jsxs("div",{style:{position:"absolute",top:50,left:10,zIndex:10,background:"red",color:"white",padding:"10px"},children:["Error: ",t]}),k&&f.jsxs("div",{style:{position:"absolute",top:10,right:10,zIndex:10,background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"4px",maxWidth:"320px",boxShadow:"0 0 10px rgba(0,0,0,0.3)",maxHeight:"90vh",overflowY:"auto"},children:[f.jsx("h3",{style:{margin:"0 0 5px 0"},children:k.name}),f.jsxs("p",{style:{margin:"0 0 5px 0",fontSize:"14px"},children:["Photographer: ",k.photographer,", ",k.year]}),f.jsx("div",{style:{margin:"10px 0",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxHeight:"250px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5"},children:f.jsx("img",{src:k.image_url.startsWith("/")?window.location.origin+k.image_url:k.image_url,alt:k.name,style:{maxWidth:"100%",maxHeight:"250px",objectFit:"contain"}})}),f.jsx("p",{style:{margin:"5px 0",fontSize:"12px"},children:k.description}),f.jsxs("div",{style:{fontSize:"11px",color:"#666",margin:"5px 0"},children:[f.jsxs("div",{children:["Location: ",k.coordinates.latitude.toFixed(4),", ",k.coordinates.longitude.toFixed(4)]}),f.jsxs("div",{children:["Elevation: ",k.elevation_feet,"ft (",k.elevation_meters,"m)"]}),f.jsxs("div",{children:["Camera Zoom: ",k.camera.zoom]})]}),f.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #ddd",paddingTop:"8px"},children:[f.jsx("h4",{style:{margin:"0 0 5px 0",fontSize:"14px"},children:"Adjust Photo Position:"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[f.jsx("label",{style:{width:"80px",fontSize:"12px"},children:"Position X:"}),f.jsx("input",{type:"range",min:"-50",max:"50",value:h,onChange:e=>m(Number(e.target.value)),style:{flex:1}}),f.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",width:"30px"},children:h})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[f.jsx("label",{style:{width:"80px",fontSize:"12px"},children:"Position Y:"}),f.jsx("input",{type:"range",min:"-50",max:"50",value:g,onChange:e=>y(Number(e.target.value)),style:{flex:1}}),f.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",width:"30px"},children:g})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[f.jsx("label",{style:{width:"80px",fontSize:"12px"},children:"Rotation:"}),f.jsx("input",{type:"range",min:"-180",max:"180",value:x,onChange:e=>v(Number(e.target.value)),style:{flex:1}}),f.jsxs("span",{style:{marginLeft:"5px",fontSize:"12px",width:"30px"},children:[x,"°"]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[f.jsx("label",{style:{width:"80px",fontSize:"12px"},children:"Scale:"}),f.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:b,onChange:e=>_(Number(e.target.value)),style:{flex:1}}),f.jsxs("span",{style:{marginLeft:"5px",fontSize:"12px",width:"30px"},children:[b,"x"]})]}),f.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[f.jsx("button",{onClick:()=>{m(0),y(0),v(0),_(1)},style:{padding:"5px 10px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Reset Adjustments"}),f.jsx("button",{onClick:()=>s(null),style:{padding:"5px 10px",background:"#4a90e2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Close"})]})]})]}),f.jsx(G,{styleUrl:"/assets/geojson/mapBoxStyle.json",layers:z,viewState:l,onViewStateChange:({viewState:e})=>c(e),territoriesVisible:p})]})}x.createRoot(document.getElementById("root")).render(f.jsx(X,{}));

import{r as e,D as t,C as o,I as i,T as n,R as a,F as r,G as s}from"./deck-6141ea75.js";import{r as l,_ as c}from"./vendor-3a77807a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var d={exports:{}},p={},h=e,u=Symbol.for("react.element"),g=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,f=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function v(e,t,o){var i,n={},a=null,r=null;for(i in void 0!==o&&(a=""+o),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(r=t.ref),t)m.call(t,i)&&!y.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===n[i]&&(n[i]=t[i]);return{$$typeof:u,type:e,key:a,ref:r,props:n,_owner:f.current}}p.Fragment=g,p.jsx=v,p.jsxs=v,d.exports=p;var b=d.exports,x={},w=l;x.createRoot=w.createRoot,x.hydrateRoot=w.hydrateRoot;const k=e.createContext(null);function _(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!_(e[o],t[o]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(const n of o){if(!t.hasOwnProperty(n))return!1;if(!_(e[n],t[n]))return!1}return!0}return!1}function S(e,t){if(!e.getProjection)return;const o=e.getProjection();_(o,t.getProjection())||t.setProjection(o)}function P(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function C(e,t){const o=t.viewState||t;let i=!1;if("zoom"in o){const t=e.zoom;e.zoom=o.zoom,i=i||t!==e.zoom}if("bearing"in o){const t=e.bearing;e.bearing=o.bearing,i=i||t!==e.bearing}if("pitch"in o){const t=e.pitch;e.pitch=o.pitch,i=i||t!==e.pitch}if(o.padding&&!e.isPaddingEqual(o.padding)&&(i=!0,e.padding=o.padding),"longitude"in o&&"latitude"in o){const t=e.center;e.center=new t.constructor(o.longitude,o.latitude),i=i||t!==e.center}return i}const z=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function j(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const i of e.layers)t[i.id]=i;const o=e.layers.map((e=>{let o=null;"interactive"in e&&(o=Object.assign({},e),delete o.interactive);const i=t[e.ref];if(i){o=o||Object.assign({},e),delete o.ref;for(const e of z)e in i&&(o[e]=i[e])}return o||e}));return{...e,layers:o}}const E={version:8,sources:{},layers:[]},T={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},I={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},M={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},H=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],A=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class L{constructor(e,t,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[M[e.type]];t?t(e):e.type},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[T[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[I[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const o=this._updateSettings(e,t);o&&this._createShadowTransform(this._map);const i=this._updateSize(e),n=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(o||i||n&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const o=L.savedMaps.pop();if(!o)return null;const i=o.map,n=i.getContainer();for(t.className=n.className;n.childNodes.length>0;)t.appendChild(n.childNodes[0]);i._container=t;const a=i._resizeObserver;a&&(a.disconnect(),a.observe(t)),o.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:r}=e;return r&&(r.bounds?i.fitBounds(r.bounds,{...r.fitBoundsOptions,duration:0}):o._updateViewState(r,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",(()=>i.fire("load"))),i._update(),o}_initialize(e){const{props:t}=this,{mapStyle:o=E}=t,i={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||D()||null,container:e,style:j(o)},n=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const a=new this._MapClass(i);n.padding&&a.setPadding(n.padding),t.cursor&&(a.getCanvas().style.cursor=t.cursor),this._createShadowTransform(a);const r=a._render;a._render=e=>{this._inRender=!0,r.call(a,e),this._inRender=!1};const s=a._renderTaskQueue.run;a._renderTaskQueue.run=e=>{s.call(a._renderTaskQueue,e),this._onBeforeRepaint()},a.on("render",(()=>this._onAfterRepaint()));const l=a.fire;a.fire=this._fireEvent.bind(this,l),a.on("resize",(()=>{this._renderTransform.resize(a.transform.width,a.transform.height)})),a.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),S(a.transform,this._renderTransform)})),a.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const c in T)a.on(c,this._onPointerEvent);for(const c in I)a.on(c,this._onCameraEvent);for(const c in M)a.on(c,this._onEvent);this._map=a}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null==e||e.remove(),L.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const o=this._map,i=this._renderTransform,{zoom:n,pitch:a,bearing:r}=i,s=o.isMoving();s&&(i.cameraElevationReference="sea");const l=C(i,{...P(o.transform),...e});if(s&&(i.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=n!==i.zoom),e.rotate||(e.rotate=r!==i.bearing),e.pitch||(e.pitch=a!==i.pitch)}return s||C(o.transform,e),l}_updateSettings(e,t){const o=this._map;let i=!1;for(const n of H)if(n in e&&!_(e[n],t[n])){i=!0;const t=o[`set${n[0].toUpperCase()}${n.slice(1)}`];null==t||t.call(o,e[n])}return i}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=E,styleDiffing:o=!0}=e,i={diff:o};return"localIdeographFontFamily"in e&&(i.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(j(t),i),!0}return!1}_updateStyleComponents(e,t){const o=this._map;let i=!1;return o.isStyleLoaded()&&("light"in e&&o.setLight&&!_(e.light,t.light)&&(i=!0,o.setLight(e.light)),"fog"in e&&o.setFog&&!_(e.fog,t.fog)&&(i=!0,o.setFog(e.fog)),"terrain"in e&&o.setTerrain&&!_(e.terrain,t.terrain)&&(e.terrain&&!o.getSource(e.terrain.source)||(i=!0,o.setTerrain(e.terrain)))),i}_updateHandlers(e,t){var o,i;const n=this._map;let a=!1;for(const r of A){const s=null===(o=e[r])||void 0===o||o;_(s,null===(i=t[r])||void 0===i||i)||(a=!0,s?n[r].enable(s):n[r].disable())}return a}_queryRenderedFeatures(e){const t=this._map,o=t.transform,{interactiveLayerIds:i=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:i.filter(t.getLayer.bind(t))})}catch(n){return[]}finally{t.transform=o}}_updateHover(e){var t;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const o=e.type,i=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,n=this._queryRenderedFeatures(e.point),a=n.length>0;!a&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,a&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}_fireEvent(e,t,o){const i=this._map,n=i.transform,a="string"==typeof t?t:t.type;return"move"===a&&this._updateViewState(this.props,!1),a in I&&("object"==typeof t&&(t.viewState=P(n)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,t,o),i.transform=n,i):(e.call(i,t,o),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&e.fire(o);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{S(this._renderTransform,t),e.transform=t}}}function D(){let e=null;if("undefined"!=typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch(t){}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(o){}return e}L.savedMaps=[];const R=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function O(e){if(!e)return null;const t=e.map,o={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>{const i=t.transform;t.transform=e.transform;const n=t.project(o);return t.transform=i,n},unproject:o=>{const i=t.transform;t.transform=e.transform;const n=t.unproject(o);return t.transform=i,n},queryTerrainElevation:(o,i)=>{const n=t.transform;t.transform=e.transform;const a=t.queryTerrainElevation(o,i);return t.transform=n,a},queryRenderedFeatures:(o,i)=>{const n=t.transform;t.transform=e.transform;const a=t.queryRenderedFeatures(o,i);return t.transform=n,a}};for(const i of function(e){const t=new Set;let o=e;for(;o;){for(const i of Object.getOwnPropertyNames(o))"_"!==i[0]&&"function"==typeof e[i]&&"fire"!==i&&"setEventedParent"!==i&&t.add(i);o=Object.getPrototypeOf(o)}return Array.from(t)}(t))i in o||R.includes(i)||(o[i]=t[i].bind(t));return o}const N="undefined"!=typeof document?e.useLayoutEffect:e.useEffect,W=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const B=e.createContext(null);function F(t,o,i){const n=e.useContext(k),[a,r]=e.useState(null),s=e.useRef(),{current:l}=e.useRef({mapLib:null,map:null});e.useEffect((()=>{const e=t.mapLib;let o,a=!0;return Promise.resolve(e||i).then((e=>{if(!a)return;if(!e)throw new Error("Invalid mapLib");const i="Map"in e?e:e.default;if(!i.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const i of W)i in t&&(e[i]=t[i]);const{RTLTextPlugin:o="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;o&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(o,(e=>{}),!0)}(i,t),i.supported&&!i.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(o=L.reuse(t,s.current)),o||(o=new L(i.Map,t,s.current)),l.map=O(o),l.mapLib=i,r(o),null==n||n.onMapMount(l.map,t.id)})).catch((e=>{const{onError:o}=t;o&&o({type:"error",target:null,originalEvent:null,error:e})})),()=>{a=!1,o&&(null==n||n.onMapUnmount(t.id),t.reuseMaps?o.recycle():o.destroy())}}),[]),N((()=>{a&&a.setProps(t)})),e.useImperativeHandle(o,(()=>l.map),[a]);const c=e.useMemo((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return e.createElement("div",{id:t.id,ref:s,style:c},a&&e.createElement(B.Provider,{value:l},e.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}const Z=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function U(e,t){if(!e||!t)return;const o=e.style;for(const i in t){const e=t[i];Number.isFinite(e)&&!Z.test(i)?o[i]=`${e}px`:o[i]=e}}function V(e){return new Set(e?e.trim().split(/\s+/):[])}function J(t,o,i,n){const a=e.useContext(B),r=e.useMemo((()=>t(a)),[]);return e.useEffect((()=>{const e=n||i||o,t="function"==typeof o&&"function"==typeof i?o:null,s="function"==typeof i?i:"function"==typeof o?o:null,{map:l}=a;return l.hasControl(r)||(l.addControl(r,null==e?void 0:e.position),t&&t(a)),()=>{s&&s(a),l.hasControl(r)&&l.removeControl(r)}}),[]),r}e.memo(e.forwardRef((function(t,o){const{map:i,mapLib:n}=e.useContext(B),a=e.useRef({props:t});a.current.props=t;const r=e.useMemo((()=>{let o=!1;e.Children.forEach(t.children,(e=>{e&&(o=!0)}));const i={...t,element:o?document.createElement("div"):null},s=new n.Marker(i);return s.setLngLat([t.longitude,t.latitude]),s.getElement().addEventListener("click",(e=>{var t,o;null===(o=(t=a.current.props).onClick)||void 0===o||o.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,o;const i=e;i.lngLat=r.getLngLat(),null===(o=(t=a.current.props).onDragStart)||void 0===o||o.call(t,i)})),s.on("drag",(e=>{var t,o;const i=e;i.lngLat=r.getLngLat(),null===(o=(t=a.current.props).onDrag)||void 0===o||o.call(t,i)})),s.on("dragend",(e=>{var t,o;const i=e;i.lngLat=r.getLngLat(),null===(o=(t=a.current.props).onDragEnd)||void 0===o||o.call(t,i)})),s}),[]);e.useEffect((()=>(r.addTo(i.getMap()),()=>{r.remove()})),[]);const{longitude:s,latitude:c,offset:d,style:p,draggable:h=!1,popup:u=null,rotation:g=0,rotationAlignment:m="auto",pitchAlignment:f="auto"}=t;return e.useEffect((()=>{U(r.getElement(),p)}),[p]),e.useImperativeHandle(o,(()=>r),[]),r.getLngLat().lng===s&&r.getLngLat().lat===c||r.setLngLat([s,c]),d&&!function(e,t){const o=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,n=Array.isArray(t)?t[0]:t?t.x:0,a=Array.isArray(t)?t[1]:t?t.y:0;return o===n&&i===a}(r.getOffset(),d)&&r.setOffset(d),r.isDraggable()!==h&&r.setDraggable(h),r.getRotation()!==g&&r.setRotation(g),r.getRotationAlignment()!==m&&r.setRotationAlignment(m),r.getPitchAlignment()!==f&&r.setPitchAlignment(f),r.getPopup()!==u&&r.setPopup(u),l.createPortal(t.children,r.getElement())}))),e.memo(e.forwardRef((function(t,o){const{map:i,mapLib:n}=e.useContext(B),a=e.useMemo((()=>document.createElement("div")),[]),r=e.useRef({props:t});r.current.props=t;const s=e.useMemo((()=>{const e={...t},o=new n.Popup(e);return o.setLngLat([t.longitude,t.latitude]),o.once("open",(e=>{var t,o;null===(o=(t=r.current.props).onOpen)||void 0===o||o.call(t,e)})),o}),[]);if(e.useEffect((()=>{const e=e=>{var t,o;null===(o=(t=r.current.props).onClose)||void 0===o||o.call(t,e)};return s.on("close",e),s.setDOMContent(a).addTo(i.getMap()),()=>{s.off("close",e),s.isOpen()&&s.remove()}}),[]),e.useEffect((()=>{U(s.getElement(),t.style)}),[t.style]),e.useImperativeHandle(o,(()=>s),[]),s.isOpen()&&(s.getLngLat().lng===t.longitude&&s.getLngLat().lat===t.latitude||s.setLngLat([t.longitude,t.latitude]),t.offset&&!_(s.options.offset,t.offset)&&s.setOffset(t.offset),s.options.anchor===t.anchor&&s.options.maxWidth===t.maxWidth||(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth)),s.options.className!==t.className)){const e=V(s.options.className),o=V(t.className);for(const t of e)o.has(t)||s.removeClassName(t);for(const t of o)e.has(t)||s.addClassName(t);s.options.className=t.className}return l.createPortal(t.children,a)}))),e.memo((function(t){const o=J((({mapLib:e})=>new e.AttributionControl(t)),{position:t.position});return e.useEffect((()=>{U(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=J((({mapLib:e})=>new e.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})),{position:t.position});return e.useEffect((()=>{U(o._controlContainer,t.style)}),[t.style]),null})),e.memo(e.forwardRef((function(t,o){const i=e.useRef({props:t}),n=J((({mapLib:e})=>{const o=new e.GeolocateControl(t),n=o._setupUI;return o._setupUI=e=>{o._container.hasChildNodes()||n(e)},o.on("geolocate",(e=>{var t,o;null===(o=(t=i.current.props).onGeolocate)||void 0===o||o.call(t,e)})),o.on("error",(e=>{var t,o;null===(o=(t=i.current.props).onError)||void 0===o||o.call(t,e)})),o.on("outofmaxbounds",(e=>{var t,o;null===(o=(t=i.current.props).onOutOfMaxBounds)||void 0===o||o.call(t,e)})),o.on("trackuserlocationstart",(e=>{var t,o;null===(o=(t=i.current.props).onTrackUserLocationStart)||void 0===o||o.call(t,e)})),o.on("trackuserlocationend",(e=>{var t,o;null===(o=(t=i.current.props).onTrackUserLocationEnd)||void 0===o||o.call(t,e)})),o}),{position:t.position});return i.current.props=t,e.useImperativeHandle(o,(()=>n),[]),e.useEffect((()=>{U(n._container,t.style)}),[t.style]),null}))),e.memo((function(t){const o=J((({mapLib:e})=>new e.NavigationControl(t)),{position:t.position});return e.useEffect((()=>{U(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=J((({mapLib:e})=>new e.ScaleControl(t)),{position:t.position}),i=e.useRef(t),n=i.current;i.current=t;const{style:a}=t;return void 0!==t.maxWidth&&t.maxWidth!==n.maxWidth&&(o.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==n.unit&&o.setUnit(t.unit),e.useEffect((()=>{U(o._container,a)}),[a]),null}));const G=c((()=>import("./vendor-3a77807a.js").then((e=>e.m))),["assets/vendor-3a77807a.js","assets/deck-6141ea75.js"]),K=e.forwardRef((function(e,t){return F(e,t,G)}));const Y="pk.eyJ1Ijoic3R1ZGlvLW9ycGltZW50IiwiYSI6ImNtOTFxZGI1ZzAzdDEycnBzbHZhNHdvbHMifQ.4z6bo58xtenHNY2vwt39Gg";function q({styleUrl:o,children:i,layers:n=[],viewState:a,onViewStateChange:r,territoriesVisible:s={navajo:!0,hopi:!0,zuni:!0,others:!1},showMapboxMarkers:l=!1,deckRef:c}){const d={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},[p,h]=e.useState(d),[u,g]=e.useState(!1),[m,f]=e.useState(null),y=a||p,v=e.useCallback((()=>{}),[y]);e.useEffect((()=>{const e=e=>{"c"!==e.key&&"C"!==e.key||v()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[v]),e.useEffect((()=>{if(m)try{const e=(e,t)=>{if(t){const o=["==",["get","Slug"],e],i=`territory-${e}`;if(m.getLayer(i))m.setLayoutProperty(i,"visibility","visible");else if(m.getLayer("native-land-territories")){m.getLayer("native-land-territories");m.addLayer({id:i,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:o,paint:{"fill-color":"navajo"===e?"hsla(0, 99%, 61%, 0.5)":"hopi"===e?"hsla(294, 66%, 34%, 0.5)":"zuni"===e?"hsla(249, 70%, 59%, 0.5)":"hsla(156, 80%, 45%, 0.1)","fill-outline-color":"navajo"===e?"hsl(0, 99%, 41%)":"hopi"===e?"hsl(294, 66%, 24%)":"zuni"===e?"hsl(249, 70%, 39%)":"hsl(156, 80%, 45%)","fill-opacity":t?1:.3}})}}else{const t=`territory-${e}`;m.getLayer(t)&&(["navajo","hopi","zuni"].includes(e)?m.setLayoutProperty(t,"visibility","visible"):m.setLayoutProperty(t,"visibility","none"))}};if(["native-land-territories","native-land-labels"].forEach((e=>{m.getLayer(e)&&m.setLayoutProperty(e,"visibility","none")})),e("navajo",s.navajo),e("hopi",s.hopi),e("zuni",s.zuni),s.others){const e="territory-others";m.getLayer(e)?m.setLayoutProperty(e,"visibility","visible"):m.addLayer({id:e,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]],paint:{"fill-color":"hsla(156, 80%, 45%, 0.1)","fill-outline-color":"hsl(156, 80%, 45%)"}})}else{const e="territory-others";m.getLayer(e)&&m.setLayoutProperty(e,"visibility","none")}}catch(e){}}),[m,s]);const x=(e=>{if(l)return e;const t=JSON.parse(JSON.stringify(e)),o=["expedition-points","expedition-point-labels","origin-destination-markers","origin-destination-labels","general-photo-markers","general-photo-labels"];return t.layers=t.layers.map((e=>o.includes(e.id)?{...e,layout:{...e.layout||{},visibility:"none"}}:e)),t})((e=>{const t=JSON.parse(JSON.stringify(e)),o=s.navajo,i=s.hopi,n=s.zuni,a=s.others;return o||i||n||a?(t.layers=t.layers.map((e=>{if("native-land-territories"===e.id||"native-land-labels"===e.id){const t=["any"];return o&&t.push(["==",["get","Slug"],"navajo"]),i&&t.push(["==",["get","Slug"],"hopi"]),n&&t.push(["==",["get","Slug"],"zuni"]),a&&t.push(["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]]),{...e,filter:t}}return e})),t):(t.layers=t.layers.filter((e=>"native-land-territories"!==e.id&&"native-land-labels"!==e.id)),t)})({version:8,name:"Indigenous Territories Map",sources:{"mapbox-satellite":{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},"mapbox-dem":{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14},"native-land":{type:"vector",url:"mapbox://nativeland.4pgB_next_nld_terr_prod_layer"},"yellowstone-park":{type:"geojson",data:{type:"Feature",properties:{name:"Yellowstone National Park",established:"1872",type:"national-park"},geometry:{type:"Polygon",coordinates:[[[-111.1559,45.0537],[-111.1559,44.1315],[-110.5,44.1315],[-110.1,44.3],[-109.8254,44.7],[-109.8254,45.1089],[-110.3,45.1089],[-111.1559,45.0537]]]}}},"grand-canyon-park":{type:"geojson",data:{type:"Feature",properties:{name:"Grand Canyon National Park",established:"1919",type:"national-park"},geometry:{type:"Polygon",coordinates:[[[-113.9798,36.5],[-113.9798,35.75],[-112.5,35.75],[-111.8,36],[-111.587,36.3],[-111.587,36.8656],[-112.5,36.8656],[-113.9798,36.5]]]}}},"chaco-culture-park":{type:"geojson",data:{type:"Feature",properties:{name:"Chaco Culture National Historical Park",established:"1907",type:"national-park"},geometry:{type:"Polygon",coordinates:[[[-108.1519,36.0892],[-108.1519,35.6672],[-107.95,35.6672],[-107.6716,35.75],[-107.6716,36.0892],[-108.1519,36.0892]]]}}},"jackson-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Jackson Expedition Route"},geometry:{type:"LineString",coordinates:[[-111.65,35.19],[-110.87,35.6],[-110.45,35.73],[-110.17,36.31],[-109.87,36.99]]}}},"hillers-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Hillers Expedition Route"},geometry:{type:"LineString",coordinates:[[-110.67,36.92],[-110.5,36.54],[-110.09,36.11],[-109.87,35.83],[-109.54,35.52]]}}},"expedition-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Canyon de Chelly",expedition:"Jackson",description:"Major photography site"},geometry:{type:"Point",coordinates:[-109.47,36.13]}},{type:"Feature",properties:{name:"Walpi",expedition:"Hillers",description:"Hopi village photography"},geometry:{type:"Point",coordinates:[-110.39,35.87]}},{type:"Feature",properties:{name:"Monument Valley",expedition:"Jackson",description:"Iconic landscape photography"},geometry:{type:"Point",coordinates:[-110.11,36.98]}},{type:"Feature",properties:{name:"Window Rock",expedition:"Hillers",description:"Cultural documentation"},geometry:{type:"Point",coordinates:[-109.05,35.68]}}]}},"chicago-route":{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[-87.63,41.88],[-111.89,40.76],[-110.55,36.15]]}}},"origin-destination-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chicago",type:"origin",description:"Starting point for expeditions"},geometry:{type:"Point",coordinates:[-87.63,41.88]}},{type:"Feature",properties:{name:"Washington D.C.",type:"destination",description:"Smithsonian Institution"},geometry:{type:"Point",coordinates:[-77.03,38.9]}},{type:"Feature",properties:{name:"Salt Lake City",type:"waypoint",description:"Supply point for expeditions"},geometry:{type:"Point",coordinates:[-111.89,40.76]}},{type:"Feature",properties:{name:"Mexico City",type:"destination",description:"Exhibition location"},geometry:{type:"Point",coordinates:[-99.13,19.43]}},{type:"Feature",properties:{name:"New York",type:"destination",description:"Exhibition venue"},geometry:{type:"Point",coordinates:[-73.94,40.67]}}]}},"general-image-locations":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chaco Canyon",type:"photo-site",description:"Archaeological site photography"},geometry:{type:"Point",coordinates:[-107.96,36.06]}},{type:"Feature",properties:{name:"Grand Canyon",type:"photo-site",description:"Landscape photography"},geometry:{type:"Point",coordinates:[-112.1129,36.0544]}},{type:"Feature",properties:{name:"Yellowstone",type:"photo-site",description:"National park documentation"},geometry:{type:"Point",coordinates:[-110.58,44.42]}}]}}},sprite:"mapbox://sprites/mapbox/satellite-streets-v12",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",terrain:{source:"mapbox-dem",exaggeration:1.2},layers:[{id:"satellite",type:"raster",source:"mapbox-satellite",minzoom:0,maxzoom:22},{id:"yellowstone-fill",type:"fill",source:"yellowstone-park",layout:{visibility:"none"},paint:{"fill-color":"hsla(131, 100%, 30%, 0.35)","fill-outline-color":"hsla(131, 100%, 40%, 1)","fill-pattern":"circle-stroked"}},{id:"grand-canyon-fill",type:"fill",source:"grand-canyon-park",layout:{visibility:"none"},paint:{"fill-color":"hsla(131, 100%, 30%, 0.35)","fill-outline-color":"hsla(131, 100%, 40%, 1)","fill-pattern":"circle-stroked"}},{id:"chaco-culture-fill",type:"fill",source:"chaco-culture-park",layout:{visibility:"none"},paint:{"fill-color":"hsla(131, 100%, 30%, 0.35)","fill-outline-color":"hsla(131, 100%, 40%, 1)","fill-pattern":"circle-stroked"}},{id:"yellowstone-outline",type:"line",source:"yellowstone-park",layout:{visibility:"none"},paint:{"line-color":"hsla(120, 100%, 40%, 1)","line-width":2,"line-opacity":.9}},{id:"grand-canyon-outline",type:"line",source:"grand-canyon-park",layout:{visibility:"none"},paint:{"line-color":"hsla(30, 100%, 55%, 1)","line-width":2,"line-opacity":.9}},{id:"chaco-culture-outline",type:"line",source:"chaco-culture-park",layout:{visibility:"none"},paint:{"line-color":"hsla(200, 100%, 55%, 1)","line-width":2,"line-opacity":.9}},{id:"yellowstone-label",type:"symbol",source:"yellowstone-park",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,0],"text-anchor":"center","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 100, 0, 0.9)","text-halo-width":2}},{id:"grand-canyon-label",type:"symbol",source:"grand-canyon-park",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,0],"text-anchor":"center","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 100, 0, 0.9)","text-halo-width":2}},{id:"chaco-culture-label",type:"symbol",source:"chaco-culture-park",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,0],"text-anchor":"center","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 100, 0, 0.9)","text-halo-width":2}},{id:"native-land-territories",type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",paint:{"fill-color":["match",["get","Slug"],["navajo"],"hsla(0, 99%, 61%, 0.5)",["hopi"],"hsla(294, 66%, 34%, 0.5)",["zuni"],"hsla(249, 70%, 59%, 0.5)","hsla(156, 80%, 45%, 0.1)"],"fill-outline-color":["match",["get","Slug"],["navajo"],"hsl(0, 99%, 41%)",["hopi"],"hsl(294, 66%, 24%)",["zuni"],"hsl(249, 70%, 39%)","hsl(156, 80%, 45%)"]}},{id:"native-land-labels",type:"symbol",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",layout:{visibility:"none","text-field":["get","Name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":12,"text-max-width":10,"text-variable-anchor":["center"],"text-justify":"center","text-radial-offset":.5},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.7)","text-halo-width":1.5}},{id:"jackson-expedition-route-line",type:"line",source:"jackson-expedition-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(199, 100%, 43%)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"hillers-expedition-route-line",type:"line",source:"hillers-expedition-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(0, 100%, 61%, 0.83)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"expedition-points",type:"circle",source:"expedition-points",layout:{visibility:"none"},paint:{"circle-radius":10,"circle-color":["match",["get","expedition"],"Jackson","hsl(199, 100%, 43%)","Hillers","hsla(0, 100%, 61%, 0.83)","lightgray"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"expedition-point-labels",type:"symbol",source:"expedition-points",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"origin-destination-markers",type:"circle",source:"origin-destination-points",layout:{visibility:"none"},paint:{"circle-radius":12,"circle-color":["match",["get","type"],"origin","hsl(54, 100%, 50%)","destination","hsl(54, 100%, 50%)","waypoint","hsl(54, 100%, 40%)","hsl(54, 100%, 50%)"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"origin-destination-labels",type:"symbol",source:"origin-destination-points",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0,"text-justify":"center","text-max-width":10},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"general-photo-markers",type:"circle",source:"general-image-locations",layout:{visibility:"none"},paint:{"circle-radius":10,"circle-color":"hsl(30, 100%, 50%)","circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.2}},{id:"general-photo-labels",type:"symbol",source:"general-image-locations",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"chicago-to-arizona-line",type:"line",source:"chicago-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(54, 72%, 49%, 0.8)","line-width":5,"line-dasharray":[2,1],"line-blur":1}}]}));return e.useEffect((()=>{}),[s]),e.useEffect((()=>{}),[m,l]),e.useEffect((()=>{}),[u,m]),b.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:b.jsxs(t,{ref:c,initialViewState:d,viewState:y,controller:{dragPan:!0,dragRotate:!0,scrollZoom:!0,touchZoom:!0,touchRotate:!0,doubleClickZoom:!0,keyboard:!0,maxPitch:89,minPitch:0},onViewStateChange:e=>{r&&r(e)},layers:n,onError:e=>{},children:[b.jsx(K,{id:"main",mapboxAccessToken:Y,mapStyle:x,attributionControl:!1,logoPosition:"bottom-right",interactive:!0,cooperativeGestures:!1,locale:{"AttributionControl.ToggleAttribution":"","AttributionControl.ChangeAttribution":"","TerrainControl.enableTerrain":"","NavigationControl.ZoomIn":"","NavigationControl.ZoomOut":"","NavigationControl.ResetBearing":"","GeolocateControl.Find":"","GeolocateControl.FindMe":"","ScaleControl.Feet":"","ScaleControl.Meters":"","LogoControl.Title":"","Map.Title":""},onLoad:e=>{const t=e.target;g(!0),f(t),t.getContainer().querySelectorAll(".mapboxgl-ctrl-attrib-inner, .mapboxgl-ctrl-attrib, .mapboxgl-ctrl-logo, .mapboxgl-ctrl-bottom-right").forEach((e=>{e.style.display="none"}))}}),u&&i]})})}function X(e){if(e.startsWith("http")||e.startsWith("data:"))return e;const t=e.startsWith("/")?e.slice(1):e,o="/IndigenousMapping-CDP-SP25/";return(o.endsWith("/")?o:o+"/")+t}q._transitionInProgress=!1,q._lastExternalViewState=null;const $={"omaha-nebraska":{id:"omaha-nebraska",name:"Omaha, Nebraska",photographer:"A. Ruger",year:"1868",catalog_ref:"Chicago Lithographing Co., 1868",description:"Bird's-eye view of the city of Omaha, Nebraska, from the east side of the Missouri River. Drawn and published by A. Ruger, this 1868 lithograph illustrates early urban development, rail activity, and steamboat commerce at the edge of the western frontier.",coordinates:{latitude:41.2565,longitude:-95.9345},elevation_feet:1060,elevation_meters:323,camera:{viewpoint:{latitude:41.254041,longitude:-95.925252,elevation:0},bearing:-77.22,pitch:60,zoom:15.71,fov:60},overlay:{opacity:.5,bounds:[[-95.945,41.25],[-95.915,41.265]]},image_url:"/assets/img/Omaha_1877.jpg",expedition:"Pre-Powell Surveys",expedition_notes:"Lithograph created during post-Civil War expansion and visual documentation of key railroad cities."},"mystic-lake":{id:"mystic-lake",name:"Mystic Lake, Montana",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.7",description:"Mystic Lake, Montana Territory",coordinates:{latitude:45.5453506,longitude:-110.9193637},elevation_feet:6398,elevation_meters:1950,camera:{viewpoint:{latitude:45.543261,longitude:-110.920025,elevation:0},bearing:3.66,pitch:84.73,zoom:17.65,fov:60},overlay:{opacity:.5,bounds:[[-110.924,45.544],[-110.917,45.548]]},image_url:"/assets/img/P.48.1.7.jpg",expedition:"Hayden Survey"},"gallatin-headwaters":{id:"gallatin-headwaters",name:"Headwaters of the Gallatin Mountains",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.16",description:"Headwaters of the Gallatin Mountains",coordinates:{latitude:44.9632,longitude:-111.0573},elevation_feet:8500,elevation_meters:2591,camera:{viewpoint:{latitude:44.958707,longitude:-111.032414,elevation:0},bearing:147.5,pitch:86.13,zoom:17.66,fov:60},overlay:{opacity:.5,bounds:[[-111.059,44.9625],[-111.0565,44.964]]},image_url:"/assets/img/P.48.1.16.jpg",expedition:"Hayden Survey"},"mammoth-hot-springs":{id:"mammoth-hot-springs",name:"Mammoth Hot Springs",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.8",description:"Mammoth Hot-Springs Gardiners River [Wyoming]",coordinates:{latitude:44.9772,longitude:-110.7028},elevation_feet:6200,elevation_meters:1889,camera:{viewpoint:{latitude:44.970675,longitude:-110.704326,elevation:0},bearing:174.64,pitch:86.8,zoom:17.26,fov:60},overlay:{opacity:.5,bounds:[[-110.707,44.975],[-110.698,44.979]]},image_url:"/assets/img/P.48.1.8.jpg",expedition:"Hayden Survey"},"yellowstone-falls":{id:"yellowstone-falls",name:"Great Falls of the Yellowstone",photographer:"Jackson",year:"1871",catalog_ref:"P.48.1.9",description:"Great Falls of the Yellowstone",coordinates:{latitude:44.7181,longitude:-110.4961},elevation_feet:7500,elevation_meters:2286,camera:{viewpoint:{latitude:44.717836,longitude:-110.495424,elevation:0},bearing:-101.29,pitch:84.07,zoom:16.28,fov:60},overlay:{opacity:.5,bounds:[[-110.5,44.715],[-110.492,44.721]]},image_url:"/assets/img/P.48.1.9.jpg",expedition:"Hayden Survey"},"holy-cross":{id:"holy-cross",name:"Mountain of the Holy-Cross",photographer:"Jackson",year:"1873",catalog_ref:"P.48.1.2",description:"Mountain of the Holy-Cross",coordinates:{latitude:39.4668,longitude:-106.4817},elevation_feet:14009,elevation_meters:4270,camera:{viewpoint:{latitude:39.462081,longitude:-106.485924,elevation:0},bearing:-108.44,pitch:85.79,zoom:14.81,fov:60},overlay:{opacity:.8,bounds:[[-106.4785,39.4635],[-106.4765,39.4655]],scale:1,aspect:1.33},image_url:"/assets/img/P.48.1.2.jpg",expedition:"Hayden Survey"},"mancos-canyon-1":{id:"mancos-canyon-1",name:"Ancient Ruins in the Canyon of the Mancos 1",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.29",description:"Ancient Ruins in the Canyon of the Mancos",coordinates:{latitude:37.185,longitude:-108.4925},elevation_feet:7200,elevation_meters:2195,camera:{viewpoint:{latitude:37.337382,longitude:-108.444995,elevation:0},bearing:-84.32,pitch:82.48,zoom:18.37,fov:60},overlay:{opacity:.5,bounds:[[-108.495,37.184],[-108.491,37.186]]},image_url:"/assets/img/P.48.1.29.jpg",expedition:"Hayden Survey"},"mancos-canyon-2":{id:"mancos-canyon-2",name:"Ancient Ruins in the Canyon of the Mancos 2",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.30",description:"Ancient Ruins in the Canyon of the Mancos",coordinates:{latitude:37.0461,longitude:-108.6956},elevation_feet:6700,elevation_meters:2042,camera:{viewpoint:{latitude:37.335,longitude:-108.435,elevation:6750},bearing:65,pitch:0,zoom:16,fov:55},overlay:{opacity:.5,bounds:[[-108.697,37.045],[-108.694,37.047]]},image_url:"/assets/img/P.48.1.30.jpg",expedition:"Hayden Survey"},"window-rock":{id:"window-rock",name:"Window Rock",photographer:"landmark",year:"null",catalog_ref:"null",description:"Natural sandstone arch and seat of government of the Navajo Nation in northeastern Arizona.",coordinates:{latitude:35.68057,longitude:-109.05259},elevation_feet:6830,elevation_meters:2082,camera:{viewpoint:{latitude:35.6815,longitude:-109.0537,elevation:6900},bearing:25,pitch:-10,zoom:16,fov:65},overlay:{opacity:.5,bounds:[[-109.055,35.6785],[-109.0505,35.6825]]},image_url:"null",expedition:"landmark",expedition_notes:"null"},"chaco-canyon":{id:"chaco-canyon",name:"Chaco Canyon",photographer:"landmark",year:"null",catalog_ref:"null",description:"Chaco Canyon",coordinates:{latitude:36.060293,longitude:-107.967008},elevation_feet:6106,elevation_meters:1861,camera:{viewpoint:{latitude:36.062138,longitude:-107.969364,elevation:0},bearing:-63.06,pitch:88.72,zoom:18.79,fov:60},overlay:{opacity:.5,bounds:[[-107.975,36.055],[-107.96,36.065]]},image_url:"null",expedition:"null",expedition_notes:"null"},"monument-valley":{id:"monument-valley",name:"Monument Valley",photographer:"landmark",year:"null",catalog_ref:"null",description:"Monument Valley, a region of the Colorado Plateau characterized by a cluster of vast sandstone buttes, is a sacred site for the Navajo Nation.",coordinates:{latitude:36.998,longitude:-110.0984},elevation_feet:5200,elevation_meters:1585,camera:{viewpoint:{latitude:36.978849,longitude:-110.101701,elevation:0},bearing:166.95,pitch:72.41,zoom:13.87,fov:60},overlay:{opacity:.5,bounds:[[-110.11,36.99],[-110.085,37.005]]},image_url:"null",expedition:"null",expedition_notes:"null"},"canyon-de-chelly":{id:"canyon-de-chelly",name:"Canyon de Chelly",photographer:"landmark",year:"null",catalog_ref:"null",description:"Canyon de Chelly National Monument, located within the Navajo Nation in northeastern Arizona, features dramatic sandstone cliffs and ancient dwellings. Spider Rock, a prominent 750-foot sandstone spire, stands at the junction of Canyon de Chelly and Monument Canyon.",coordinates:{latitude:36.14,longitude:-109.47},elevation_feet:5640,elevation_meters:1719,camera:{viewpoint:{latitude:36.133865,longitude:-109.482538,elevation:0},bearing:116.25,pitch:77.89,zoom:15.5,fov:60},overlay:{opacity:.5,bounds:[[-109.475,36.135],[-109.46,36.145]]},image_url:"null",expedition:"null",expedition_notes:"null"},"salt-lake-city-1875":{id:"salt-lake-city-1875",name:"Salt Lake City (1875)",photographer:"E.S. Glover",year:"1875",catalog_ref:"Library of Congress G4344.S3A3 1875 .G6",description:"Bird's-eye view of Salt Lake City, Utah, 1875, oriented from the northwest looking southeast, with Temple Square at the center.",coordinates:{latitude:40.7707,longitude:-111.8925},elevation_feet:4300,elevation_meters:1311,camera:{viewpoint:{latitude:40.692643,longitude:-111.903046,elevation:0},bearing:54.75,pitch:78.17,zoom:14.95,fov:60},overlay:{opacity:.5,bounds:[[-111.91,40.76],[-111.875,40.78]]},image_url:"/assets/img/SLC_1875.jpg",expedition:"null",expedition_notes:"null"},"walpi-pueblo-1":{id:"walpi-pueblo-1",name:"East Mesa",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.28",description:"[The Pueblo of Walpi on the East Mesa opposite Tewa]",coordinates:{latitude:37.288492,longitude:-108.474738},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:37.288492,longitude:-108.474738,elevation:0},bearing:75.31,pitch:85.12,zoom:17.15,fov:60},overlay:{opacity:.5,bounds:[[-110.3895,35.8285],[-110.388,35.8295]]},image_url:"/assets/img/P.48.1.28.jpg",expedition:"Hayden Survey"},"walpi-pueblo-2":{id:"walpi-pueblo-2",name:"Walpi Pueblo - Terraced Houses",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.20",description:"Terraced Houses at Wolpi [Walpi]",coordinates:{latitude:35.829354,longitude:-110.389},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.829354,longitude:-110.388763,elevation:0},bearing:124.91,pitch:82.26,zoom:20,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.20.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"walpi-pueblo-3":{id:"walpi-pueblo-3",name:"Walpi and Shechumavi - Tewa",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.10",description:"Wolpi [Walpi] and Shechumavi [Sichomovi], from Tewa",coordinates:{latitude:35.8371,longitude:-110.3943},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.8371,longitude:-110.3943,elevation:6725},bearing:180,pitch:0,zoom:15,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.10.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"walpi-pueblo-4":{id:"walpi-pueblo-4",name:"Walpi Pueblo - Dance Rock",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.12",description:"Dance Rock. Wolpi [Walpi]",coordinates:{latitude:35.8367,longitude:-110.3921},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.8367,longitude:-110.3921,elevation:6725},bearing:180,pitch:0,zoom:17,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.12.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"montezuma-canyon":{id:"montezuma-canyon",name:"Montezuma Canyon",photographer:"Jackson",year:"1874-1876",catalog_ref:"P.48.1.31",description:"Ruins in the Montezuma Canyon",coordinates:{latitude:37.387,longitude:-109.3062},elevation_feet:5800,elevation_meters:1768,camera:{viewpoint:{latitude:37.38551,longitude:-109.305912,elevation:0},bearing:78.35,pitch:69.48,zoom:18.66,fov:60},overlay:{opacity:.5,bounds:[[-109.308,37.386],[-109.305,37.388]]},image_url:"/assets/img/P.48.1.31.jpg",expedition:"Hayden Survey"},"walpi-pueblo-5":{id:"walpi-pueblo-5",name:"Walpi Pueblo - Weaving",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.22",description:"A Moki [Hopi] Weaving [Walpi]",coordinates:{latitude:35.828917,longitude:-110.38844},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.828917,longitude:-110.38844,elevation:0},bearing:-42.22,pitch:80.97,zoom:19.81,fov:60},overlay:{opacity:.5,bounds:[[-110.3886,35.829],[-110.3882,35.8293]]},image_url:"/assets/img/P.48.1.22.jpg",expedition:"Powell Expedition - BAE Survey of Arizona/New Mexico",expedition_notes:"Part of Powell's first act as Bureau of American Ethnology director after its establishment. Hillers was sent with James Stevenson and Frank Hamilton Cushing to photograph Pueblo peoples."},"grand-canyon":{id:"grand-canyon",name:"Grand Canyon [Arizona]",photographer:"Hillers",year:"1872",catalog_ref:"null",description:"Grand Canyon [Arizona]",coordinates:{latitude:36.0544,longitude:-112.1129},elevation_feet:1e4,elevation_meters:3e3,camera:{viewpoint:{latitude:36.119348,longitude:-112.052281,elevation:0},bearing:-62.72,pitch:87.51,zoom:12,fov:60},overlay:{opacity:.5,bounds:[[-112.143,36.053],[-112.11,36.056]]},image_url:"/assets/img/GC_tribes.webp",expedition:"Powell Expedition - Arizona and Utah (1872)",expedition_notes:"Part of Powell's exploration of the Grand Canyon region"},nevada:{id:"nevada",name:"Nevada",photographer:"landmark",year:"1873",catalog_ref:"null",description:"Nevada",coordinates:{latitude:39.773978,longitude:-116.618156},elevation_feet:15e3,elevation_meters:4500,camera:{viewpoint:{latitude:39.7739,longitude:-116.6181,elevation:6e3},bearing:210,pitch:5,zoom:12,fov:65},overlay:{opacity:.5,bounds:[[-116.62,39.772],[-116.616,39.776]]},image_url:"null",expedition:"Powell Expedition - Nevada (1873)",expedition_notes:"Part of Powell's survey of Nevada, Utah, and Arizona regions"},arizona:{id:"arizona",name:"Arizona",photographer:"landmark",year:"1873, 1881",catalog_ref:"null",description:"Arizona",coordinates:{latitude:34.300692,longitude:-111.566677},elevation_feet:1e4,elevation_meters:3e3,camera:{viewpoint:{latitude:34.3006,longitude:-111.5666,elevation:5e3},bearing:150,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-111.568,34.299],[-111.565,34.302]]},image_url:"null",expedition:"Powell Expedition - Arizona (1873, 1881)",expedition_notes:"Initial survey in 1873 as part of Powell's expedition to Utah, Nevada, and Arizona; return visit in 1881 for additional documentation"},utah:{id:"utah",name:"Utah",photographer:"landmark",year:"1874",catalog_ref:"null",description:"Utah",coordinates:{latitude:39.240763,longitude:-111.74984},elevation_feet:12e3,elevation_meters:3600,camera:{viewpoint:{latitude:39.2407,longitude:-111.7498,elevation:6e3},bearing:180,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-111.751,39.239],[-111.748,39.242]]},image_url:"null",expedition:"Powell Expedition - Utah (1874)",expedition_notes:"Documentation of Utah landscapes as part of Powell's ongoing surveys"},"colorado-river-grand-junction":{id:"colorado-river-grand-junction",name:"Cañon of Grand River, Utah",photographer:"Jackson",year:"1874–1875",catalog_ref:"Hayden Survey, Colorado Plateau Series",description:"ALthough this photo is actually from 1890, Jackson collected photographic documentation of the Colorado River corridor near Grand Junction, Colorado during the Hayden Geological Survey, this area represents one of the key access points to the lower Colorado River system from southwestern Colorado.",coordinates:{latitude:39.126,longitude:-108.788},elevation_feet:4600,elevation_meters:1402,camera:{viewpoint:{latitude:39.120591,longitude:-108.78874,elevation:0},bearing:-172.59,pitch:86.77,zoom:16.52,fov:60},overlay:{opacity:.5,bounds:[[-108.571,39.063],[-108.56,39.068]]},image_url:"/assets/img/ColoradoRiver.jpeg",expedition:"Hayden Survey"},"indian-territory-oklahoma":{id:"indian-territory-oklahoma",name:"Indian Territory (Oklahoma)",photographer:"example",year:"1875",catalog_ref:"Smithsonian Centennial Collection, 1876",description:"Photographs and ethnographic records collected by John K. Hillers under direction of John Wesley Powell, documenting Indigenous nations in Indian Territory for the Smithsonian Institution's 1876 Centennial Exposition in Philadelphia. The expedition aimed to gather visual and cultural artifacts from the region, including portraits, dwellings, and ceremonial practices.",coordinates:{latitude:35.4676,longitude:-97.5164},elevation_feet:1197,elevation_meters:365,camera:{viewpoint:{latitude:35.47,longitude:-97.51,elevation:1220},bearing:180,pitch:-5,zoom:14.8,fov:60},overlay:{opacity:.5,bounds:[[-97.53,35.455],[-97.5,35.48]]},image_url:"/assets/img/Oklahoma.jpg",expedition:"Powell Survey, Smithsonian Commission",expedition_notes:"Images and artifacts collected for the U.S. Centennial Exposition (Philadelphia, 1876). Focused on Indigenous communities relocated to Indian Territory, including Cherokee, Choctaw, Chickasaw, Creek, and Seminole Nations."},"zuni-eagle":{id:"zuni-eagle",name:"A Zuni Eagle Cage",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.3",description:"A Zuni Eagle Cage",coordinates:{latitude:35.0695,longitude:-108.8484},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.0695,longitude:-108.8484,elevation:6300},bearing:0,pitch:0,zoom:19,fov:50},overlay:{opacity:.5,bounds:[[-108.849,35.069],[-108.848,35.07]]},image_url:"/assets/img/P.48.1.3.jpg",expedition:"Powell Expedition - BAE Survey of Arizona/New Mexico (1879)",expedition_notes:"Part of Powell's first act as Bureau of American Ethnology director. Hillers was sent with James Stevenson and Frank Hamilton Cushing to Arizona and New Mexico to survey archaeological 'ruins' and photograph the Pueblo peoples."},"navajo-joganda":{id:"navajo-joganda",name:"A Navajo Joganda",photographer:"Hillers",year:"null",catalog_ref:"P.48.1.11",description:"A Navajo Joganda, [Hogan]",coordinates:{latitude:36.12,longitude:-111.23},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:36.12,longitude:-111.23,elevation:6300},bearing:150,pitch:0,zoom:18,fov:55},overlay:{opacity:.5,bounds:[[-111.231,36.119],[-111.229,36.121]]},image_url:"/assets/img/P.48.1.11.jpg",expedition:"Unknown Powell Expedition",expedition_notes:"Exact expedition date unknown, likely part of Hillers' documentation of Native American structures and dwellings"},"central-mexico":{id:"central-mexico",name:"Central Mexico",photographer:"landscape",year:"1880-1907",catalog_ref:"null",description:"Central Mexico",coordinates:{latitude:22.614328,longitude:-101.672974},elevation_feet:7800,elevation_meters:2375,camera:{viewpoint:{latitude:22.6143,longitude:-101.6729,elevation:7800},bearing:180,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-101.674,22.613],[-101.671,22.616]]},image_url:"null",expedition:"Post-Powell Expeditions",expedition_notes:"Later work after the Powell expeditions, documenting regions in Central Mexico"}};function Q(e){return $[e]||null}function ee(){return Object.values($)}class te extends o{initializeState(){super.initializeState(),this.state={labelPositions:[],labelLines:[],hoveredMarkerId:null,clickedMarkerId:null}}updateState({props:e,oldProps:t,changeFlags:o}){super.updateState({props:e,oldProps:t,changeFlags:o});if(o.dataChanged||o.viewportChanged||e.selectedPhotoId!==t.selectedPhotoId||!this.state.labelLines||0===this.state.labelLines.length){const{data:t}=e;this.calculateLabelPositions(t)}}calculateLabelPositions(e){if(!e||0===e.length)return;const t=(e=>{if(!e||0===e.length)return[];return[...e].sort(((e,t)=>t.coordinates.latitude-e.coordinates.latitude)).map(((t,o)=>({id:t.id,index:o,markerPosition:[t.coordinates.longitude,t.coordinates.latitude],label:t.name,photographer:t.photographer,originalIndex:e.indexOf(t),useExternalRendering:!0})))})(e);this._sortedLabelData=t,this.setState({labelPositions:[],labelLines:[],sortedLabelData:t})}onClick(e){if(!e||!e.object)return!1;const{onPhotoSelect:t}=this.props;if(t){document.body.style.backgroundColor="rgba(255,255,0,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);let o=null;if(e.object.id)o=e.object.id,this.setState({hoveredMarkerId:o,clickedMarkerId:o},(()=>{this.setNeedsUpdate(),setTimeout((()=>{this.state.clickedMarkerId===o&&this.setState({clickedMarkerId:null},(()=>this.setNeedsUpdate()))}),500)}));else if(e.layer&&"marker-labels"===e.layer.id&&this.state.labelPositions){const t=e.index;void 0!==t&&this.state.labelPositions[t]&&(o=this.state.labelPositions[t].id)}if(o)return t(o),!0}return!1}onTap(e){if(!e||!e.object)return!1;const{onPhotoSelect:t}=this.props;if(t){document.body.style.backgroundColor="rgba(0,255,255,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);let o=null;if(e.object.id)o=e.object.id,this.setState({hoveredMarkerId:o,clickedMarkerId:o},(()=>{this.setNeedsUpdate(),setTimeout((()=>{this.state.clickedMarkerId===o&&this.setState({clickedMarkerId:null,hoveredMarkerId:null},(()=>this.setNeedsUpdate()))}),500)}));else if(e.layer&&"marker-labels"===e.layer.id&&this.state.labelPositions){const t=e.index;void 0!==t&&this.state.labelPositions[t]&&(o=this.state.labelPositions[t].id)}if(o)return t(o),!0}return!1}onHover(e){if(!e||!e.target||!e.target.getCanvas)return;const t=this.state.hoveredMarkerId;let o=null;e.object?(e.target.getCanvas().style.cursor="pointer",o=e.object.id):e.target.getCanvas().style.cursor="grab",t!==o&&this.setState({hoveredMarkerId:o},(()=>{this.setNeedsUpdate()}))}renderLayers(){const{data:e,iconAtlas:t,iconMapping:o,sizeScale:a,selectedPhotoId:r,onLabelDataUpdate:s,zoomLevel:l,showLabels:c}=this.props,{labelPositions:d,labelLines:p,sortedLabelData:h}=this.state;h&&h.length>0&&s&&s(h);const u=new i(this.getSubLayerProps({id:"marker-outlines",data:e,iconAtlas:t,iconMapping:o,getIcon:e=>"marker",getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getSize:e=>r===e.id?4:3,getColor:[255,255,255],sizeScale:10,sizeUnits:"pixels",sizeMinPixels:40,sizeMaxPixels:80,billboard:!0,pickable:!0,parameters:{depthTest:!1}})),g=new i(this.getSubLayerProps({id:"marker-icons",data:e.map((e=>({...e,_isSelected:r===e.id,_isHovered:this.state.hoveredMarkerId===e.id,_startPosition:[e.coordinates.longitude,e.coordinates.latitude],_endPosition:[e.coordinates.longitude+2,e.coordinates.latitude]}))),iconAtlas:t,iconMapping:o,getIcon:e=>"marker",getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getSize:e=>e._isSelected?3.5:2.5,getColor:e=>"landmark"===e.photographer?[255,255,0]:"Jackson"===e.photographer?[255,87,51]:"Hillers"===e.photographer?[75,144,226]:[148,0,211],sizeScale:10,sizeUnits:"pixels",sizeMinPixels:35,sizeMaxPixels:70,billboard:!0,pickable:!0,parameters:{depthTest:!1},drawConnector:e=>this.props.showLabelConnectors&&(r===e.id||this.state.hoveredMarkerId===e.id||this.state.clickedMarkerId===e.id),getConnectorSourcePosition:e=>e._startPosition,getConnectorTargetPosition:e=>e._endPosition,connectorProps:{dashEnabled:!0,dashGapLength:2,dashLength:2,type:"circle",stroke:"#fff",strokeWidth:1,targetColor:e=>"Jackson"===e.photographer?[255,87,51,200]:[75,144,226,200],sourceColor:e=>"Jackson"===e.photographer?[255,87,51,200]:[75,144,226,200]},getTooltip:({object:e})=>e&&`${e.name} (${e.year||"unknown"})\nPhotographer: ${e.photographer}`,getAngle:e=>e._isSelected||e._isHovered||this.state.clickedMarkerId===e.id?360:0,onClick:this.onClick.bind(this),onTap:this.onTap.bind(this),onHover:this.onHover.bind(this)}));let m=null;return(!0===c||!0!==c&&l>=7.5)&&(m=new n(this.getSubLayerProps({id:"marker-text-labels",data:e,pickable:!0,getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getText:e=>e.name,getSize:14,getAngle:0,getTextAnchor:e=>e.id.startsWith("walpi-pueblo")||"Hillers"===e.photographer&&oe(e.coordinates)||"mancos-canyon-2"===e.id||e.id.includes("montezuma")?"middle":"gallatin-headwaters"===e.id?"end":"start",getAlignmentBaseline:e=>e.id.startsWith("walpi-pueblo")&&"walpi-pueblo-1"!==e.id||"Hillers"===e.photographer&&oe(e.coordinates)||"mancos-canyon-2"===e.id?"top":"walpi-pueblo-1"===e.id||e.id.includes("montezuma")?"bottom":"center",getPixelOffset:t=>{if(t.id.startsWith("walpi-pueblo")){if("walpi-pueblo-1"===t.id)return[0,-24];return[0,5+30*(parseInt(t.id.split("-").pop(),10)-1)]}if("Hillers"===t.photographer&&oe(t.coordinates)){return[0,5+30*(e.filter((e=>"Hillers"===e.photographer&&oe(e.coordinates)&&!e.id.startsWith("walpi-pueblo")&&e.id<=t.id)).length+5)]}return"gallatin-headwaters"===t.id?[-30,0]:"mammoth-hot-springs"===t.id?[20,-10]:"mancos-canyon-1"===t.id?[30,5]:"mancos-canyon-2"===t.id?[0,25]:t.id.includes("montezuma")?[15,-25]:[20,0]},getColor:e=>"landmark"===e.photographer?[255,255,150,255]:"Jackson"===e.photographer?[255,155,132,255]:"Hillers"===e.photographer?[132,190,255,255]:[200,150,230,255],fontFamily:'"adelle", serif',fontWeight:"bold",background:!0,backgroundColor:[0,0,0,150],getBorderColor:[0,0,0,200],getBorderWidth:2,backgroundPadding:[3,3,3,3],getBackgroundColor:[0,0,0,180],wordBreak:"break-word",billboard:!0,maxWidth:200,parameters:{depthTest:!1},onClick:this.onClick.bind(this),onHover:this.onHover.bind(this)}))),m?[u,g,m]:[u,g]}}function oe(e){if(!e||"number"!=typeof e.latitude||"number"!=typeof e.longitude)return!1;const t=35.82,o=35.84,i=-110.4,n=-110.38;return e.latitude>=t&&e.latitude<=o&&e.longitude>=i&&e.longitude<=n}function ie({onPhotoSelect:e=()=>{},selectedPhotoId:t=null,onLabelDataUpdate:o=null,showLabelConnectors:i=!0,showLabels:n=!1,zoomLevel:a=0,photos:r=null}={}){const s=function(e){return e.filter((e=>{if(!e.coordinates)return!1;const{longitude:t,latitude:o}=e.coordinates;return null!=t&&null!=o&&"null"!==t&&"null"!==o&&!isNaN(parseFloat(t))&&!isNaN(parseFloat(o))&&!(Math.abs(t)>180||Math.abs(o)>90)}))}(r||ee());return s.forEach((e=>{e.camera&&e.camera.viewpoint||(e.camera=e.camera||{},e.camera.viewpoint=e.camera.viewpoint||{longitude:e.coordinates.longitude,latitude:e.coordinates.latitude,elevation:1e3},e.camera.bearing=e.camera.bearing||0,e.camera.pitch=e.camera.pitch||60,e.camera.zoom=e.camera.zoom||14,e.camera.fov=e.camera.fov||60)})),new te({id:"photo-markers-composite",data:s,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:{marker:{x:0,y:0,width:128,height:128,mask:!0}},sizeScale:10,sizeUnits:"pixels",selectedPhotoId:t,onPhotoSelect:e,onLabelDataUpdate:o,showLabelConnectors:i,showLabels:n,zoomLevel:a,pickable:!0,autoHighlight:!0,parameters:{depthTest:!1},highlightColor:[255,255,255,150],transitions:{getSize:200,getColor:200,getAngle:{duration:500,easing:e=>e}},onClick:!0,onTap:!0})}const ne={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ae(e,t,o){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*o):e*t*o/(t+o*e)}function re(e,t,o,i=.15){return 0===i?function(e,t,o){return Math.max(t,Math.min(e,o))}(e,t,o):e<t?-ae(t-e,o-t,i)+t:e>o?+ae(e-o,o-t,i)+o:e}function se(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function le(e,t,o){return(t=se(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ce(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function de(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(o),!0).forEach((function(t){le(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ce(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const pe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function he(e){return e?e[0].toUpperCase()+e.slice(1):""}const ue=["enter","leave"];function ge(e,t="",o=!1){const i=pe[e],n=i&&i[t]||t;return"on"+he(e)+he(n)+(function(e=!1,t){return e&&!ue.includes(t)}(o,n)?"Capture":"")}const me=["gotpointercapture","lostpointercapture"];function fe(e){let t=e.substring(2).toLowerCase();const o=!!~t.indexOf("passive");o&&(t=t.replace("passive",""));const i=me.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(i);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:o}}function ye(e){return"touches"in e}function ve(e){return ye(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function be(e){return ye(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function xe(e,t){try{const o=t.clientX-e.clientX,i=t.clientY-e.clientY,n=(t.clientX+e.clientX)/2,a=(t.clientY+e.clientY)/2,r=Math.hypot(o,i),s=-180*Math.atan2(o,i)/Math.PI;return{angle:s,distance:r,origin:[n,a]}}catch(o){}return null}function we(e){return function(e){return Array.from(e.touches).filter((t=>{var o,i;return t.target===e.currentTarget||(null===(o=e.currentTarget)||void 0===o||null===(i=o.contains)||void 0===i?void 0:i.call(o,t.target))}))}(e).map((e=>e.identifier))}function ke(e,t){const[o,i]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return xe(o,i)}function _e(e){const t=be(e);return ye(e)?t.identifier:t.pointerId}function Se(e){const t=be(e);return[t.clientX,t.clientY]}function Pe(e){let{deltaX:t,deltaY:o,deltaMode:i}=e;return 1===i?(t*=40,o*=40):2===i&&(t*=800,o*=800),[t,o]}function Ce(e,...t){return"function"==typeof e?e(...t):e}function ze(){}function je(...e){return 0===e.length?ze:1===e.length?e[0]:function(){let t;for(const o of e)t=o.apply(this,arguments)||t;return t}}function Ee(e,t){return Object.assign({},t,e||{})}class Te{constructor(e,t,o){this.ctrl=e,this.args=t,this.key=o,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:o,args:i}=this;t[o]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,o=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=o.from?Ce(o.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:o,shared:i}=this;t.args=this.args;let n=0;if(e&&(t.event=e,o.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:o,altKey:i,metaKey:n,ctrlKey:a}=e;Object.assign(t,{shiftKey:o,altKey:i,metaKey:n,ctrlKey:a})}return t}(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,n=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);ne.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[a,r]=t._movement,[s,l]=o.threshold,{_step:c,values:d}=t;if(o.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(a)>=s&&d[0]),!1===c[1]&&(c[1]=Math.abs(r)>=l&&d[1])):(!1===c[0]&&(c[0]=Math.abs(a)>=s&&Math.sign(a)*s),!1===c[1]&&(c[1]=Math.abs(r)>=l&&Math.sign(r)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const p=[0,0];if(o.hasCustomTransform){const[e,t]=d;p[0]=!1!==c[0]?e-c[0]:0,p[1]=!1!==c[1]?t-c[1]:0}else p[0]=!1!==c[0]?a-c[0]:0,p[1]=!1!==c[1]?r-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const h=t.offset,u=t._active&&!t._blocked||t.active;u&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in o&&(t._bounds=Ce(o.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[g,m]=t.offset,[[f,y],[v,b]]=t._bounds;t.overflow=[g<f?-1:g>y?1:0,m<v?-1:m>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const x=t._active&&o.rubberband||[0,0];if(t.offset=function(e,[t,o],[i,n]){const[[a,r],[s,l]]=e;return[re(t,a,r,i),re(o,s,l,n)]}(t._bounds,t.offset,x),t.delta=ne.sub(t.offset,h),this.computeMovement(),u&&(!t.last||n>32)){t.delta=ne.sub(t.offset,h);const e=t.delta.map(Math.abs);ne.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&n>0&&(t.velocity=[e[0]/n,e[1]/n],t.timeDelta=n)}}emit(){const e=this.state,t=this.shared,o=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!o.triggerAllEvents)return;const i=this.handler(de(de(de({},t),e),{},{[this.aliasKey]:e.values}));void 0!==i&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class Ie extends Te{constructor(...e){super(...e),le(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ne.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ne.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,o=this.config;if(!t.axis&&e){const i="object"==typeof o.axisThreshold?o.axisThreshold[ve(e)]:o.axisThreshold;t.axis=function([e,t],o){const i=Math.abs(e),n=Math.abs(t);return i>n&&i>o?"x":n>i&&n>o?"y":void 0}(t._movement,i)}t._blocked=(o.lockDirection||!!o.axis)&&!t.axis||!!o.axis&&o.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const Me=e=>e,He={enabled:(e=!0)=>e,eventOptions:(e,t,o)=>de(de({},o.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return ne.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?ne.toVector(e):void 0,transform(e,t,o){const i=e||o.shared.transform;return this.hasCustomTransform=!!i,i||Me},threshold:e=>ne.toVector(e,0)},Ae=de(de({},He),{},{axis(e,t,{axis:o}){if(this.lockDirection="lock"===o,!this.lockDirection)return o},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>Ae.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:o=1/0,top:i=-1/0,bottom:n=1/0}=e;return[[t,o],[i,n]]}}),Le={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};const De="undefined"!=typeof window&&window.document&&window.document.createElement;function Re(){return De&&"ontouchstart"in window}const Oe={isBrowser:De,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Re(),touchscreen:Re()||De&&window.navigator.maxTouchPoints>1,pointer:De&&"onpointerdown"in window,pointerLock:De&&"exitPointerLock"in window.document},Ne={mouse:0,touch:0,pen:8},We=de(de({},Ae),{},{device(e,t,{pointer:{touch:o=!1,lock:i=!1,mouse:n=!1}={}}){return this.pointerLock=i&&Oe.pointerLock,Oe.touch&&o?"touch":this.pointerLock?"mouse":Oe.pointer&&!n?"pointer":Oe.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:o}){if(this.preventScrollDelay="number"==typeof o?o:o||void 0===o&&e?250:void 0,Oe.touchscreen&&!1!==o)return e||(void 0!==o?"y":void 0)},pointerCapture(e,t,{pointer:{capture:o=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&"pointer"===this.device&&o},threshold(e,t,{filterTaps:o=!1,tapsThreshold:i=3,axis:n}){const a=ne.toVector(e,o?i:n?1:0);return this.filterTaps=o,this.tapsThreshold=i,a},swipe({velocity:e=.5,distance:t=50,duration:o=250}={}){return{velocity:this.transform(ne.toVector(e)),distance:this.transform(ne.toVector(t)),duration:o}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?de(de({},Ne),e):Ne,keyboardDisplacement:(e=10)=>e});function Be(e){const[t,o]=e.overflow,[i,n]=e._delta,[a,r]=e._direction;(t<0&&i>0&&a<0||t>0&&i<0&&a>0)&&(e._movement[0]=e._movementBound[0]),(o<0&&n>0&&r<0||o>0&&n<0&&r>0)&&(e._movement[1]=e._movementBound[1])}const Fe=de(de({},He),{},{device(e,t,{shared:o,pointer:{touch:i=!1}={}}){if(o.target&&!Oe.touch&&Oe.gesture)return"gesture";if(Oe.touch&&i)return"touch";if(Oe.touchscreen){if(Oe.pointer)return"pointer";if(Oe.touch)return"touch"}},bounds(e,t,{scaleBounds:o={},angleBounds:i={}}){const n=e=>{const t=Ee(Ce(o,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{const t=Ee(Ce(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof o&&"function"!=typeof i?[n(),a()]:e=>[n(e),a(e)]},threshold(e,t,o){this.lockDirection="lock"===o.axis;return ne.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});const Ze=de(de({},Ae),{},{mouseOnly:(e=!0)=>e});const Ue=Ae;const Ve=Ae;const Je=de(de({},Ae),{},{mouseOnly:(e=!0)=>e}),Ge=new Map,Ke=new Map;function Ye(e){Ge.set(e.key,e.engine),Ke.set(e.key,e.resolver)}const qe={key:"drag",engine:class extends Ie{constructor(...e){super(...e),le(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),o=e.currentTarget.getBoundingClientRect(),i={left:t.left-o.left+e.offset[0],right:t.right-o.right+e.offset[0],top:t.top-o.top+e.offset[1],bottom:t.bottom-o.bottom+e.offset[1]};e._bounds=Ae.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,o=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),i&&i.size>1&&o._pointerActive||(this.start(e),this.setupPointer(e),o._pointerId=_e(e),o._pointerActive=!0,this.computeValues(Se(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ve(e)?(o._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,o=this.config;if(!t._pointerActive)return;const i=_e(e);if(void 0!==t._pointerId&&i!==t._pointerId)return;const n=Se(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ne.sub(n,t._values),this.computeValues(n)),ne.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):o.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===o.preventScrollAxis||"xy"===o.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(r){}const t=this.state,o=this.config;if(!t._active||!t._pointerActive)return;const i=_e(e);if(void 0!==t._pointerId&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[n,a]=t._distance;if(t.tap=n<=o.tapsThreshold&&a<=o.tapsThreshold,t.tap&&o.filterTaps)t._force=!0;else{const[e,i]=t._delta,[n,a]=t._movement,[r,s]=o.swipe.velocity,[l,c]=o.swipe.distance,d=o.swipe.duration;if(t.elapsedTime<d){const o=Math.abs(e/t.timeDelta),d=Math.abs(i/t.timeDelta);o>r&&Math.abs(n)>l&&(t.swipe[0]=Math.sign(e)),d>s&&Math.abs(a)>c&&(t.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,o=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,o,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=Le[e.key];if(t){const o=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),o._delta=t(this.config.keyboardDisplacement,i),o._keyboardActive=!0,ne.addTo(o._movement,o._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Le&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:We},Xe={key:"hover",engine:class extends Ie{constructor(...e){super(...e),le(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(Se(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;const t=this.state;if(!t._active)return;t._active=!1;const o=Se(e);t._movement=t._delta=ne.sub(o,t._values),this.computeValues(o),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},resolver:Je},$e={key:"move",engine:class extends Ie{constructor(...e){super(...e),le(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Se(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=Se(e),o=this.state;o._delta=ne.sub(t,o._values),ne.addTo(o._movement,o._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},resolver:Ze},Qe={key:"pinch",engine:class extends Te{constructor(...e){super(...e),le(this,"ingKey","pinching"),le(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:o}=this.state;this.state.offset="wheel"===e?ne.add(t,o):[(1+t[0])*o[0],t[1]+o[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,o]=e._movement;if(!e.axis){const i=30*Math.abs(t)-Math.abs(o);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,o=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>o.has(e))))return;if(o.size<2)return;this.start(e),t._touchIds=Array.from(o).slice(0,2);const i=ke(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,o=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(o.keys()).every((e=>i.has(e))))return;if(o.size<2&&o.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const n=xe(...Array.from(o.values()));n&&this.pinchStart(e,n)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=ke(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const o=xe(...Array.from(t.values()));o&&this.pinchMove(e,o)}pinchMove(e,t){const o=this.state,i=o._values[1],n=t.angle-i;let a=0;Math.abs(n)>270&&(a+=Math.sign(n)),this.computeValues([t.distance,t.angle-360*a]),o.origin=t.origin,o.turns=a,o._movement=[o._values[0]/o._initial[0]-1,o._values[1]-o._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(o){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const o=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=ne.sub(t._movement,o),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!(Array.isArray(t)?t.find((t=>e[t])):e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-Pe(e)[1]/100*t.offset[0],0],ne.addTo(t._movement,t._delta),Be(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:Fe},et={key:"scroll",engine:class extends Ie{constructor(...e){super(...e),le(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,o=function(e){var t,o;const{scrollX:i,scrollY:n,scrollLeft:a,scrollTop:r}=e.currentTarget;return[null!==(t=null!=i?i:a)&&void 0!==t?t:0,null!==(o=null!=n?n:r)&&void 0!==o?o:0]}(e);t._delta=ne.sub(o,t._values),ne.addTo(t._movement,t._delta),this.computeValues(o),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},resolver:Ue},tt={key:"wheel",engine:class extends Ie{constructor(...e){super(...e),le(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=Pe(e),ne.addTo(t._movement,t._delta),Be(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:Ve};function ot(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)o=a[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}const it={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(Oe.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},nt=["target","eventOptions","window","enabled","transform"];function at(e={},t){const o={};for(const[i,n]of Object.entries(t))switch(typeof n){case"function":o[i]=n.call(o,e[i],i,e);break;case"object":o[i]=at(e[i],n);break;case"boolean":n&&(o[i]=e[i])}return o}class rt{constructor(e,t){le(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,o,i,n){const a=this._listeners,r=function(e,t=""){const o=pe[e];return e+(o&&o[t]||t)}(t,o),s=de(de({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),n);e.addEventListener(r,i,s);const l=()=>{e.removeEventListener(r,i,s),a.delete(l)};return a.add(l),l}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class st{constructor(){le(this,"_timeouts",new Map)}add(e,t,o=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,o,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class lt{constructor(e){le(this,"gestures",new Set),le(this,"_targetEventStore",new rt(this)),le(this,"gestureEventStores",{}),le(this,"gestureTimeoutStores",{}),le(this,"handlers",{}),le(this,"config",{}),le(this,"pointerIds",new Set),le(this,"touchIds",new Set),le(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&ct(e,"drag");t.wheel&&ct(e,"wheel");t.scroll&&ct(e,"scroll");t.move&&ct(e,"move");t.pinch&&ct(e,"pinch");t.hover&&ct(e,"hover")}(this,e)}setEventIds(e){return ye(e)?(this.touchIds=new Set(we(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,o={}){const i=e,{target:n,eventOptions:a,window:r,enabled:s,transform:l}=i,c=ot(i,nt);if(o.shared=at({target:n,eventOptions:a,window:r,enabled:s,transform:l},it),t){const e=Ke.get(t);o[t]=at(de({shared:o.shared},c),e)}else for(const d in c){const e=Ke.get(d);e&&(o[d]=at(de({shared:o.shared},c[d]),e))}return o}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,o={};let i;if(!t.target||(i=t.target(),i)){if(t.enabled){for(const t of this.gestures){const n=this.config[t],a=dt(o,n.eventOptions,!!i);if(n.enabled){new(Ge.get(t))(this,e,t).bind(a)}}const n=dt(o,t.eventOptions,!!i);for(const t in this.nativeHandlers)n(t,"",(o=>this.nativeHandlers[t](de(de({},this.state.shared),{},{event:o,args:e}))),void 0,!0)}for(const e in o)o[e]=je(...o[e]);if(!i)return o;for(const e in o){const{device:t,capture:n,passive:a}=fe(e);this._targetEventStore.add(i,t,"",o[e],{capture:n,passive:a})}}}}function ct(e,t){e.gestures.add(t),e.gestureEventStores[t]=new rt(e,t),e.gestureTimeoutStores[t]=new st}const dt=(e,t,o)=>(i,n,a,r={},s=!1)=>{var l,c;const d=null!==(l=r.capture)&&void 0!==l?l:t.capture,p=null!==(c=r.passive)&&void 0!==c?c:t.passive;let h=s?i:ge(i,n,d);o&&p&&(h+="Passive"),e[h]=e[h]||[],e[h].push(a)},pt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ht(e,t,o,i,n,a){if(!e.has(o))return;if(!Ge.has(i))return;const r=o+"Start",s=o+"End";n[i]=e=>{let i;return e.first&&r in t&&t[r](e),o in t&&(i=t[o](e)),e.last&&s in t&&t[s](e),i},a[i]=a[i]||{}}function ut(e,t){const[o,i,n]=function(e){const t={},o={},i=new Set;for(let n in e)pt.test(n)?(i.add(RegExp.lastMatch),o[n]=e[n]):t[n]=e[n];return[o,t,i]}(e),a={};return ht(n,o,"onDrag","drag",a,t),ht(n,o,"onWheel","wheel",a,t),ht(n,o,"onScroll","scroll",a,t),ht(n,o,"onPinch","pinch",a,t),ht(n,o,"onMove","move",a,t),ht(n,o,"onHover","hover",a,t),{handlers:a,config:t,nativeHandlers:i}}function gt(e){return e.forEach(Ye),function(e,t){const{handlers:o,nativeHandlers:i,config:n}=ut(e,t||{});return function(e,t={},o,i){const n=a.useMemo((()=>new lt(e)),[]);if(n.applyHandlers(e,i),n.applyConfig(t,o),a.useEffect(n.effect.bind(n)),a.useEffect((()=>n.clean.bind(n)),[]),void 0===t.target)return n.bind.bind(n)}(o,n,void 0,i)}}const mt={Zuni:{History:'In 1539, Esteban, an African slave from a shipwrecked Spanish vessel, "discovered" the Zuni. By 1540, Francisco Vásquez de Coronado followed Esteban\'s path and conquered the Zuni Pueblo for Spain. The Spanish established Santa Fe in 1610, and attempted to suppress Pueblo culture and religious practices. In 1680-1692, the Zuni and Hopi led the Pueblo Revolt, defeating the Spanish and forcing their withdrawal from Santa Fe. Though the Spanish later reclaimed the city, the revolt led to a more relaxed Spanish rule to prevent further uprisings.\n\nIn 1848, the Zuni were absorbed into the United States by the resolution of the Mexican-American War with no legal title to their land. In 1879, the Bureau of American Ethnology (BAE) focused on the Zuni in the first federally-funded anthropological study. The BAE considered the Zuni an ideal society to study given their resistance to conversion and the continuity of their core beliefs. Their ancient ruins and culture were believed to be key to revealing the origins of North American civilization. By the late 19th century, the Zuni had become a living laboratory for anthropologists.',Culture:"The Zuni are a peaceful people who make up one of the major Pueblo tribes inhabiting the Southwestern region of the United States. Their villages featured stacked multi story homes, made of red adobe rock and accessible via ladders.\n\nZuni men played a dominant role in village life and took the role of spiritual leaders in charge of religious ceremonies and rituals while the women's role was focused on the home.\n\nThe Zuni were agriculturalists, stockbreeders, and skilled weavers, potters, and silversmiths. Life in the Pueblo consisted of yearly cycle farming, herding, and hunting.","Origin Story":'The Zuni creation story tells of a journey from the "unlovely place," interpreted as hell, to the "Middle Place," or heaven. From four underground chambers, Zuni, not yet fully formed humans, emerged with the help of twin war gods, Āh-ai-ū-ta and Mā-ā-sē-we. The gods summoned a water creature to lie on the ground and mark the spot where its heart lay. This would be where the Middle Place, their destined home, would be. Their creation story emphasizes the importance of "place" in Zuni and a deep longing for a sense of belonging on earth.',"Religious Practices":"Kivas are underground spaces where Zuni priests performed rituals to bring healing, rain, bountiful harvests, and prosperous hunts. These sites are reserved for spiritual leaders (all men) who also participate in public dances where they wear Kachina costumes. The costumes, including paint, rattles, and mud masks, symbolize Zuni cosmology. Ceremonies marked seasonal cycles.\n\nThe Zuni are protective of their religious practices, fearing outsiders may exploitation by collectors and ethnographers has made them hesitant to share sacred knowledge.","Location/Landscape":"The Zuni were a relatively isolated group residing in the valleys of New Mexico and Arizona. In times of conflict, the Zuni would move their people to the mountains and reside in cliff dwellings like their ancestors as a form of protection from predatory tribal groups and European and Spanish explorers. In one instance, the Zuni fled to the mountains during the Pueblo revolt against the Spanish from 1680 until 1692.\n\nZuni who first settled in Western New Mexico along the Rio Zuni – which flows into the Little Colorado River – established the village known as Tkāp-quē-nā, or Hot Spring. Some believe that this spring could be the origin place of the Zuni, sprung from the underworld through this natural pool.\n\nThe Zuni, like the Hopi, constructed villages of stacked homes made of flat stone and red adobe. They moved through pueblos via ladders and roof top entryways. The modern-day place of Zuni origin is called Chimik'yana'kya De'y'a, also known as Ribbon Falls on Bright Angel Creek located at the bottom of the Grand Canyon National Park."},Hopi:{History:'The Hopi have inhabited villages like Old Oraibi since 1150. Their ancestors are known as Histatsinom, or "people of long ago." From 1540 to 1821, the Hopi endured Spanish attempts at conquest and conversion. From 1629 until 1680, the Hopi faced intense "encomienda", or forced labor. This period of Spanish control led to the Pueblo Revolts.\n\nIn 1858, Mormon Jacob Hamblin established relations with the Hopi, believing they were descendants of the Nephites from the Book of Mormon. This began decades of Mormon missions to the Pueblos. By 1874, Hopi chief Tuuvi allowed Hamblin to settle at Moenkopi. Soon after, Hamblin led Bureau of Ethnographer founder John Wesley Powell to the Hopi, marking the beginning of Hopi as subjects of anthropology. The constant flow of anthropologists to the Pueblos of the Southwest thus shaped the development of anthropology, and ethnography.',Culture:"For centuries, Hopi have been talented weavers, potters, and jewelers. Weaving is traditionally done in the winter by men in kivas, with women and children helping in warmer seasons. The Hopi use geometric designs in their textiles, representing rain, clouds, and fertility from Hopi cosmology. Nampeyo, a young skilled Hopi potter when she was first photographed by William Henry Jackson, included intricate designs and geometric motifs in her work and traditional techniques of coiling clay.","Origin Story":'The Hopi emerged from under the earth. They were instructed by Maasaw (earth or death god) that the earth was a gift to them, but they must be mindful and care for it. After emerging, the Hopi went in search for Tuuwanasavi, or the "center place." As they journeyed, they placed spiral insignias to mark their path. They settled where a bright light had shown down on the land, the Hopitutskwa.',"Religious Practices":'Contemporary Hopi customs, including spiritual ceremonies, largely focus on commemorating the places that contributed to the development of Hopi society and religion. They also participate in historic preservation to protect their cultural interests. This includes the restoration of original Hopi place names to restore Hopi history erased by White cartographers.\n\nOne ancient sacred ceremony still practiced today is the Snake Dance. Hopi priests spend about eight or nine days in the kivas, practicing in secret. They believe that non-Hopi onlookers will spiritually disrupt the cosmic or tribal space, threatening to introduce evil and ill will to the ceremony and its practitioners.\n\nThe Hopi partake in pilgrimages every four years, experiencing history through visiting ancestral places. The Hopitutskwa is filled with itaakuku, or "footprints of ancestors." The route includes the Grand Canyon, Zuni Salt Lake, and a 600-mile circuit of shrines in Arizona and Utah. These are of the places Hopi ancestors once settled. The land is remembered through ceremonies and stories.',"Location/Landscape":"Old Oraibi in Northern Arizona is believed to be the oldest continuously inhabited village in North America. It was settled in 1150. Near Oraibi, there is a sacred place known to the Hopi as Prophecy Rock. It includes an account of Koyaansquatsi, or \"world out of balance\", where the inhabitants of the earth are afflicted by disease, misery, and doubt, etched into the stone's face.\n\nHopi identify their ancestral dwelling places by symbols etched into rock and architectural ruins.\n\nThe Hopi Pueblo consists of three mesas, each of which includes independently governed villages. The First Mesa is known for producing pottery. The Second Mesa is known for its coiled pottery. The Third Mesa is known for basketry, weaving, Kachina doll carving, and silversmithing.\n\nOne sacred Hopi historic site is Kwayka'a, on Antelope Mountain. This is where it is believed the Hopi likely met the Spanish for the first time. Today, it is prohibited to use traditional archaeological methods here because it would violate the deep-seated Hopi ethics about disturbing the dead."},"Diné":{History:"The Diné  live in the northeastern part of Arizona and the northwestern corner of New Mexico, surrounding the Hopi peoples' territory. They are also known as the Navajo, which originated from Spanish missionaries who called them Apaches de Nabajó.",Culture:"The traditional Dine language is Diné Bizaad. Their language is not just a means of communication; it encapsulates core cultural principles like Hózhó, or balance, beauty, and harmony.\n\nFor the Dine, K'é (kinship) emphasizes that interconnectedness, respect, and reciprocal relationships are central to maintaining Diné culture and values.\n\nDiné principles include Sa'ah Naaghái Bik'eh Hózhóón, living in harmony with the natural world.","Origin Story":'Tradition states that the Diné emerged from the "lower worlds" to inhabit Dinétah, the Diné ancestral homelands. Oral traditions are a daily custom and way of education as well as communication among the Diné. Their legendary lore is used to maintain traditional religious knowledge and tribal history, and Diné folklore is often used to teach moral and ethical lessons for children. It is also used as a way to connect as a community.\n\nThe Diyin Dine\'é (Holy People) created the four sacred mountains to etch a protected area into the landscape for Diné to steward and practice their cultural ceremonies. The Diné\'s bond with the land is the foundation of tribal sovereignty. Diné express this sacred bond by affirming: "We don\'t own the land; the land owns us."\n\nIt is said that all Diné people descended from the figure of Asdzáán Nádleehé, or "changing woman." It is from Asdzáán Nádleehé that the four Diné clans originated.',"Religious Practices":"Diné ceremonies and prayers focus on maintaining balance and harmony, or Hózhóójí.","Location/Landscape":"Dine ancestral homelands are marked by four sacred mountains Sisnaajini (Blanka Peak) and Dibé Ntsaa (Hesperus Peak) in Colorado, Tsoodzill (Mount Taylor) in New Mexico, and Dook'o'oosliid (the San Francisco Peaks) in Arizona."}},ft={HILLERS:{bio:"John Karl Hillers was a pivotal early American photographer whose work helped shape the understanding of the American West. He spent his career as a government photographer, starting as a boatman and later becoming photographer-in-chief for John Wesley Powell's survey expeditions. In 1872, Hillers began documenting Indigenous cultures, including the Zuni and San Juan Pueblo peoples. His 1879-1880 survey in New Mexico and Arizona produced many iconic images of the Zuni and Rio Grande Pueblos. Hillers' photographs of architecture, daily life, and rituals were used by the Bureau of Ethnography to document and preserve traditional ways of life. His work remains an important reference for the study of these cultures.",born:"1843 Hanover, Germany",died:"1925 Washington, DC",career:"First staff photographer for Department of Ethnology, 1879-1900",significance:'His images aided in the conceptualization of the "American West". Spent his entire career as a government photographer "working for agencies dedicated to increasing knowledge" including the Bureau of Ethnography and the USGS. Worked under John Wesley Powell, first as a "boatman" on survey team, then shadowed photographers on the surveys and eventually became Powell\'s assistant, and by 1872 he was the expeditions photographer-in-chief.',timeline:[{year:"1871",description:'John Wesley Powell\'s second survey of the Colorado River. Hillers joins as a "boatman" and begins taking photographs - mostly landscapes.',region:"Landscapes",subjects:[]},{year:"1872",description:'In the fall, "at the request of the Western lands survey," Hillers transitions from photographing landscapes to photographing Indigenous people, specifically the Zuni and San Juan Pueblo peoples.',region:"Zuni",subjects:["Zuni","San Juan Pueblo"]},{year:"1876",description:"Hillers joins BAE expedition to Arizona to photograph Hopi for the Centennial Indian Exhibit.",region:"Hopi",subjects:["Hopi"]},{year:"1879",description:"Hillers joins John Wesley Powell on surveys for the BAE.",region:"Various",subjects:[]},{year:"1879-1880",description:'Hillers accompanies a survey run by the Bureau of Ethnology in what is now New Mexico and Arizona where he photographed the "Canyon de Chelly, the Rio Grande pueblos, and Zuni."',region:"New Mexico/Arizona",subjects:["Zuni","Diné (Navajo)","Rio Grande Pueblos"]},{year:"1879-1882",description:"Extended documentation of Zuni Pueblo.",region:"Zuni",subjects:["Zuni"]},{year:"1881",description:"Hillers transferred to USGS, and served as its chief photographer until his retirement in 1900.",region:"Various",subjects:[]}]},JACKSON:{bio:"William Henry Jackson is renowned for photographing the geological wonders of Yellowstone, helping to establish National Parks. After serving in the Civil War, he worked as a bullwhacker before settling in Nebraska, where he began photographing Indigenous people. His work caught the attention of Dr. Ferdinand Hayden, leading to Jackson's participation in the 1871 Hayden Geological Expedition. It was on this expedition that Jackson's iconic photo of Mount of the Holy Cross was taken in 1873. He served as the official photographer for the U.S. Geological Survey until 1878, then opened a studio in Denver, Colorado. His photography played a key role in documenting the American West's natural beauty.",born:"1843 upstate NY",died:"1942 New York, NY",career:"US Geological Survey, 1870s",timeline:[{years:"1867-1879",description:"Omaha Nebraska, hired to do photography work for the Union Pacific Railway project",photos:[]},{years:"1871-1872",description:"expedition to Yellowstone with USGS",photos:[{id:"P.48.1.9",description:"Great Falls of the Yellowstone"},{id:"P.48.1.8",description:"Mammoth Hot-Springs Gardiners River [Wyoming]"}]},{years:"1873",description:"Works with USGS of Colorado",photos:[]},{years:"1874-1875",description:"photographed Walpi Pueblo in Arizona, photos of Mancos Canyon in Utah/Southwestern Colorado, Montezuma Canyon photos",photos:[{id:"P.48.1.31",description:"Ruins in the Montezuma Canyon"},{id:"P.48.1.28",description:"[The Pueblo of Walpi on the East Mesa opposite Tewa]"},{id:"P.48.1.30",description:"Ancient Ruins in the Canyon of the Mancos"}]},{years:"1880-1907",description:"worked for the Central Mexican Railway",photos:[]}]}},yt=X("assets/geojson/mapBoxStyle.json"),vt={dine:[{longitude:-109.166442,latitude:36.151673,zoom:6.85,pitch:13.14,bearing:-26.63,content:mt["Diné"].History,photoId:null,markerViewId:null},{longitude:-109.65,latitude:36.42,zoom:9,pitch:45,bearing:-10,content:mt["Diné"].Culture,photoId:"colorado-river-grand-junction",markerViewId:"colorado-river-grand-junction"},{longitude:-109.8,latitude:36.8,zoom:10,pitch:50,bearing:25,content:mt["Diné"]["Origin Story"],photoId:"window-rock",markerViewId:"window-rock"},{longitude:-109.5,latitude:36.3,zoom:9.5,pitch:55,bearing:-10,content:mt["Diné"]["Religious Practices"],photoId:"canyon-de-chelly",markerViewId:"canyon-de-chelly"},{longitude:-109,latitude:37.2,zoom:8,pitch:40,bearing:15,content:mt["Diné"]["Location/Landscape"],photoId:"monument-valley",markerViewId:"monument-valley"}],hopi:[{longitude:-111.011115,latitude:35.191215,zoom:8.38,pitch:51.27,bearing:-9.44,content:mt.Hopi.History,photoId:null,markerViewId:null},{longitude:-110.4,latitude:35.9,zoom:10,pitch:55,bearing:20,content:mt.Hopi.Culture,photoId:"walpi-pueblo-5",markerViewId:"walpi-pueblo-5"},{longitude:-110.5,latitude:36,zoom:9.5,pitch:60,bearing:-15,content:mt.Hopi["Origin Story"],photoId:"walpi-pueblo-1",markerViewId:"walpi-pueblo-1"},{longitude:-110.6,latitude:35.7,zoom:11,pitch:50,bearing:10,content:mt.Hopi["Religious Practices"],photoId:"walpi-pueblo-4",markerViewId:"walpi-pueblo-4"},{longitude:-110.3,latitude:35.8,zoom:12,pitch:65,bearing:5,content:mt.Hopi["Location/Landscape"],photoId:"walpi-pueblo-3",markerViewId:"walpi-pueblo-3"}],zuni:[{longitude:-109.044935,latitude:34.419137,zoom:8.62,pitch:48.18,bearing:-15.94,content:mt.Zuni.History,photoId:null,markerViewId:null},{longitude:-108.9,latitude:35.1,zoom:9,pitch:50,bearing:15,content:mt.Zuni.Culture,photoId:"zuni-eagle",markerViewId:"zuni-eagle"},{longitude:-109,latitude:35.2,zoom:10,pitch:60,bearing:-10,content:mt.Zuni["Origin Story"],photoId:"chaco-canyon",markerViewId:"chaco-canyon"},{longitude:-108.7,latitude:35,zoom:11,pitch:55,bearing:20,content:mt.Zuni["Religious Practices"],photoId:"montezuma-canyon",markerViewId:"montezuma-canyon"},{longitude:-108.6,latitude:34.9,zoom:8.5,pitch:40,bearing:-5,content:mt.Zuni["Location/Landscape"],photoId:"mancos-canyon-1",markerViewId:"mancos-canyon-1"}],jackson:[{longitude:-108.235726,latitude:39.86858,zoom:6.67,pitch:50.86,bearing:-.75,content:ft.JACKSON.bio,photoId:null,markerViewId:null}],hillers:[{longitude:-110.15159,latitude:35.425465,zoom:8.59,pitch:37.89,bearing:-.28,content:ft.HILLERS.bio,photoId:null,markerViewId:null}]};function bt(){const[t,o]=e.useState(null),[i,l]=e.useState(null),[c,d]=e.useState(null),p={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},[h,u]=e.useState({navajo:!0,hopi:!0,zuni:!0,others:!1}),[g,m]=e.useState("notEntered"),[f,y]=e.useState("notEntered"),[v,x]=e.useState("notEntered"),[w,k]=e.useState("notEntered"),[_,S]=e.useState("notEntered"),[P,C]=e.useState("notEntered"),[z,j]=e.useState("notEntered"),[E,T]=e.useState(null),[I,M]=e.useState(0),H=()=>{"dine"===E?m("left"):"hopi"===E?y("left"):"zuni"===E?x("left"):"jackson"===E?(k("left"),G(null)):"hillers"===E?(S("left"),G(null)):"nationalParks"===E?C("left"):"bae"===E&&j("left")},A=()=>{m("left"),T(null),M(0),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),B(!0),d({...p,transitionDuration:1500,transitionInterpolator:new r})},L=()=>{y("left"),T(null),M(0),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),B(!0),d({...p,transitionDuration:1500,transitionInterpolator:new r})},D=()=>{x("left"),T(null),M(0),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),B(!0),d({...p,transitionDuration:1500,transitionInterpolator:new r})},R=()=>{null===E||"nationalParks"===E||"notEntered"!==P&&"left"!==P||H(),C("entered"),T("nationalParks")};e.useState(!1);const[O,N]=e.useState(!1),[W,B]=e.useState(!0),[F,Z]=e.useState(!0),[U,V]=e.useState(1),[J,G]=e.useState(null),[K,te]=e.useState(!1),[oe,ne]=e.useState(2),[ae,re]=e.useState(!0),[se,le]=e.useState(!1),ce=e.useRef(null),[de,pe]=e.useState(0),[he,ue]=e.useState(0),[ge,me]=e.useState(0),[fe,ye]=e.useState(1),[ve,be]=e.useState([]);e.useCallback((e=>{u((t=>({...t,[e]:!t[e]})))}),[]);const xe=e.useCallback((()=>{u((e=>({navajo:!0,hopi:!0,zuni:!0,others:!e.others})))}),[]),we=e.useCallback((()=>{const e=!O;if(N(e),e){const e=[{id:"yellowstone-park",name:"Yellowstone National Park",color:[0,255,0],labelPosition:[-110.3,44.6],coordinates:[[-111.1559,45.0537],[-111.1559,44.1315],[-110.5,44.1315],[-110.1,44.3],[-109.8254,44.7],[-109.8254,45.1089],[-110.3,45.1089],[-111.1559,45.0537]]},{id:"grand-canyon-park",name:"Grand Canyon National Park",color:[255,165,0],labelPosition:[-112,36.3],coordinates:[[-113.9798,36.5],[-113.9798,35.75],[-112.5,35.75],[-111.8,36],[-111.587,36.3],[-111.587,36.8656],[-112.5,36.8656],[-113.9798,36.5]]},{id:"chaco-culture-park",name:"Chaco Culture National Historical Park",color:[0,0,255],labelPosition:[-107.9,35.9],coordinates:[[-108.1519,36.0892],[-108.1519,35.6672],[-107.95,35.6672],[-107.6716,35.75],[-107.6716,36.0892],[-108.1519,36.0892]]}];try{const o=e.map((e=>new s({id:`${e.id}-polygon`,data:{type:"Feature",properties:{name:e.name},geometry:{type:"Polygon",coordinates:[e.coordinates]}},stroked:!0,filled:!0,lineWidthMinPixels:3,getLineColor:[...e.color,200],getFillColor:[...e.color,100],pickable:!0}))),i=new n({id:"park-labels",data:e.map((e=>({position:e.labelPosition,text:e.name}))),getPosition:e=>e.position,getText:e=>e.text,getSize:16,getColor:[255,255,255],getTextAnchor:"middle",getAlignmentBaseline:"center"}),a=ce.current;if(!a)return;let r=[];try{a.props&&Array.isArray(a.props.layers)?r=[...a.props.layers]:a.deck&&a.deck.props&&Array.isArray(a.deck.props.layers)&&(r=[...a.deck.props.layers])}catch(t){}const l=[...o,i],c=[...r,...l];try{"function"==typeof a.setProps?a.setProps({layers:c}):a.deck&&"function"==typeof a.deck.setProps&&a.deck.setProps({layers:c})}catch(t){}window.parkLayerIds=l.map((e=>e.id))}catch(o){}}else try{const e=ce.current;if(!e)return;let o=[];try{if(e.props&&Array.isArray(e.props.layers))o=[...e.props.layers];else{if(!(e.deck&&e.deck.props&&Array.isArray(e.deck.props.layers)))return;o=[...e.deck.props.layers]}}catch(t){return}const i=window.parkLayerIds||["yellowstone-park-polygon","grand-canyon-park-polygon","chaco-culture-park-polygon","park-labels"],n=o.filter((e=>!i.includes(e.id)));try{"function"==typeof e.setProps?e.setProps({layers:n}):e.deck&&"function"==typeof e.deck.setProps&&e.deck.setProps({layers:n})}catch(t){}}catch(o){}}),[O]),ke=c||p;e.useEffect((()=>{ce.current&&(window.deckInstance=ce.current,window.setTerritoriesVisible=u)}),[]);const _e=e.useRef(ke.zoom);e.useEffect((()=>{if(i){const e=Q(i);if(e&&e.coordinates){const t=((e,t,o,i)=>{const n=(o-e)*Math.PI/180,a=(i-t)*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371})(ke.latitude,ke.longitude,e.coordinates.latitude,e.coordinates.longitude)<100&&ke.zoom>=7.5;t&&!F?(Z(!0),V(1)):!t&&F&&(V(0),setTimeout((()=>Z(!1)),300))}}(_e.current<7.5&&ke.zoom>=7.5||_e.current>=7.5&&ke.zoom<7.5)&&(ke.zoom>=7.5?(V(0),setTimeout((()=>Z(!1)),300)):i||(Z(!0),setTimeout((()=>V(1)),100))),_e.current=ke.zoom}),[ke.latitude,ke.longitude,ke.zoom,i]);const{gestureBindings:Se,goToHomeView:Pe}=function(e,t,o,i){const n={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},a=()=>{var a,s;t&&t(null);const l=1500;((null==(s=null==(a=window.deckInstance)?void 0:a.deck)?void 0:s.viewState)||{}).zoom,window.setTerritoriesVisible&&window.setTerritoriesVisible({navajo:!0,hopi:!0,zuni:!0,others:!1}),n.zoom<7.5&&(o&&o(!0),setTimeout((()=>{i&&i(1)}),1200)),e({...n,transitionDuration:l,transitionInterpolator:new r({speed:1.5,curve:1.5,screenSpeed:15,maxDuration:l}),transitionEasing:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2})};return{gestureBindings:(s={onDrag:({delta:[e,t],direction:[o],touches:i,first:n,movement:[r]})=>{3===i&&o<0?r<-100&&a():1===i&&o<0&&r<-200&&a()}},gt([qe,Qe,et,tt,$e,Xe])(s,l||{})),goToHomeView:a};var s,l}(d,l,Z,V),Ce=e.useRef(null),ze=e.useCallback((e=>{var t;try{const o=Q(e);if(!o)return;const i=1500;setTimeout((()=>{l(e),pe(0),ue(0),me(0),ye(1)}),i-500),u({navajo:!1,hopi:!1,zuni:!1,others:!1}),ke.zoom<7.5&&(V(0),setTimeout((()=>{Z(!1)}),300));const n=null==(t=o.camera)?void 0:t.viewpoint;if(!n)return;let a=o.camera.pitch||60;a<0&&(a=0),a>85&&(a=85),document.body.style.backgroundColor="rgba(0,255,0,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);const s={longitude:n.longitude,latitude:n.latitude,zoom:o.camera.zoom||15,pitch:a,bearing:o.camera.bearing||0,transitionDuration:i,transitionInterpolator:new r({speed:1.2,curve:1.5,screenSpeed:15,maxDuration:i}),transitionEasing:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2};d(s)}catch(i){o(`Failed to select photo: ${i.message}`)}}),[]),je=e.useCallback((e=>{be(e)}),[]),Ee=e.useCallback((()=>{if(!ve||0===ve.length)return[];let e=[...ve];ae&&e.sort(((e,t)=>e.photographer!==t.photographer?e.photographer.localeCompare(t.photographer):t.markerPosition[1]-e.markerPosition[1]));const t=[],o=Math.ceil(e.length/oe);if(ae){let i=[],n=null;for(e.forEach(((a,r)=>{var s;i.length>=o&&(a.photographer!==n||r===e.length-1||(null==(s=e[r+1])?void 0:s.photographer)!==a.photographer)&&(t.push(i),i=[]),n=a.photographer,i.push({...a,isPhotographerHeader:0===i.length||i.length>0&&i[i.length-1].photographer!==a.photographer})})),i.length>0&&t.push(i);t.length<oe&&t.some((e=>e.length>o));){const e=t.findIndex((e=>e.length===Math.max(...t.map((e=>e.length)))));if(-1===e||t[e].length<=o)break;const i=t[e].splice(Math.ceil(t[e].length/2));i.length>0&&(i[0]&&(i[0]={...i[0],isPhotographerHeader:!0}),t.push(i))}}else for(let i=0;i<oe;i++){const n=e.slice(i*o,(i+1)*o);t.push(n)}return t}),[ve,oe,ae]),Te=e.useMemo((()=>{const e=J?(t=J,Object.values($).filter((e=>e.photographer.toLowerCase()===t.toLowerCase()))):ee();var t;const o=ie({onPhotoSelect:ze,selectedPhotoId:i,onLabelDataUpdate:je,showLabelConnectors:se,showLabels:K,zoomLevel:ke.zoom,photos:e});return W?[o]:[]}),[i,ze,de,he,ge,fe,je,se,ve,oe,W,J]),Ie=i?Q(i):null,[Me,He]=e.useState({visible:!1,x:0,y:0});return e.useEffect((()=>{const e=e=>{const t=document.querySelector(".deck-canvas");if(t){const o=t.getBoundingClientRect(),i=e.clientX-o.left,n=e.clientY-o.top;He({visible:!0,x:i,y:n}),setTimeout((()=>{He({visible:!1,x:i,y:n})}),800)}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),b.jsxs("div",{ref:Ce,style:{width:"100vw",height:"100vh",position:"relative",touchAction:"none"},...Se(),children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"\n        @keyframes spin360 {\n          from { transform: rotate(0deg) scale(1); }\n          50% { transform: rotate(180deg) scale(1.5); }\n          to { transform: rotate(360deg) scale(1); }\n        }\n        \n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        \n        .rotation-indicator {\n          position: absolute;\n          width: 50px;\n          height: 50px;\n          border: 3px solid white;\n          border-radius: 50%;\n          pointer-events: none;\n          z-index: 1000;\n          transform-origin: center;\n          animation: spin360 0.8s ease-out, fadeOut 0.8s ease-out;\n        }\n        \n        /* Custom scrollbar styles for WebKit browsers */\n        ::-webkit-scrollbar {\n          width: 6px;\n          height: 6px;\n        }\n        \n        ::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        ::-webkit-scrollbar-thumb {\n          background: rgba(255, 255, 255, 0.3);\n          border-radius: 3px;\n        }\n        \n        ::-webkit-scrollbar-thumb:hover {\n          background: rgba(255, 255, 255, 0.5);\n        }\n      "}}),Me.visible&&b.jsx("div",{className:"rotation-indicator",style:{left:Me.x-25+"px",top:Me.y-25+"px"}}),K&&b.jsx(b.Fragment,{children:(ke.zoom<7.5||"hillers"===E||"jackson"===E)&&b.jsxs("div",{style:{position:"absolute",top:"10vw",right:"2vw",width:"400px",zIndex:10,display:"flex",flexDirection:"column",alignItems:"flex-end",background:"transparent",padding:"0",margin:"0"},children:[b.jsx("p",{style:{margin:"2vw 0 0 0",padding:0},children:b.jsx("h2",{className:"geographica-hand",style:{fontSize:"2.5rem",margin:0,color:"white",textShadow:"0px 0px 6px rgba(0,0,0,0.9), 1px 1px 4px rgba(0,0,0,0.8), -1px -1px 4px rgba(0,0,0,0.8)",textAlign:"right",paddingRight:"10px",whiteSpace:"nowrap"},children:"Photographs In the Exhibition"})}),b.jsx("div",{className:"photo-labels-container",style:{width:"100%",pointerEvents:"hillers"===E||"jackson"===E?"auto":"none",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",background:"transparent",border:"none",borderLeft:"none",borderRight:"none",borderTop:"none",borderBottom:"none",maxHeight:"calc(80vh - 100px)",padding:"0",margin:"0"},children:Ee().map(((e,t)=>b.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingRight:0,border:"none"},children:e.map(((e,t)=>b.jsxs(a.Fragment,{children:[ae&&e.isPhotographerHeader&&!("hillers"===E&&"Hillers"===e.photographer||"jackson"===E&&"Jackson"===e.photographer)&&b.jsx("div",{className:"photographer-header",style:{margin:"8px 0 4px 0",backgroundColor:"rgba(0, 0, 0, 0.6)",color:"Jackson"===e.photographer?"rgb(255, 155, 132)":"rgb(132, 190, 255)",padding:"4px 8px",fontSize:"1.5rem",fontWeight:"bold",width:"100%",textAlign:"right",pointerEvents:"none",textTransform:"uppercase",letterSpacing:"0.5px",border:"none",textShadow:"0px 0px 4px rgba(0,0,0,0.9), 1px 1px 2px rgba(0,0,0,0.8)"},children:e.photographer}),b.jsx("div",{className:"photo-label","data-photographer":e.photographer,style:{margin:"0",backgroundColor:"rgba(0, 0, 0, 0)",color:"white",borderRadius:"0",padding:"0",fontSize:"1.3rem",fontWeight:"bold",cursor:"pointer",pointerEvents:"auto",width:"100%",transition:"all 0.2s ease-out",opacity:i===e.id?1:.8,transform:"scale(1)",boxShadow:"none",textAlign:"right",height:"40px",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:ae?"10px":"5px",border:"none",textShadow:"0px 0px 5px rgba(0,0,0,0.9), 1px 1px 3px rgba(0,0,0,0.8), -1px -1px 3px rgba(0,0,0,0.8)"},onClick:()=>ze(e.id),children:e.label})]},e.id)))},`column-${t}`)))})]})}),!E&&b.jsx("div",{onClick:Pe,style:{position:"absolute",bottom:"2vw",left:"50%",transform:"translateX(-50%)",zIndex:15,background:"transparent",border:"none",borderRadius:"8px",width:"128px",height:"128px",overflow:"visible",cursor:"pointer"},title:"Return to home view (you can also swipe left with three fingers or long drag left)",children:b.jsxs("div",{style:{width:"120px",height:"120px",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",position:"absolute",top:"4px",left:"4px",backgroundColor:"transparent",overflow:"hidden"},children:[b.jsx("div",{style:{position:"absolute",top:-4,left:-4,width:"calc(100% + 8px)",height:"calc(100% + 8px)",borderRadius:"8px",border:"4px solid rgb(255, 255, 255)",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",pointerEvents:"none",zIndex:2}}),b.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/-110.2,36.5,4.5,0/120x120@2x?attribution=false&logo=false&access_token=${Y})`,backgroundSize:"cover",backgroundPosition:"center",opacity:1}}),b.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[b.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:b.jsx("path",{d:"M22 42 C38 30 50 33 60 33 C75 33 90 42 105 48 C102 60 97 72 90 82 C75 90 60 87 38 75 C22 60 22 42 22 42 Z",fill:"hsla(0, 99%, 61%, 0.5)",strokeWidth:"1.5",stroke:"hsl(0, 99%, 41%)"})}),b.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:b.jsx("circle",{cx:"60",cy:"57",r:"12",fill:"hsla(294, 66%, 34%, 0.5)",strokeWidth:"1.5",stroke:"hsl(294, 66%, 24%)"})}),b.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:b.jsx("path",{d:"M38 72 L57 82 L68 72 L53 60 Z",fill:"hsla(249, 70%, 59%, 0.5)",strokeWidth:"1.5",stroke:"hsl(249, 70%, 39%)"})})]}),b.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.1) 100%)",pointerEvents:"none"}}),b.jsx("div",{style:{position:"absolute",border:"1px solid rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"50%",width:"10px",height:"10px",transform:"translate(-50%, -50%)",left:`${Math.min(Math.max((ke.longitude+118)/16*100,0),100)}%`,top:`${Math.min(Math.max((45-ke.latitude)/15*100,0),100)}%`,pointerEvents:"none",transition:"all 0.3s ease-out",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)",zIndex:1}})]})}),ke.zoom<7.5&&b.jsxs("div",{style:{position:"absolute",top:"2vw",left:"2vw",zIndex:10,opacity:E?0:1,transition:"opacity 0.3s ease"},children:[b.jsx("h1",{className:"geographica-hand",style:{margin:0,padding:0,color:"white",fontSize:"6rem",letterSpacing:"0em",textShadow:"3px 3px 6px rgba(0,0,0,0.6)",lineHeight:"1.1"},children:"Tied To The Land"}),b.jsx("h2",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2.5rem",maxWidth:"45vw",textShadow:"2px 2px 4px rgba(0,0,0,0.6)",lineHeight:"1.2"},children:"Explore the Jackson-Hillers photographs situated in original Indigenous territories and their history."})]}),(ke.zoom<7.5||"dine"===E||"hopi"===E||"zuni"===E)&&b.jsxs("div",{style:{position:"absolute",top:"50%",transform:"translateY(-50%)",left:"8vw",zIndex:"dine"===E||"hopi"===E||"zuni"===E?20:10,maxWidth:"30vw",background:"transparent",opacity:E&&"dine"!==E&&"hopi"!==E&&"zuni"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"dine"!==E&&"hopi"!==E&&"zuni"!==E?"none":"auto"},children:[b.jsx("h2",{className:"geographica-hand",onClick:xe,style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"left",cursor:"pointer",transition:"opacity 0.3s ease",opacity:E?0:1,pointerEvents:E?"none":"auto"},children:"The People"}),b.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"2px 2px 4px rgba(0,0,0,0.6)",lineHeight:"1.4",textAlign:"left",display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{transition:"opacity 0.3s ease"},children:[b.jsx("div",{style:{marginTop:"0.5rem",opacity:E&&"dine"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"dine"!==E?"none":"auto"},children:b.jsx("span",{className:"geographica-hand",onClick:e=>{e.preventDefault(),(()=>{null===E||"dine"===E||"notEntered"!==g&&"left"!==g||H(),m("entered"),T("dine"),M(0),u({navajo:!0,hopi:!1,zuni:!1,others:!1}),B(!1);const e=vt.dine[0];d({longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,transitionDuration:1500,transitionInterpolator:new r})})()},style:{color:"white",fontSize:"dine"===E?"5rem":"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",cursor:"pointer",transition:"font-size 0.3s ease",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"Diné"})}),b.jsx("div",{style:{marginTop:"0.5rem",opacity:E&&"hopi"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"hopi"!==E?"none":"auto"},children:b.jsx("span",{className:"geographica-hand",onClick:e=>{e.preventDefault(),(()=>{null===E||"hopi"===E||"notEntered"!==f&&"left"!==f||H(),y("entered"),T("hopi"),M(0),u({navajo:!1,hopi:!0,zuni:!1,others:!1}),B(!1);const e=vt.hopi[0];d({longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,transitionDuration:1500,transitionInterpolator:new r})})()},style:{color:"white",fontSize:"hopi"===E?"5rem":"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",cursor:"pointer",transition:"font-size 0.3s ease",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"Hopi"})}),b.jsx("div",{style:{marginTop:"0.5rem",opacity:E&&"zuni"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"zuni"!==E?"none":"auto"},children:b.jsx("span",{className:"geographica-hand",onClick:e=>{e.preventDefault(),(()=>{null===E||"zuni"===E||"notEntered"!==v&&"left"!==v||H(),x("entered"),T("zuni"),M(0),u({navajo:!1,hopi:!1,zuni:!0,others:!1}),B(!1);const e=vt.zuni[0];d({longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,transitionDuration:1500,transitionInterpolator:new r})})()},style:{color:"white",fontSize:"zuni"===E?"5rem":"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",cursor:"pointer",transition:"font-size 0.3s ease",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"Zuni"})})]}),b.jsx("div",{style:{marginTop:"1.5rem",opacity:E?0:1,transition:"opacity 0.3s ease",pointerEvents:E?"none":"auto",display:"flex",alignItems:"center",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem"},children:b.jsx("span",{onClick:()=>te(!K),style:{color:"white",letterSpacing:"0.05rem",cursor:"pointer",textDecoration:K?"underline":"none",opacity:K?1:.7},children:"SHOW_LABELS"})}),K&&(!E||"hillers"===E||"jackson"===E)&&b.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",fontFamily:"monospace",fontSize:"0.7rem"},children:[b.jsx("div",{style:{marginBottom:"0.3rem"},children:b.jsx("span",{onClick:()=>re(!ae),style:{color:"white",cursor:"pointer",textDecoration:ae?"underline":"none",opacity:ae?1:.7},children:"GROUP_BY_PHOTOGRAPHER"})}),b.jsx("div",{style:{marginBottom:"0.3rem"},children:b.jsx("span",{onClick:()=>le(!se),style:{color:"white",cursor:"pointer",textDecoration:se?"underline":"none",opacity:se?1:.7},children:"SHOW_CONNECTORS"})}),b.jsxs("div",{style:{color:"white",marginBottom:"0.3rem"},children:[b.jsx("span",{style:{marginRight:"6px"},children:"COLUMNS:"}),b.jsxs("span",{style:{display:"inline-flex",gap:"10px"},children:[b.jsx("span",{onClick:()=>ne(1),style:{cursor:"pointer",textDecoration:1===oe?"underline":"none",fontWeight:1===oe?"bold":"normal"},children:"1"}),b.jsx("span",{onClick:()=>ne(2),style:{cursor:"pointer",textDecoration:2===oe?"underline":"none",fontWeight:2===oe?"bold":"normal"},children:"2"}),b.jsx("span",{onClick:()=>ne(3),style:{cursor:"pointer",textDecoration:3===oe?"underline":"none",fontWeight:3===oe?"bold":"normal"},children:"3"})]})]})]})]})]}),(ke.zoom<7.5||"jackson"===E||"hillers"===E)&&b.jsxs("div",{style:{position:"absolute",top:"2vw",right:"2vw",zIndex:"hillers"===E||"jackson"===E?30:10,maxWidth:"jackson"===E?"60vw":"30vw",background:"transparent",opacity:E&&"hillers"!==E&&"jackson"!==E?0:1,transition:"opacity 0.3s ease, max-width 0.3s ease",pointerEvents:E&&"hillers"!==E&&"jackson"!==E?"none":"auto"},children:[b.jsx("h2",{className:"geographica-hand",onClick:e=>e.preventDefault(),style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right",cursor:"pointer",opacity:E?0:1,transition:"opacity 0.3s ease",pointerEvents:E?"none":"auto",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"The Photographers"}),b.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.4",textAlign:"right",display:"flex",flexDirection:"column"},children:[b.jsx("span",{onClick:e=>{e.preventDefault(),(()=>{null===E||"hillers"===E||"notEntered"!==_&&"left"!==_||H(),S("entered"),T("hillers"),M(0),u({navajo:!1,hopi:!1,zuni:!1,others:!1}),B(!0),G("Hillers"),te(!0),le(!1),ne(1);const e=vt.hillers[0];d({longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,transitionDuration:1500,transitionInterpolator:new r})})()},style:{cursor:"pointer",opacity:E&&"hillers"!==E?0:1,transition:"opacity 0.3s ease, font-size 0.3s ease",pointerEvents:E&&"hillers"!==E?"none":"auto",fontSize:"hillers"===E?"5rem":"2rem",WebkitTapHighlightColor:"transparent",userSelect:"none",position:"relative",zIndex:"hillers"===E?40:"auto",whiteSpace:"nowrap"},children:"John K. Hillers"}),b.jsx("span",{onClick:e=>{e.preventDefault(),(()=>{null===E||"jackson"===E||"notEntered"!==w&&"left"!==w||H(),k("entered"),T("jackson"),M(0),u({navajo:!1,hopi:!1,zuni:!1,others:!1}),B(!0),G("Jackson"),te(!0),le(!1),ne(1);const e=vt.jackson[0];d({longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,transitionDuration:1500,transitionInterpolator:new r})})()},style:{cursor:"pointer",opacity:E&&"jackson"!==E?0:1,transition:"opacity 0.3s ease, font-size 0.3s ease",pointerEvents:E&&"jackson"!==E?"none":"auto",fontSize:"jackson"===E?"5rem":"2rem",WebkitTapHighlightColor:"transparent",userSelect:"none",position:"relative",zIndex:"jackson"===E?40:"auto",whiteSpace:"nowrap"},children:"William Henry Jackson"})]})]}),ke.zoom<7.5&&b.jsxs("div",{style:{position:"absolute",top:"20vw",right:"2vw",zIndex:"nationalParks"===E?20:10,maxWidth:"30vw",background:"transparent",opacity:E&&"nationalParks"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"nationalParks"!==E?"none":"auto"},children:[b.jsx("h2",{className:"geographica-hand",onClick:e=>{e.preventDefault(),R()},style:{margin:0,padding:0,color:"white",fontSize:"nationalParks"===E?"5rem":"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right",cursor:"pointer",transition:"font-size 0.3s ease",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"National Parks"}),b.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.4",textAlign:"right",opacity:E?0:1,transition:"opacity 0.3s ease",pointerEvents:E?"none":"auto",display:"flex",flexDirection:"column"},children:[b.jsx("span",{onClick:e=>{e.preventDefault(),R()},style:{cursor:"pointer",WebkitTapHighlightColor:"transparent",userSelect:"none",whiteSpace:"nowrap"},children:"Yellowstone"}),b.jsx("span",{onClick:e=>{e.preventDefault(),R()},style:{cursor:"pointer",WebkitTapHighlightColor:"transparent",userSelect:"none",whiteSpace:"nowrap"},children:"Grand Canyon"}),b.jsx("span",{onClick:e=>{e.preventDefault(),R()},style:{cursor:"pointer",WebkitTapHighlightColor:"transparent",userSelect:"none",whiteSpace:"nowrap"},children:"Chaco Culture"}),b.jsx("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-end",fontFamily:"monospace",fontSize:"0.9rem",opacity:.9},children:b.jsx("span",{onClick:e=>{e.preventDefault(),E?R():we()},style:{color:"white",letterSpacing:"0.05rem",cursor:"pointer",textDecoration:O?"underline":"none",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:O?"HIDE_OVERLAYS":"SHOW_OVERLAYS"})})]})]}),ke.zoom<7.5&&b.jsx("div",{style:{position:"absolute",top:"38vw",right:"2vw",zIndex:"bae"===E?20:10,maxWidth:"30vw",background:"transparent",opacity:E&&"bae"!==E?0:1,transition:"opacity 0.3s ease",pointerEvents:E&&"bae"!==E?"none":"auto"},children:b.jsx("h2",{className:"geographica-hand",onClick:e=>{e.preventDefault(),null===E||"bae"===E||"notEntered"!==z&&"left"!==z||H(),j("entered"),T("bae")},style:{margin:0,padding:0,color:"white",fontSize:"bae"===E?"5rem":"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right",cursor:"pointer",transition:"font-size 0.3s ease",WebkitTapHighlightColor:"transparent",userSelect:"none"},children:"The Bureau of Ethnography"})}),E&&b.jsx("button",{onClick:e=>{e.preventDefault(),"dine"===E?A():"hopi"===E?L():"zuni"===E?D():"jackson"===E?(k("left"),T(null),G(null),te(!1),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),d({...p,transitionDuration:1500,transitionInterpolator:new r})):"hillers"===E?(S("left"),T(null),G(null),te(!1),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),d({...p,transitionDuration:1500,transitionInterpolator:new r})):"nationalParks"===E?(C("left"),T(null),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),d({...p,transitionDuration:1500,transitionInterpolator:new r})):"bae"===E&&(j("left"),T(null),u({navajo:!0,hopi:!0,zuni:!0,others:!1}),d({...p,transitionDuration:1500,transitionInterpolator:new r}))},style:{position:"fixed",top:"20px",right:"20px",zIndex:50,background:"transparent",color:"white",border:"2px solid white",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent",outline:"none"},children:"×"}),("dine"===E||"hopi"===E||"zuni"===E)&&b.jsxs("div",{style:{position:"fixed",bottom:"30px",left:"50%",transform:"translateX(-50%)",zIndex:50,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"800px",width:"80%",maxHeight:"70vh",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.3) transparent",paddingRight:"10px"},children:[b.jsxs("div",{style:{background:"transparent",color:"white",padding:"0",marginBottom:"25px",width:"100%"},children:[b.jsxs("h3",{className:"geographica-hand",style:{fontSize:"2.5rem",marginTop:0,marginBottom:"15px",textShadow:"2px 2px 6px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.7)"},children:[0===I&&"History",1===I&&"Culture",2===I&&"Origin Story",3===I&&"Religious Practices",4===I&&"Location & Landscape"]}),b.jsxs("div",{style:{fontSize:"1.3rem",lineHeight:"1.6",fontFamily:'"adelle", serif',fontWeight:100,fontStyle:"normal",textShadow:"0px 0px 6px rgba(0,0,0,0.9), 2px 2px 4px rgba(0,0,0,0.9), -2px -2px 4px rgba(0,0,0,0.9), 0 0 15px rgba(0,0,0,0.8)",padding:"0 5px 10px 5px"},children:["dine"===E&&vt.dine[I].content,"hopi"===E&&vt.hopi[I].content,"zuni"===E&&vt.zuni[I].content]})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginTop:"10px"},children:[b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1},children:[0,1,2,3,4].map((e=>b.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:e===I?"white":"rgba(255, 255, 255, 0.3)",margin:"0 8px",cursor:"pointer",boxShadow:e===I?"0 0 8px rgba(255, 255, 255, 0.8)":"none",transition:"all 0.3s ease"},onClick:t=>{t.preventDefault();const o=vt[E];if(!o)return;M(e);const i=o[e];if(i.markerViewId)ze(i.markerViewId);else{if(0===e){let e={navajo:!1,hopi:!1,zuni:!1,others:!1};"dine"===E?e.navajo=!0:"hopi"===E?e.hopi=!0:"zuni"===E&&(e.zuni=!0),u(e),l(null)}d({longitude:i.longitude,latitude:i.latitude,zoom:i.zoom,pitch:i.pitch,bearing:i.bearing,transitionDuration:1500,transitionInterpolator:new r})}}},e)))}),b.jsxs("div",{style:{display:"flex",gap:"10px"},children:[b.jsx("button",{onClick:e=>{e.preventDefault(),(()=>{if(!E)return;const e=vt[E];if(!e)return;if(I<=0)return;const t=I-1;M(t);const o=e[t];if(o.markerViewId)ze(o.markerViewId);else{if(0===t){let e={navajo:!1,hopi:!1,zuni:!1,others:!1};"dine"===E?e.navajo=!0:"hopi"===E?e.hopi=!0:"zuni"===E&&(e.zuni=!0),u(e),l(null)}d({longitude:o.longitude,latitude:o.latitude,zoom:o.zoom,pitch:o.pitch,bearing:o.bearing,transitionDuration:1500,transitionInterpolator:new r})}})()},disabled:0===I,style:{background:"transparent",color:"white",border:0===I?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px",padding:"10px 18px",cursor:0===I?"default":"pointer",fontSize:"1rem",WebkitTapHighlightColor:"transparent",outline:"none",textShadow:"0 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.3s ease",fontFamily:'"adelle", serif',fontWeight:300,opacity:0===I?.5:1},children:"Previous"}),b.jsx("button",{onClick:e=>{e.preventDefault(),(()=>{if(!E)return;const e=vt[E];if(!e)return;if(I>=e.length-1)return void("dine"===E?A():"hopi"===E?L():"zuni"===E&&D());const t=I+1;M(t);const o=e[t];if(o.markerViewId)ze(o.markerViewId);else{if(0===t){let e={navajo:!1,hopi:!1,zuni:!1,others:!1};"dine"===E?e.navajo=!0:"hopi"===E?e.hopi=!0:"zuni"===E&&(e.zuni=!0),u(e),l(null)}d({longitude:o.longitude,latitude:o.latitude,zoom:o.zoom,pitch:o.pitch,bearing:o.bearing,transitionDuration:1500,transitionInterpolator:new r})}})()},style:{background:"transparent",color:"white",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px",padding:"10px 18px",cursor:"pointer",fontSize:"1rem",WebkitTapHighlightColor:"transparent",outline:"none",textShadow:"0 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.3s ease",fontFamily:'"adelle", serif',fontWeight:300},children:4===I?"Finish":"Next"})]})]})]}),("jackson"===E||"hillers"===E)&&b.jsx("div",{style:{position:"fixed",bottom:"5vw",left:"5vw",zIndex:50,display:"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:"600px",width:"60%",maxHeight:"70vh",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.3) transparent",paddingRight:"10px"},children:b.jsxs("div",{style:{background:"transparent",color:"white",padding:"0",marginBottom:"25px",width:"100%"},children:[b.jsx("h3",{className:"geographica-hand",style:{fontSize:"2.5rem",marginTop:0,marginBottom:"15px",textShadow:"2px 2px 6px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.7)"},children:0===I&&"Biography"}),b.jsxs("div",{style:{fontSize:"1.3rem",lineHeight:"1.6",fontFamily:'"adelle", serif',fontWeight:100,fontStyle:"normal",textShadow:"0px 0px 6px rgba(0,0,0,0.9), 2px 2px 4px rgba(0,0,0,0.9), -2px -2px 4px rgba(0,0,0,0.9), 0 0 15px rgba(0,0,0,0.8)",padding:"0 5px 10px 5px"},children:["jackson"===E&&vt.jackson[I].content,"hillers"===E&&vt.hillers[I].content]})]})}),t&&b.jsxs("div",{style:{position:"absolute",top:50,left:10,zIndex:10,background:"red",color:"white",padding:"10px"},children:["Error: ",t]}),Ie&&F&&b.jsxs("div",{style:{position:"absolute",top:10,right:10,zIndex:10,background:"rgba(255, 255, 255, 0.95)",padding:"12px",borderRadius:"6px",width:"450px",boxShadow:"0 2px 15px rgba(0,0,0,0.4)",maxHeight:"90vh",overflowY:"auto",animation:"fadeIn 500ms ease-in-out forwards"},children:[b.jsx("div",{style:{position:"absolute",top:"5px",right:"5px"},children:b.jsx("button",{onClick:()=>l(null),style:{padding:"3px 6px",background:"rgba(0,0,0,0.15)",color:"#333",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"×"})}),b.jsx("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxHeight:"500px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5",margin:"0 0 10px 0"},children:b.jsx("img",{src:Ie.image_url.startsWith("http")?Ie.image_url:X(Ie.image_url.replace(/^\//,"")),alt:Ie.name,style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain"}})}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[b.jsxs("div",{style:{flex:"1"},children:[b.jsx("h3",{className:"aldine-bold",style:{margin:"0 0 2px 0",fontSize:"18px"},children:Ie.name}),b.jsxs("p",{className:"aldine-text",style:{margin:"0",fontSize:"14px",color:"Jackson"===Ie.photographer?"#c43e1c":"#2761ac"},children:[Ie.photographer,", ",Ie.year]})]}),b.jsxs("div",{style:{flex:"1",textAlign:"right",fontSize:"12px",color:"#555"},children:[b.jsx("p",{style:{margin:"0"},children:"Jackson"===Ie.photographer?"Western US Geological Survey":"Bureau of American Ethnology"}),b.jsx("p",{style:{margin:"0",fontStyle:"italic"},children:"Jackson"===Ie.photographer?"1875-1876":"1879"})]})]}),b.jsx("p",{className:"aldine-text",style:{margin:"0 0 10px 0",fontSize:"14px",lineHeight:"1.4"},children:Ie.description}),b.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px",padding:"6px",background:"rgba(0,0,0,0.03)",borderRadius:"4px"},children:b.jsxs("p",{style:{margin:"0",fontStyle:"italic"},children:["Indigenous territories documentary photography -","Jackson"===Ie.photographer?" Part of early extensive photographic expeditions documenting the Southwest.":" Some of the earliest photographic record of traditional Pueblo life."]})})]}),b.jsx(q,{styleUrl:yt,layers:Te,viewState:c,onViewStateChange:({viewState:e})=>{d(e)},territoriesVisible:h,showMapboxMarkers:O,deckRef:ce})]})}x.createRoot(document.getElementById("root")).render(b.jsx(bt,{}));

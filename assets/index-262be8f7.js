import{r as e,D as t,C as o,I as i,T as n,R as r,F as a}from"./deck-68cb15df.js";import{r as s,_ as l}from"./vendor-8b0cae8e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c={exports:{}},d={},p=e,h=Symbol.for("react.element"),u=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,g=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function v(e,t,o){var i,n={},r=null,a=null;for(i in void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(a=t.ref),t)m.call(t,i)&&!f.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===n[i]&&(n[i]=t[i]);return{$$typeof:h,type:e,key:r,ref:a,props:n,_owner:g.current}}d.Fragment=u,d.jsx=v,d.jsxs=v,c.exports=d;var y=c.exports,b={},x=s;b.createRoot=x.createRoot,b.hydrateRoot=x.hydrateRoot;const _=e.createContext(null);function w(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!w(e[o],t[o]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(const n of o){if(!t.hasOwnProperty(n))return!1;if(!w(e[n],t[n]))return!1}return!0}return!1}function S(e,t){if(!e.getProjection)return;const o=e.getProjection();w(o,t.getProjection())||t.setProjection(o)}function k(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function P(e,t){const o=t.viewState||t;let i=!1;if("zoom"in o){const t=e.zoom;e.zoom=o.zoom,i=i||t!==e.zoom}if("bearing"in o){const t=e.bearing;e.bearing=o.bearing,i=i||t!==e.bearing}if("pitch"in o){const t=e.pitch;e.pitch=o.pitch,i=i||t!==e.pitch}if(o.padding&&!e.isPaddingEqual(o.padding)&&(i=!0,e.padding=o.padding),"longitude"in o&&"latitude"in o){const t=e.center;e.center=new t.constructor(o.longitude,o.latitude),i=i||t!==e.center}return i}const C=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function E(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const i of e.layers)t[i.id]=i;const o=e.layers.map((e=>{let o=null;"interactive"in e&&(o=Object.assign({},e),delete o.interactive);const i=t[e.ref];if(i){o=o||Object.assign({},e),delete o.ref;for(const e of C)e in i&&(o[e]=i[e])}return o||e}));return{...e,layers:o}}const j={version:8,sources:{},layers:[]},M={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},z={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},T={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},L=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],I=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class A{constructor(e,t,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[T[e.type]];t?t(e):e.type},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[M[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[z[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const o=this._updateSettings(e,t);o&&this._createShadowTransform(this._map);const i=this._updateSize(e),n=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(o||i||n&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const o=A.savedMaps.pop();if(!o)return null;const i=o.map,n=i.getContainer();for(t.className=n.className;n.childNodes.length>0;)t.appendChild(n.childNodes[0]);i._container=t;const r=i._resizeObserver;r&&(r.disconnect(),r.observe(t)),o.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:a}=e;return a&&(a.bounds?i.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):o._updateViewState(a,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",(()=>i.fire("load"))),i._update(),o}_initialize(e){const{props:t}=this,{mapStyle:o=j}=t,i={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||H()||null,container:e,style:E(o)},n=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const r=new this._MapClass(i);n.padding&&r.setPadding(n.padding),t.cursor&&(r.getCanvas().style.cursor=t.cursor),this._createShadowTransform(r);const a=r._render;r._render=e=>{this._inRender=!0,a.call(r,e),this._inRender=!1};const s=r._renderTaskQueue.run;r._renderTaskQueue.run=e=>{s.call(r._renderTaskQueue,e),this._onBeforeRepaint()},r.on("render",(()=>this._onAfterRepaint()));const l=r.fire;r.fire=this._fireEvent.bind(this,l),r.on("resize",(()=>{this._renderTransform.resize(r.transform.width,r.transform.height)})),r.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),S(r.transform,this._renderTransform)})),r.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const c in M)r.on(c,this._onPointerEvent);for(const c in z)r.on(c,this._onCameraEvent);for(const c in T)r.on(c,this._onEvent);this._map=r}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null==e||e.remove(),A.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const o=this._map,i=this._renderTransform,{zoom:n,pitch:r,bearing:a}=i,s=o.isMoving();s&&(i.cameraElevationReference="sea");const l=P(i,{...k(o.transform),...e});if(s&&(i.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=n!==i.zoom),e.rotate||(e.rotate=a!==i.bearing),e.pitch||(e.pitch=r!==i.pitch)}return s||P(o.transform,e),l}_updateSettings(e,t){const o=this._map;let i=!1;for(const n of L)if(n in e&&!w(e[n],t[n])){i=!0;const t=o[`set${n[0].toUpperCase()}${n.slice(1)}`];null==t||t.call(o,e[n])}return i}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=j,styleDiffing:o=!0}=e,i={diff:o};return"localIdeographFontFamily"in e&&(i.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(E(t),i),!0}return!1}_updateStyleComponents(e,t){const o=this._map;let i=!1;return o.isStyleLoaded()&&("light"in e&&o.setLight&&!w(e.light,t.light)&&(i=!0,o.setLight(e.light)),"fog"in e&&o.setFog&&!w(e.fog,t.fog)&&(i=!0,o.setFog(e.fog)),"terrain"in e&&o.setTerrain&&!w(e.terrain,t.terrain)&&(e.terrain&&!o.getSource(e.terrain.source)||(i=!0,o.setTerrain(e.terrain)))),i}_updateHandlers(e,t){var o,i;const n=this._map;let r=!1;for(const a of I){const s=null===(o=e[a])||void 0===o||o;w(s,null===(i=t[a])||void 0===i||i)||(r=!0,s?n[a].enable(s):n[a].disable())}return r}_queryRenderedFeatures(e){const t=this._map,o=t.transform,{interactiveLayerIds:i=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:i.filter(t.getLayer.bind(t))})}catch(n){return[]}finally{t.transform=o}}_updateHover(e){var t;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const o=e.type,i=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,n=this._queryRenderedFeatures(e.point),r=n.length>0;!r&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,r&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}_fireEvent(e,t,o){const i=this._map,n=i.transform,r="string"==typeof t?t:t.type;return"move"===r&&this._updateViewState(this.props,!1),r in z&&("object"==typeof t&&(t.viewState=k(n)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,t,o),i.transform=n,i):(e.call(i,t,o),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&e.fire(o);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{S(this._renderTransform,t),e.transform=t}}}function H(){let e=null;if("undefined"!=typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch(t){}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(o){}return e}A.savedMaps=[];const O=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function R(e){if(!e)return null;const t=e.map,o={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>{const i=t.transform;t.transform=e.transform;const n=t.project(o);return t.transform=i,n},unproject:o=>{const i=t.transform;t.transform=e.transform;const n=t.unproject(o);return t.transform=i,n},queryTerrainElevation:(o,i)=>{const n=t.transform;t.transform=e.transform;const r=t.queryTerrainElevation(o,i);return t.transform=n,r},queryRenderedFeatures:(o,i)=>{const n=t.transform;t.transform=e.transform;const r=t.queryRenderedFeatures(o,i);return t.transform=n,r}};for(const i of function(e){const t=new Set;let o=e;for(;o;){for(const i of Object.getOwnPropertyNames(o))"_"!==i[0]&&"function"==typeof e[i]&&"fire"!==i&&"setEventedParent"!==i&&t.add(i);o=Object.getPrototypeOf(o)}return Array.from(t)}(t))i in o||O.includes(i)||(o[i]=t[i].bind(t));return o}const D="undefined"!=typeof document?e.useLayoutEffect:e.useEffect,N=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const B=e.createContext(null);function W(t,o,i){const n=e.useContext(_),[r,a]=e.useState(null),s=e.useRef(),{current:l}=e.useRef({mapLib:null,map:null});e.useEffect((()=>{const e=t.mapLib;let o,r=!0;return Promise.resolve(e||i).then((e=>{if(!r)return;if(!e)throw new Error("Invalid mapLib");const i="Map"in e?e:e.default;if(!i.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const i of N)i in t&&(e[i]=t[i]);const{RTLTextPlugin:o="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;o&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(o,(e=>{}),!0)}(i,t),i.supported&&!i.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(o=A.reuse(t,s.current)),o||(o=new A(i.Map,t,s.current)),l.map=R(o),l.mapLib=i,a(o),null==n||n.onMapMount(l.map,t.id)})).catch((e=>{const{onError:o}=t;o&&o({type:"error",target:null,originalEvent:null,error:e})})),()=>{r=!1,o&&(null==n||n.onMapUnmount(t.id),t.reuseMaps?o.recycle():o.destroy())}}),[]),D((()=>{r&&r.setProps(t)})),e.useImperativeHandle(o,(()=>l.map),[r]);const c=e.useMemo((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return e.createElement("div",{id:t.id,ref:s,style:c},r&&e.createElement(B.Provider,{value:l},e.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}const F=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function U(e,t){if(!e||!t)return;const o=e.style;for(const i in t){const e=t[i];Number.isFinite(e)&&!F.test(i)?o[i]=`${e}px`:o[i]=e}}function J(e){return new Set(e?e.trim().split(/\s+/):[])}function V(t,o,i,n){const r=e.useContext(B),a=e.useMemo((()=>t(r)),[]);return e.useEffect((()=>{const e=n||i||o,t="function"==typeof o&&"function"==typeof i?o:null,s="function"==typeof i?i:"function"==typeof o?o:null,{map:l}=r;return l.hasControl(a)||(l.addControl(a,null==e?void 0:e.position),t&&t(r)),()=>{s&&s(r),l.hasControl(a)&&l.removeControl(a)}}),[]),a}e.memo(e.forwardRef((function(t,o){const{map:i,mapLib:n}=e.useContext(B),r=e.useRef({props:t});r.current.props=t;const a=e.useMemo((()=>{let o=!1;e.Children.forEach(t.children,(e=>{e&&(o=!0)}));const i={...t,element:o?document.createElement("div"):null},s=new n.Marker(i);return s.setLngLat([t.longitude,t.latitude]),s.getElement().addEventListener("click",(e=>{var t,o;null===(o=(t=r.current.props).onClick)||void 0===o||o.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,o;const i=e;i.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDragStart)||void 0===o||o.call(t,i)})),s.on("drag",(e=>{var t,o;const i=e;i.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDrag)||void 0===o||o.call(t,i)})),s.on("dragend",(e=>{var t,o;const i=e;i.lngLat=a.getLngLat(),null===(o=(t=r.current.props).onDragEnd)||void 0===o||o.call(t,i)})),s}),[]);e.useEffect((()=>(a.addTo(i.getMap()),()=>{a.remove()})),[]);const{longitude:l,latitude:c,offset:d,style:p,draggable:h=!1,popup:u=null,rotation:m=0,rotationAlignment:g="auto",pitchAlignment:f="auto"}=t;return e.useEffect((()=>{U(a.getElement(),p)}),[p]),e.useImperativeHandle(o,(()=>a),[]),a.getLngLat().lng===l&&a.getLngLat().lat===c||a.setLngLat([l,c]),d&&!function(e,t){const o=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0;return o===n&&i===r}(a.getOffset(),d)&&a.setOffset(d),a.isDraggable()!==h&&a.setDraggable(h),a.getRotation()!==m&&a.setRotation(m),a.getRotationAlignment()!==g&&a.setRotationAlignment(g),a.getPitchAlignment()!==f&&a.setPitchAlignment(f),a.getPopup()!==u&&a.setPopup(u),s.createPortal(t.children,a.getElement())}))),e.memo(e.forwardRef((function(t,o){const{map:i,mapLib:n}=e.useContext(B),r=e.useMemo((()=>document.createElement("div")),[]),a=e.useRef({props:t});a.current.props=t;const l=e.useMemo((()=>{const e={...t},o=new n.Popup(e);return o.setLngLat([t.longitude,t.latitude]),o.once("open",(e=>{var t,o;null===(o=(t=a.current.props).onOpen)||void 0===o||o.call(t,e)})),o}),[]);if(e.useEffect((()=>{const e=e=>{var t,o;null===(o=(t=a.current.props).onClose)||void 0===o||o.call(t,e)};return l.on("close",e),l.setDOMContent(r).addTo(i.getMap()),()=>{l.off("close",e),l.isOpen()&&l.remove()}}),[]),e.useEffect((()=>{U(l.getElement(),t.style)}),[t.style]),e.useImperativeHandle(o,(()=>l),[]),l.isOpen()&&(l.getLngLat().lng===t.longitude&&l.getLngLat().lat===t.latitude||l.setLngLat([t.longitude,t.latitude]),t.offset&&!w(l.options.offset,t.offset)&&l.setOffset(t.offset),l.options.anchor===t.anchor&&l.options.maxWidth===t.maxWidth||(l.options.anchor=t.anchor,l.setMaxWidth(t.maxWidth)),l.options.className!==t.className)){const e=J(l.options.className),o=J(t.className);for(const t of e)o.has(t)||l.removeClassName(t);for(const t of o)e.has(t)||l.addClassName(t);l.options.className=t.className}return s.createPortal(t.children,r)}))),e.memo((function(t){const o=V((({mapLib:e})=>new e.AttributionControl(t)),{position:t.position});return e.useEffect((()=>{U(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=V((({mapLib:e})=>new e.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})),{position:t.position});return e.useEffect((()=>{U(o._controlContainer,t.style)}),[t.style]),null})),e.memo(e.forwardRef((function(t,o){const i=e.useRef({props:t}),n=V((({mapLib:e})=>{const o=new e.GeolocateControl(t),n=o._setupUI;return o._setupUI=e=>{o._container.hasChildNodes()||n(e)},o.on("geolocate",(e=>{var t,o;null===(o=(t=i.current.props).onGeolocate)||void 0===o||o.call(t,e)})),o.on("error",(e=>{var t,o;null===(o=(t=i.current.props).onError)||void 0===o||o.call(t,e)})),o.on("outofmaxbounds",(e=>{var t,o;null===(o=(t=i.current.props).onOutOfMaxBounds)||void 0===o||o.call(t,e)})),o.on("trackuserlocationstart",(e=>{var t,o;null===(o=(t=i.current.props).onTrackUserLocationStart)||void 0===o||o.call(t,e)})),o.on("trackuserlocationend",(e=>{var t,o;null===(o=(t=i.current.props).onTrackUserLocationEnd)||void 0===o||o.call(t,e)})),o}),{position:t.position});return i.current.props=t,e.useImperativeHandle(o,(()=>n),[]),e.useEffect((()=>{U(n._container,t.style)}),[t.style]),null}))),e.memo((function(t){const o=V((({mapLib:e})=>new e.NavigationControl(t)),{position:t.position});return e.useEffect((()=>{U(o._container,t.style)}),[t.style]),null})),e.memo((function(t){const o=V((({mapLib:e})=>new e.ScaleControl(t)),{position:t.position}),i=e.useRef(t),n=i.current;i.current=t;const{style:r}=t;return void 0!==t.maxWidth&&t.maxWidth!==n.maxWidth&&(o.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==n.unit&&o.setUnit(t.unit),e.useEffect((()=>{U(o._container,r)}),[r]),null}));const Z=l((()=>import("./vendor-8b0cae8e.js").then((e=>e.m))),["assets/vendor-8b0cae8e.js","assets/deck-68cb15df.js"]),K=e.forwardRef((function(e,t){return W(e,t,Z)}));const G="pk.eyJ1Ijoic3R1ZGlvLW9ycGltZW50IiwiYSI6ImNtOTFxZGI1ZzAzdDEycnBzbHZhNHdvbHMifQ.4z6bo58xtenHNY2vwt39Gg";function Y({styleUrl:o,children:i,layers:n=[],viewState:r,onViewStateChange:a,territoriesVisible:s={navajo:!0,hopi:!0,zuni:!0,others:!1},showMapboxMarkers:l=!1,deckRef:c}){const d={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},[p,h]=e.useState(d),[u,m]=e.useState(!1),[g,f]=e.useState(null),v=r||p,b=e.useCallback((()=>{}),[v]);e.useEffect((()=>{const e=e=>{"c"!==e.key&&"C"!==e.key||b()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[b]),e.useEffect((()=>{if(g)try{const e=(e,t)=>{if(t){const o=["==",["get","Slug"],e],i=`territory-${e}`;if(g.getLayer(i))g.setLayoutProperty(i,"visibility","visible");else if(g.getLayer("native-land-territories")){g.getLayer("native-land-territories");g.addLayer({id:i,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:o,paint:{"fill-color":"navajo"===e?"hsla(0, 99%, 61%, 0.5)":"hopi"===e?"hsla(294, 66%, 34%, 0.5)":"zuni"===e?"hsla(249, 70%, 59%, 0.5)":"hsla(156, 80%, 45%, 0.1)","fill-outline-color":"navajo"===e?"hsl(0, 99%, 41%)":"hopi"===e?"hsl(294, 66%, 24%)":"zuni"===e?"hsl(249, 70%, 39%)":"hsl(156, 80%, 45%)","fill-opacity":t?1:.3}})}}else{const t=`territory-${e}`;g.getLayer(t)&&(["navajo","hopi","zuni"].includes(e)?g.setLayoutProperty(t,"visibility","visible"):g.setLayoutProperty(t,"visibility","none"))}};if(["native-land-territories","native-land-labels"].forEach((e=>{g.getLayer(e)&&g.setLayoutProperty(e,"visibility","none")})),e("navajo",s.navajo),e("hopi",s.hopi),e("zuni",s.zuni),s.others){const e="territory-others";g.getLayer(e)?g.setLayoutProperty(e,"visibility","visible"):g.addLayer({id:e,type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",filter:["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]],paint:{"fill-color":"hsla(156, 80%, 45%, 0.1)","fill-outline-color":"hsl(156, 80%, 45%)"}})}else{const e="territory-others";g.getLayer(e)&&g.setLayoutProperty(e,"visibility","none")}}catch(e){}}),[g,s]);const x=(e=>{if(l)return e;const t=JSON.parse(JSON.stringify(e)),o=["expedition-points","expedition-point-labels","origin-destination-markers","origin-destination-labels","general-photo-markers","general-photo-labels"];return t.layers=t.layers.map((e=>o.includes(e.id)?{...e,layout:{...e.layout||{},visibility:"none"}}:e)),t})((e=>{const t=JSON.parse(JSON.stringify(e)),o=s.navajo,i=s.hopi,n=s.zuni,r=s.others;return o||i||n||r?(t.layers=t.layers.map((e=>{if("native-land-territories"===e.id||"native-land-labels"===e.id){const t=["any"];return o&&t.push(["==",["get","Slug"],"navajo"]),i&&t.push(["==",["get","Slug"],"hopi"]),n&&t.push(["==",["get","Slug"],"zuni"]),r&&t.push(["all",["!=",["get","Slug"],"navajo"],["!=",["get","Slug"],"hopi"],["!=",["get","Slug"],"zuni"]]),{...e,filter:t}}return e})),t):(t.layers=t.layers.filter((e=>"native-land-territories"!==e.id&&"native-land-labels"!==e.id)),t)})({version:8,name:"Indigenous Territories Map",sources:{"mapbox-satellite":{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},"mapbox-dem":{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14},"native-land":{type:"vector",url:"mapbox://nativeland.4pgB_next_nld_terr_prod_layer"},"jackson-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Jackson Expedition Route"},geometry:{type:"LineString",coordinates:[[-111.65,35.19],[-110.87,35.6],[-110.45,35.73],[-110.17,36.31],[-109.87,36.99]]}}},"hillers-expedition-route":{type:"geojson",data:{type:"Feature",properties:{name:"Hillers Expedition Route"},geometry:{type:"LineString",coordinates:[[-110.67,36.92],[-110.5,36.54],[-110.09,36.11],[-109.87,35.83],[-109.54,35.52]]}}},"expedition-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Canyon de Chelly",expedition:"Jackson",description:"Major photography site"},geometry:{type:"Point",coordinates:[-109.47,36.13]}},{type:"Feature",properties:{name:"Walpi",expedition:"Hillers",description:"Hopi village photography"},geometry:{type:"Point",coordinates:[-110.39,35.87]}},{type:"Feature",properties:{name:"Monument Valley",expedition:"Jackson",description:"Iconic landscape photography"},geometry:{type:"Point",coordinates:[-110.11,36.98]}},{type:"Feature",properties:{name:"Window Rock",expedition:"Hillers",description:"Cultural documentation"},geometry:{type:"Point",coordinates:[-109.05,35.68]}}]}},"chicago-route":{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[-87.63,41.88],[-111.89,40.76],[-110.55,36.15]]}}},"origin-destination-points":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chicago",type:"origin",description:"Starting point for expeditions"},geometry:{type:"Point",coordinates:[-87.63,41.88]}},{type:"Feature",properties:{name:"Washington D.C.",type:"destination",description:"Smithsonian Institution"},geometry:{type:"Point",coordinates:[-77.03,38.9]}},{type:"Feature",properties:{name:"Salt Lake City",type:"waypoint",description:"Supply point for expeditions"},geometry:{type:"Point",coordinates:[-111.89,40.76]}},{type:"Feature",properties:{name:"Mexico City",type:"destination",description:"Exhibition location"},geometry:{type:"Point",coordinates:[-99.13,19.43]}},{type:"Feature",properties:{name:"New York",type:"destination",description:"Exhibition venue"},geometry:{type:"Point",coordinates:[-73.94,40.67]}}]}},"general-image-locations":{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Chaco Canyon",type:"photo-site",description:"Archaeological site photography"},geometry:{type:"Point",coordinates:[-107.96,36.06]}},{type:"Feature",properties:{name:"Grand Canyon",type:"photo-site",description:"Landscape photography"},geometry:{type:"Point",coordinates:[-112.1129,36.0544]}},{type:"Feature",properties:{name:"Yellowstone",type:"photo-site",description:"National park documentation"},geometry:{type:"Point",coordinates:[-110.58,44.42]}}]}}},sprite:"mapbox://sprites/mapbox/satellite-streets-v12",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",terrain:{source:"mapbox-dem",exaggeration:1.2},layers:[{id:"satellite",type:"raster",source:"mapbox-satellite",minzoom:0,maxzoom:22},{id:"native-land-territories",type:"fill",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",paint:{"fill-color":["match",["get","Slug"],["navajo"],"hsla(0, 99%, 61%, 0.5)",["hopi"],"hsla(294, 66%, 34%, 0.5)",["zuni"],"hsla(249, 70%, 59%, 0.5)","hsla(156, 80%, 45%, 0.1)"],"fill-outline-color":["match",["get","Slug"],["navajo"],"hsl(0, 99%, 41%)",["hopi"],"hsl(294, 66%, 24%)",["zuni"],"hsl(249, 70%, 39%)","hsl(156, 80%, 45%)"]}},{id:"native-land-labels",type:"symbol",source:"native-land","source-layer":"4pgB_next_nld_terr_prod_source_layer",layout:{"text-field":["get","Name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":12,"text-max-width":10,"text-variable-anchor":["center"],"text-justify":"center","text-radial-offset":.5},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.7)","text-halo-width":1.5}},{id:"jackson-expedition-route-line",type:"line",source:"jackson-expedition-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(199, 100%, 43%)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"hillers-expedition-route-line",type:"line",source:"hillers-expedition-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(0, 100%, 61%, 0.83)","line-width":6,"line-dasharray":[0,2,1],"line-blur":1}},{id:"expedition-points",type:"circle",source:"expedition-points",layout:{visibility:"none"},paint:{"circle-radius":10,"circle-color":["match",["get","expedition"],"Jackson","hsl(199, 100%, 43%)","Hillers","hsla(0, 100%, 61%, 0.83)","lightgray"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"expedition-point-labels",type:"symbol",source:"expedition-points",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"origin-destination-markers",type:"circle",source:"origin-destination-points",layout:{visibility:"none"},paint:{"circle-radius":12,"circle-color":["match",["get","type"],"origin","hsl(54, 100%, 50%)","destination","hsl(54, 100%, 50%)","waypoint","hsl(54, 100%, 40%)","hsl(54, 100%, 50%)"],"circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.3}},{id:"origin-destination-labels",type:"symbol",source:"origin-destination-points",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-size":16,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0,"text-justify":"center","text-max-width":10},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"general-photo-markers",type:"circle",source:"general-image-locations",layout:{visibility:"none"},paint:{"circle-radius":10,"circle-color":"hsl(30, 100%, 50%)","circle-stroke-width":3,"circle-stroke-color":"white","circle-blur":.2}},{id:"general-photo-labels",type:"symbol",source:"general-image-locations",layout:{visibility:"none","text-field":["get","name"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":14,"text-offset":[0,-2],"text-anchor":"bottom","text-allow-overlap":!0},paint:{"text-color":"white","text-halo-color":"rgba(0, 0, 0, 0.9)","text-halo-width":2}},{id:"chicago-to-arizona-line",type:"line",source:"chicago-route",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"hsla(54, 72%, 49%, 0.8)","line-width":5,"line-dasharray":[2,1],"line-blur":1}}]}));return e.useEffect((()=>{}),[s]),e.useEffect((()=>{if(g){["expedition-points","expedition-point-labels","origin-destination-markers","origin-destination-labels","general-photo-markers","general-photo-labels","jackson-expedition-route-line","hillers-expedition-route-line","chicago-to-arizona-line"].forEach((e=>{try{g.getLayer(e)&&g.setLayoutProperty(e,"visibility",l?"visible":"none")}catch(t){}}))}}),[g,l]),y.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:y.jsxs(t,{ref:c,initialViewState:d,viewState:v,controller:{dragPan:!0,dragRotate:!0,scrollZoom:!0,touchZoom:!0,touchRotate:!0,doubleClickZoom:!0,keyboard:!0,maxPitch:89,minPitch:0},onViewStateChange:e=>{a&&a(e)},layers:n,onError:e=>{},children:[y.jsx(K,{id:"main",mapboxAccessToken:G,mapStyle:x,attributionControl:!1,logoPosition:"bottom-right",interactive:!0,cooperativeGestures:!1,locale:{"AttributionControl.ToggleAttribution":"","AttributionControl.ChangeAttribution":"","TerrainControl.enableTerrain":"","NavigationControl.ZoomIn":"","NavigationControl.ZoomOut":"","NavigationControl.ResetBearing":"","GeolocateControl.Find":"","GeolocateControl.FindMe":"","ScaleControl.Feet":"","ScaleControl.Meters":"","LogoControl.Title":"","Map.Title":""},onLoad:e=>{m(!0),f(e.target);e.target.getContainer().querySelectorAll(".mapboxgl-ctrl-attrib-inner, .mapboxgl-ctrl-attrib, .mapboxgl-ctrl-logo, .mapboxgl-ctrl-bottom-right").forEach((e=>{e.style.display="none"}))}}),u&&i]})})}function q(e){if(e.startsWith("http")||e.startsWith("data:"))return e;const t=e.startsWith("/")?e.slice(1):e,o="/IndigenousMapping-CDP-SP25/";return(o.endsWith("/")?o:o+"/")+t}Y._transitionInProgress=!1,Y._lastExternalViewState=null;const X={"omaha-nebraska":{id:"omaha-nebraska",name:"Omaha, Nebraska",photographer:"A. Ruger",year:"1868",catalog_ref:"Chicago Lithographing Co., 1868",description:"Bird's-eye view of the city of Omaha, Nebraska, from the east side of the Missouri River. Drawn and published by A. Ruger, this 1868 lithograph illustrates early urban development, rail activity, and steamboat commerce at the edge of the western frontier.",coordinates:{latitude:41.2565,longitude:-95.9345},elevation_feet:1060,elevation_meters:323,camera:{viewpoint:{latitude:41.254041,longitude:-95.925252,elevation:0},bearing:-77.22,pitch:60,zoom:15.71,fov:60},overlay:{opacity:.5,bounds:[[-95.945,41.25],[-95.915,41.265]]},image_url:"/assets/img/Omaha_1877.jpg",expedition:"Pre-Powell Surveys",expedition_notes:"Lithograph created during post-Civil War expansion and visual documentation of key railroad cities."},"mystic-lake":{id:"mystic-lake",name:"Mystic Lake, Montana",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.7",description:"Mystic Lake, Montana Territory",coordinates:{latitude:45.5453506,longitude:-110.9193637},elevation_feet:6398,elevation_meters:1950,camera:{viewpoint:{latitude:45.543261,longitude:-110.920025,elevation:0},bearing:3.66,pitch:84.73,zoom:17.65,fov:60},overlay:{opacity:.5,bounds:[[-110.924,45.544],[-110.917,45.548]]},image_url:"/assets/img/P.48.1.7.jpg",expedition:"Hayden Survey"},"gallatin-headwaters":{id:"gallatin-headwaters",name:"Headwaters of the Gallatin Mountains",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.16",description:"Headwaters of the Gallatin Mountains",coordinates:{latitude:44.9632,longitude:-111.0573},elevation_feet:8500,elevation_meters:2591,camera:{viewpoint:{latitude:44.958707,longitude:-111.032414,elevation:0},bearing:147.5,pitch:86.13,zoom:17.66,fov:60},overlay:{opacity:.5,bounds:[[-111.059,44.9625],[-111.0565,44.964]]},image_url:"/assets/img/P.48.1.16.jpg",expedition:"Hayden Survey"},"mammoth-hot-springs":{id:"mammoth-hot-springs",name:"Mammoth Hot Springs",photographer:"Jackson",year:"1871-1878",catalog_ref:"P.48.1.8",description:"Mammoth Hot-Springs Gardiners River [Wyoming]",coordinates:{latitude:44.9772,longitude:-110.7028},elevation_feet:6200,elevation_meters:1889,camera:{viewpoint:{latitude:44.970675,longitude:-110.704326,elevation:0},bearing:174.64,pitch:86.8,zoom:17.26,fov:60},overlay:{opacity:.5,bounds:[[-110.707,44.975],[-110.698,44.979]]},image_url:"/assets/img/P.48.1.8.jpg",expedition:"Hayden Survey"},"yellowstone-falls":{id:"yellowstone-falls",name:"Great Falls of the Yellowstone",photographer:"Jackson",year:"1871",catalog_ref:"P.48.1.9",description:"Great Falls of the Yellowstone",coordinates:{latitude:44.7181,longitude:-110.4961},elevation_feet:7500,elevation_meters:2286,camera:{viewpoint:{latitude:44.717836,longitude:-110.495424,elevation:0},bearing:-101.29,pitch:84.07,zoom:16.28,fov:60},overlay:{opacity:.5,bounds:[[-110.5,44.715],[-110.492,44.721]]},image_url:"/assets/img/P.48.1.9.jpg",expedition:"Hayden Survey"},"holy-cross":{id:"holy-cross",name:"Mountain of the Holy-Cross",photographer:"Jackson",year:"1873",catalog_ref:"P.48.1.2",description:"Mountain of the Holy-Cross",coordinates:{latitude:39.4668,longitude:-106.4817},elevation_feet:14009,elevation_meters:4270,camera:{viewpoint:{latitude:39.462081,longitude:-106.485924,elevation:0},bearing:-108.44,pitch:85.79,zoom:14.81,fov:60},overlay:{opacity:.8,bounds:[[-106.4785,39.4635],[-106.4765,39.4655]],scale:1,aspect:1.33},image_url:"/assets/img/P.48.1.2.jpg",expedition:"Hayden Survey"},"mancos-canyon-1":{id:"mancos-canyon-1",name:"Ancient Ruins in the Canyon of the Mancos",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.29",description:"Ancient Ruins in the Canyon of the Mancos",coordinates:{latitude:37.185,longitude:-108.4925},elevation_feet:7200,elevation_meters:2195,camera:{viewpoint:{latitude:37.337382,longitude:-108.444995,elevation:0},bearing:-84.32,pitch:82.48,zoom:18.37,fov:60},overlay:{opacity:.5,bounds:[[-108.495,37.184],[-108.491,37.186]]},image_url:"/assets/img/P.48.1.29.jpg",expedition:"Hayden Survey"},"mancos-canyon-2":{id:"mancos-canyon-2",name:"Ancient Ruins in the Canyon of the Mancos",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.30",description:"Ancient Ruins in the Canyon of the Mancos",coordinates:{latitude:37.0461,longitude:-108.6956},elevation_feet:6700,elevation_meters:2042,camera:{viewpoint:{latitude:37.335,longitude:-108.435,elevation:6750},bearing:65,pitch:0,zoom:16,fov:55},overlay:{opacity:.5,bounds:[[-108.697,37.045],[-108.694,37.047]]},image_url:"/assets/img/P.48.1.30.jpg",expedition:"Hayden Survey"},"window-rock":{id:"window-rock",name:"Window Rock",photographer:"landmark",year:"null",catalog_ref:"null",description:"Natural sandstone arch and seat of government of the Navajo Nation in northeastern Arizona.",coordinates:{latitude:35.68057,longitude:-109.05259},elevation_feet:6830,elevation_meters:2082,camera:{viewpoint:{latitude:35.6815,longitude:-109.0537,elevation:6900},bearing:25,pitch:-10,zoom:16,fov:65},overlay:{opacity:.5,bounds:[[-109.055,35.6785],[-109.0505,35.6825]]},image_url:"null",expedition:"landmark",expedition_notes:"null"},"chaco-canyon":{id:"chaco-canyon",name:"Chaco Canyon",photographer:"landmark",year:"null",catalog_ref:"null",description:"Chaco Canyon",coordinates:{latitude:36.060293,longitude:-107.967008},elevation_feet:6106,elevation_meters:1861,camera:{viewpoint:{latitude:36.0636,longitude:-107.9701,elevation:6270},bearing:155,pitch:-15,zoom:15.5,fov:70},overlay:{opacity:.5,bounds:[[-107.975,36.055],[-107.96,36.065]]},image_url:"null",expedition:"null",expedition_notes:"null"},"monument-valley":{id:"monument-valley",name:"Monument Valley",photographer:"landmark",year:"null",catalog_ref:"null",description:"Monument Valley, a region of the Colorado Plateau characterized by a cluster of vast sandstone buttes, is a sacred site for the Navajo Nation.",coordinates:{latitude:36.998,longitude:-110.0984},elevation_feet:5200,elevation_meters:1585,camera:{viewpoint:{latitude:36.978849,longitude:-110.101701,elevation:0},bearing:166.95,pitch:72.41,zoom:13.87,fov:60},overlay:{opacity:.5,bounds:[[-110.11,36.99],[-110.085,37.005]]},image_url:"null",expedition:"null",expedition_notes:"null"},"canyon-de-chelly":{id:"canyon-de-chelly",name:"Canyon de Chelly",photographer:"landmark",year:"null",catalog_ref:"null",description:"Canyon de Chelly National Monument, located within the Navajo Nation in northeastern Arizona, features dramatic sandstone cliffs and ancient dwellings. Spider Rock, a prominent 750-foot sandstone spire, stands at the junction of Canyon de Chelly and Monument Canyon.",coordinates:{latitude:36.14,longitude:-109.47},elevation_feet:5640,elevation_meters:1719,camera:{viewpoint:{latitude:36.133865,longitude:-109.482538,elevation:0},bearing:116.25,pitch:77.89,zoom:15.5,fov:60},overlay:{opacity:.5,bounds:[[-109.475,36.135],[-109.46,36.145]]},image_url:"null",expedition:"null",expedition_notes:"null"},"salt-lake-city-1875":{id:"salt-lake-city-1875",name:"Salt Lake City (1875)",photographer:"E.S. Glover",year:"1875",catalog_ref:"Library of Congress G4344.S3A3 1875 .G6",description:"Bird's-eye view of Salt Lake City, Utah, 1875, oriented from the northwest looking southeast, with Temple Square at the center.",coordinates:{latitude:40.7707,longitude:-111.8925},elevation_feet:4300,elevation_meters:1311,camera:{viewpoint:{latitude:40.692643,longitude:-111.903046,elevation:0},bearing:54.75,pitch:78.17,zoom:14.95,fov:60},overlay:{opacity:.5,bounds:[[-111.91,40.76],[-111.875,40.78]]},image_url:"/assets/img/SLC_1875.jpg",expedition:"null",expedition_notes:"null"},"walpi-pueblo-1":{id:"walpi-pueblo-1",name:"East Mesa",photographer:"Jackson",year:"1874-1875",catalog_ref:"P.48.1.28",description:"[The Pueblo of Walpi on the East Mesa opposite Tewa]",coordinates:{latitude:37.288492,longitude:-108.474738},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:37.288492,longitude:-108.474738,elevation:0},bearing:-125.22,pitch:83.47,zoom:17.15,fov:60},overlay:{opacity:.5,bounds:[[-110.3895,35.8285],[-110.388,35.8295]]},image_url:"/assets/img/P.48.1.28.jpg",expedition:"Hayden Survey"},"walpi-pueblo-2":{id:"walpi-pueblo-2",name:"Walpi Pueblo - Terraced Houses",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.20",description:"Terraced Houses at Wolpi [Walpi]",coordinates:{latitude:35.829354,longitude:-110.389},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.829354,longitude:-110.388763,elevation:0},bearing:124.91,pitch:82.26,zoom:20,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.20.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"walpi-pueblo-3":{id:"walpi-pueblo-3",name:"Walpi and Shechumavi - Tewa",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.10",description:"Wolpi [Walpi] and Shechumavi [Sichomovi], from Tewa",coordinates:{latitude:35.8371,longitude:-110.3943},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.8371,longitude:-110.3943,elevation:6725},bearing:180,pitch:0,zoom:15,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.10.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"walpi-pueblo-4":{id:"walpi-pueblo-4",name:"Walpi Pueblo - Dance Rock",photographer:"Hillers",year:"1874-1875",catalog_ref:"P.48.1.12",description:"Dance Rock. Wolpi [Walpi]",coordinates:{latitude:35.8367,longitude:-110.3921},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.8367,longitude:-110.3921,elevation:6725},bearing:180,pitch:0,zoom:17,fov:60},overlay:{opacity:.5,bounds:[[-110.395,35.8365],[-110.3935,35.838]]},image_url:"/assets/img/P.48.1.12.jpg",expedition:"Powell Expedition - Arizona (Hopi)",expedition_notes:"Part of Powell's Bureau of American Ethnology (BAE) survey to collect 'tangible tokens' of Hopi culture for the 1876 Philadelphia Centennial Exposition (World's Fair)"},"montezuma-canyon":{id:"montezuma-canyon",name:"Montezuma Canyon",photographer:"Jackson",year:"1874-1876",catalog_ref:"P.48.1.31",description:"Ruins in the Montezuma Canyon",coordinates:{latitude:37.387,longitude:-109.3062},elevation_feet:5800,elevation_meters:1768,camera:{viewpoint:{latitude:37.385507,longitude:-109.305991,elevation:0},bearing:5.98,pitch:80.86,zoom:18.66,fov:60},overlay:{opacity:.5,bounds:[[-109.308,37.386],[-109.305,37.388]]},image_url:"/assets/img/P.48.1.31.jpg",expedition:"Hayden Survey"},"walpi-pueblo-5":{id:"walpi-pueblo-5",name:"Walpi Pueblo - Weaving",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.22",description:"A Moki [Hopi] Weaving [Walpi]",coordinates:{latitude:35.828917,longitude:-110.38844},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.828917,longitude:-110.38844,elevation:0},bearing:-42.22,pitch:80.97,zoom:19.81,fov:60},overlay:{opacity:.5,bounds:[[-110.3886,35.829],[-110.3882,35.8293]]},image_url:"/assets/img/P.48.1.22.jpg",expedition:"Powell Expedition - BAE Survey of Arizona/New Mexico",expedition_notes:"Part of Powell's first act as Bureau of American Ethnology director after its establishment. Hillers was sent with James Stevenson and Frank Hamilton Cushing to photograph Pueblo peoples."},"grand-canyon":{id:"grand-canyon",name:"Grand Canyon [Arizona]",photographer:"Hillers",year:"1872",catalog_ref:"null",description:"Grand Canyon [Arizona]",coordinates:{latitude:36.0544,longitude:-112.1129},elevation_feet:1e4,elevation_meters:3e3,camera:{viewpoint:{latitude:36.119348,longitude:-112.052281,elevation:0},bearing:-62.72,pitch:87.51,zoom:12,fov:60},overlay:{opacity:.5,bounds:[[-112.143,36.053],[-112.11,36.056]]},image_url:"/assets/img/GC_tribes.webp",expedition:"Powell Expedition - Arizona and Utah (1872)",expedition_notes:"Part of Powell's exploration of the Grand Canyon region"},nevada:{id:"nevada",name:"Nevada",photographer:"Hillers",year:"1873",catalog_ref:"null",description:"Nevada",coordinates:{latitude:39.773978,longitude:-116.618156},elevation_feet:15e3,elevation_meters:4500,camera:{viewpoint:{latitude:39.7739,longitude:-116.6181,elevation:6e3},bearing:210,pitch:5,zoom:12,fov:65},overlay:{opacity:.5,bounds:[[-116.62,39.772],[-116.616,39.776]]},image_url:"null",expedition:"Powell Expedition - Nevada (1873)",expedition_notes:"Part of Powell's survey of Nevada, Utah, and Arizona regions"},arizona:{id:"arizona",name:"Arizona",photographer:"Hillers",year:"1873, 1881",catalog_ref:"null",description:"Arizona",coordinates:{latitude:34.300692,longitude:-111.566677},elevation_feet:1e4,elevation_meters:3e3,camera:{viewpoint:{latitude:34.3006,longitude:-111.5666,elevation:5e3},bearing:150,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-111.568,34.299],[-111.565,34.302]]},image_url:"null",expedition:"Powell Expedition - Arizona (1873, 1881)",expedition_notes:"Initial survey in 1873 as part of Powell's expedition to Utah, Nevada, and Arizona; return visit in 1881 for additional documentation"},utah:{id:"utah",name:"Utah",photographer:"Hillers",year:"1874",catalog_ref:"null",description:"Utah",coordinates:{latitude:39.240763,longitude:-111.74984},elevation_feet:12e3,elevation_meters:3600,camera:{viewpoint:{latitude:39.2407,longitude:-111.7498,elevation:6e3},bearing:180,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-111.751,39.239],[-111.748,39.242]]},image_url:"null",expedition:"Powell Expedition - Utah (1874)",expedition_notes:"Documentation of Utah landscapes as part of Powell's ongoing surveys"},"colorado-river-grand-junction":{id:"colorado-river-grand-junction",name:"Cañon of Grand River, Utah",photographer:"Jackson",year:"1874–1875",catalog_ref:"Hayden Survey, Colorado Plateau Series",description:"ALthough this photo is actually from 1890, Jackson collected photographic documentation of the Colorado River corridor near Grand Junction, Colorado during the Hayden Geological Survey, this area represents one of the key access points to the lower Colorado River system from southwestern Colorado.",coordinates:{latitude:39.126,longitude:-108.788},elevation_feet:4600,elevation_meters:1402,camera:{viewpoint:{latitude:39.120591,longitude:-108.78874,elevation:0},bearing:-172.59,pitch:86.77,zoom:16.52,fov:60},overlay:{opacity:.5,bounds:[[-108.571,39.063],[-108.56,39.068]]},image_url:"/assets/img/ColoradoRiver.jpeg",expedition:"Hayden Survey"},"indian-territory-oklahoma":{id:"indian-territory-oklahoma",name:"Indian Territory (Oklahoma)",photographer:"example",year:"1875",catalog_ref:"Smithsonian Centennial Collection, 1876",description:"Photographs and ethnographic records collected by John K. Hillers under direction of John Wesley Powell, documenting Indigenous nations in Indian Territory for the Smithsonian Institution's 1876 Centennial Exposition in Philadelphia. The expedition aimed to gather visual and cultural artifacts from the region, including portraits, dwellings, and ceremonial practices.",coordinates:{latitude:35.4676,longitude:-97.5164},elevation_feet:1197,elevation_meters:365,camera:{viewpoint:{latitude:35.47,longitude:-97.51,elevation:1220},bearing:180,pitch:-5,zoom:14.8,fov:60},overlay:{opacity:.5,bounds:[[-97.53,35.455],[-97.5,35.48]]},image_url:"/assets/img/Oklahoma.jpg",expedition:"Powell Survey, Smithsonian Commission",expedition_notes:"Images and artifacts collected for the U.S. Centennial Exposition (Philadelphia, 1876). Focused on Indigenous communities relocated to Indian Territory, including Cherokee, Choctaw, Chickasaw, Creek, and Seminole Nations."},"zuni-eagle":{id:"zuni-eagle",name:"A Zuni Eagle Cage",photographer:"Hillers",year:"1879",catalog_ref:"P.48.1.3",description:"A Zuni Eagle Cage",coordinates:{latitude:35.0695,longitude:-108.8484},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:35.0695,longitude:-108.8484,elevation:6300},bearing:0,pitch:0,zoom:19,fov:50},overlay:{opacity:.5,bounds:[[-108.849,35.069],[-108.848,35.07]]},image_url:"/assets/img/P.48.1.3.jpg",expedition:"Powell Expedition - BAE Survey of Arizona/New Mexico (1879)",expedition_notes:"Part of Powell's first act as Bureau of American Ethnology director. Hillers was sent with James Stevenson and Frank Hamilton Cushing to Arizona and New Mexico to survey archaeological 'ruins' and photograph the Pueblo peoples."},"navajo-joganda":{id:"navajo-joganda",name:"A Navajo Joganda",photographer:"Hillers",year:"null",catalog_ref:"P.48.1.11",description:"A Navajo Joganda, [Hogan]",coordinates:{latitude:36.12,longitude:-111.23},elevation_feet:6725,elevation_meters:2050,camera:{viewpoint:{latitude:36.12,longitude:-111.23,elevation:6300},bearing:150,pitch:0,zoom:18,fov:55},overlay:{opacity:.5,bounds:[[-111.231,36.119],[-111.229,36.121]]},image_url:"/assets/img/P.48.1.11.jpg",expedition:"Unknown Powell Expedition",expedition_notes:"Exact expedition date unknown, likely part of Hillers' documentation of Native American structures and dwellings"},"central-mexico":{id:"central-mexico",name:"Central Mexico",photographer:"Hillers",year:"1880-1907",catalog_ref:"null",description:"Central Mexico",coordinates:{latitude:22.614328,longitude:-101.672974},elevation_feet:7800,elevation_meters:2375,camera:{viewpoint:{latitude:22.6143,longitude:-101.6729,elevation:7800},bearing:180,pitch:0,zoom:13,fov:60},overlay:{opacity:.5,bounds:[[-101.674,22.613],[-101.671,22.616]]},image_url:"null",expedition:"Post-Powell Expeditions",expedition_notes:"Later work after the Powell expeditions, documenting regions in Central Mexico"}};function $(e){return X[e]||null}class Q extends o{initializeState(){super.initializeState(),this.state={labelPositions:[],labelLines:[],hoveredMarkerId:null,clickedMarkerId:null}}updateState({props:e,oldProps:t,changeFlags:o}){super.updateState({props:e,oldProps:t,changeFlags:o});if(o.dataChanged||o.viewportChanged||e.selectedPhotoId!==t.selectedPhotoId||!this.state.labelLines||0===this.state.labelLines.length){const{data:t}=e;this.calculateLabelPositions(t)}}calculateLabelPositions(e){if(!e||0===e.length)return;const t=(e=>{if(!e||0===e.length)return[];return[...e].sort(((e,t)=>t.coordinates.latitude-e.coordinates.latitude)).map(((t,o)=>({id:t.id,index:o,markerPosition:[t.coordinates.longitude,t.coordinates.latitude],label:t.name,photographer:t.photographer,originalIndex:e.indexOf(t),useExternalRendering:!0})))})(e);this._sortedLabelData=t,this.setState({labelPositions:[],labelLines:[],sortedLabelData:t})}onClick(e){if(!e||!e.object)return!1;const{onPhotoSelect:t}=this.props;if(t){document.body.style.backgroundColor="rgba(255,255,0,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);let o=null;if(e.object.id)o=e.object.id,this.setState({hoveredMarkerId:o,clickedMarkerId:o},(()=>{this.setNeedsUpdate(),setTimeout((()=>{this.state.clickedMarkerId===o&&this.setState({clickedMarkerId:null},(()=>this.setNeedsUpdate()))}),500)}));else if(e.layer&&"marker-labels"===e.layer.id&&this.state.labelPositions){const t=e.index;void 0!==t&&this.state.labelPositions[t]&&(o=this.state.labelPositions[t].id)}if(o)return t(o),!0}return!1}onTap(e){if(!e||!e.object)return!1;const{onPhotoSelect:t}=this.props;if(t){document.body.style.backgroundColor="rgba(0,255,255,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);let o=null;if(e.object.id)o=e.object.id,this.setState({hoveredMarkerId:o,clickedMarkerId:o},(()=>{this.setNeedsUpdate(),setTimeout((()=>{this.state.clickedMarkerId===o&&this.setState({clickedMarkerId:null,hoveredMarkerId:null},(()=>this.setNeedsUpdate()))}),500)}));else if(e.layer&&"marker-labels"===e.layer.id&&this.state.labelPositions){const t=e.index;void 0!==t&&this.state.labelPositions[t]&&(o=this.state.labelPositions[t].id)}if(o)return t(o),!0}return!1}onHover(e){if(!e||!e.target||!e.target.getCanvas)return;const t=this.state.hoveredMarkerId;let o=null;e.object?(e.target.getCanvas().style.cursor="pointer",o=e.object.id):e.target.getCanvas().style.cursor="grab",t!==o&&this.setState({hoveredMarkerId:o},(()=>{this.setNeedsUpdate()}))}renderLayers(){const{data:e,iconAtlas:t,iconMapping:o,sizeScale:r,selectedPhotoId:a,onLabelDataUpdate:s,zoomLevel:l}=this.props,{labelPositions:c,labelLines:d,sortedLabelData:p}=this.state;p&&p.length>0&&s&&s(p);const h=new i(this.getSubLayerProps({id:"marker-outlines",data:e,iconAtlas:t,iconMapping:o,getIcon:e=>"marker",getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getSize:e=>a===e.id?4:3,getColor:[255,255,255],sizeScale:10,sizeUnits:"pixels",sizeMinPixels:40,sizeMaxPixels:80,billboard:!0,pickable:!0,parameters:{depthTest:!1}})),u=new i(this.getSubLayerProps({id:"marker-icons",data:e.map((e=>({...e,_isSelected:a===e.id,_isHovered:this.state.hoveredMarkerId===e.id,_startPosition:[e.coordinates.longitude,e.coordinates.latitude],_endPosition:[e.coordinates.longitude+2,e.coordinates.latitude]}))),iconAtlas:t,iconMapping:o,getIcon:e=>"marker",getPosition:e=>[e.coordinates.longitude,e.coordinates.latitude],getSize:e=>e._isSelected?3.5:2.5,getColor:e=>"landmark"===e.photographer?[255,255,0]:"Jackson"===e.photographer?[255,87,51]:"Hillers"===e.photographer?[75,144,226]:[148,0,211],sizeScale:10,sizeUnits:"pixels",sizeMinPixels:35,sizeMaxPixels:70,billboard:!0,pickable:!0,parameters:{depthTest:!1},drawConnector:e=>this.props.showLabelConnectors&&(a===e.id||this.state.hoveredMarkerId===e.id||this.state.clickedMarkerId===e.id),getConnectorSourcePosition:e=>e._startPosition,getConnectorTargetPosition:e=>e._endPosition,connectorProps:{dashEnabled:!0,dashGapLength:2,dashLength:2,type:"circle",stroke:"#fff",strokeWidth:1,targetColor:e=>"Jackson"===e.photographer?[255,87,51,200]:[75,144,226,200],sourceColor:e=>"Jackson"===e.photographer?[255,87,51,200]:[75,144,226,200]},getTooltip:({object:e})=>e&&`${e.name} (${e.year||"unknown"})\nPhotographer: ${e.photographer}`,getAngle:e=>e._isSelected||e._isHovered||this.state.clickedMarkerId===e.id?360:0,onClick:this.onClick.bind(this),onTap:this.onTap.bind(this),onHover:this.onHover.bind(this)}));let m=null;return l>=7.5&&(m=new n(this.getSubLayerProps({id:"marker-text-labels",data:e,pickable:!0,getPosition:e=>l>=12?[e.coordinates.longitude,e.coordinates.latitude]:[e.coordinates.longitude+.03,e.coordinates.latitude],getText:e=>e.name,getSize:12,getAngle:0,getTextAnchor:"start",getAlignmentBaseline:"center",getPixelOffset:e=>l>=12?[45,0]:[25,0],getColor:e=>"landmark"===e.photographer?[255,255,150,255]:"Jackson"===e.photographer?[255,155,132,255]:"Hillers"===e.photographer?[132,190,255,255]:[200,150,230,255],fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",background:!0,getBorderColor:[0,0,0,200],getBorderWidth:3,backgroundPadding:[3,3,3,3],getBackgroundColor:[0,0,0,180],wordBreak:"break-word",billboard:!0,maxWidth:200,parameters:{depthTest:!1},onClick:this.onClick.bind(this),onHover:this.onHover.bind(this)}))),m?[h,u,m]:[h,u]}}function ee({onPhotoSelect:e=()=>{},selectedPhotoId:t=null,onLabelDataUpdate:o=null,showLabelConnectors:i=!0,showLabels:n=!1,zoomLevel:r=0}={}){const a=Object.values(X),s=a.filter((e=>{if(!e.coordinates)return!1;const{longitude:t,latitude:o}=e.coordinates;return null!=t&&null!=o&&"null"!==t&&"null"!==o&&!isNaN(parseFloat(t))&&!isNaN(parseFloat(o))&&!(Math.abs(t)>180||Math.abs(o)>90)}));return s.forEach((e=>{e.camera&&e.camera.viewpoint||(e.camera=e.camera||{},e.camera.viewpoint=e.camera.viewpoint||{longitude:e.coordinates.longitude,latitude:e.coordinates.latitude,elevation:1e3},e.camera.bearing=e.camera.bearing||0,e.camera.pitch=e.camera.pitch||60,e.camera.zoom=e.camera.zoom||14,e.camera.fov=e.camera.fov||60)})),new Q({id:"photo-markers-composite",data:s,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:{marker:{x:0,y:0,width:128,height:128,mask:!0}},sizeScale:10,sizeUnits:"pixels",selectedPhotoId:t,onPhotoSelect:e,onLabelDataUpdate:o,showLabelConnectors:i,showLabels:n,zoomLevel:r,pickable:!0,autoHighlight:!0,parameters:{depthTest:!1},highlightColor:[255,255,255,150],transitions:{getSize:200,getColor:200,getAngle:{duration:500,easing:e=>e}},onClick:!0,onTap:!0})}const te={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function oe(e,t,o){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*o):e*t*o/(t+o*e)}function ie(e,t,o,i=.15){return 0===i?function(e,t,o){return Math.max(t,Math.min(e,o))}(e,t,o):e<t?-oe(t-e,o-t,i)+t:e>o?+oe(e-o,o-t,i)+o:e}function ne(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function re(e,t,o){return(t=ne(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ae(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function se(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(o),!0).forEach((function(t){re(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ae(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const le={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ce(e){return e?e[0].toUpperCase()+e.slice(1):""}const de=["enter","leave"];function pe(e,t="",o=!1){const i=le[e],n=i&&i[t]||t;return"on"+ce(e)+ce(n)+(function(e=!1,t){return e&&!de.includes(t)}(o,n)?"Capture":"")}const he=["gotpointercapture","lostpointercapture"];function ue(e){let t=e.substring(2).toLowerCase();const o=!!~t.indexOf("passive");o&&(t=t.replace("passive",""));const i=he.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(i);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:o}}function me(e){return"touches"in e}function ge(e){return me(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function fe(e){return me(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function ve(e,t){try{const o=t.clientX-e.clientX,i=t.clientY-e.clientY,n=(t.clientX+e.clientX)/2,r=(t.clientY+e.clientY)/2,a=Math.hypot(o,i),s=-180*Math.atan2(o,i)/Math.PI;return{angle:s,distance:a,origin:[n,r]}}catch(o){}return null}function ye(e){return function(e){return Array.from(e.touches).filter((t=>{var o,i;return t.target===e.currentTarget||(null===(o=e.currentTarget)||void 0===o||null===(i=o.contains)||void 0===i?void 0:i.call(o,t.target))}))}(e).map((e=>e.identifier))}function be(e,t){const[o,i]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return ve(o,i)}function xe(e){const t=fe(e);return me(e)?t.identifier:t.pointerId}function _e(e){const t=fe(e);return[t.clientX,t.clientY]}function we(e){let{deltaX:t,deltaY:o,deltaMode:i}=e;return 1===i?(t*=40,o*=40):2===i&&(t*=800,o*=800),[t,o]}function Se(e,...t){return"function"==typeof e?e(...t):e}function ke(){}function Pe(...e){return 0===e.length?ke:1===e.length?e[0]:function(){let t;for(const o of e)t=o.apply(this,arguments)||t;return t}}function Ce(e,t){return Object.assign({},t,e||{})}class Ee{constructor(e,t,o){this.ctrl=e,this.args=t,this.key=o,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:o,args:i}=this;t[o]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,o=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=o.from?Se(o.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:o,shared:i}=this;t.args=this.args;let n=0;if(e&&(t.event=e,o.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:o,altKey:i,metaKey:n,ctrlKey:r}=e;Object.assign(t,{shiftKey:o,altKey:i,metaKey:n,ctrlKey:r})}return t}(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,n=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);te.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[r,a]=t._movement,[s,l]=o.threshold,{_step:c,values:d}=t;if(o.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(r)>=s&&d[0]),!1===c[1]&&(c[1]=Math.abs(a)>=l&&d[1])):(!1===c[0]&&(c[0]=Math.abs(r)>=s&&Math.sign(r)*s),!1===c[1]&&(c[1]=Math.abs(a)>=l&&Math.sign(a)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const p=[0,0];if(o.hasCustomTransform){const[e,t]=d;p[0]=!1!==c[0]?e-c[0]:0,p[1]=!1!==c[1]?t-c[1]:0}else p[0]=!1!==c[0]?r-c[0]:0,p[1]=!1!==c[1]?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const h=t.offset,u=t._active&&!t._blocked||t.active;u&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in o&&(t._bounds=Se(o.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[m,g]=t.offset,[[f,v],[y,b]]=t._bounds;t.overflow=[m<f?-1:m>v?1:0,g<y?-1:g>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const x=t._active&&o.rubberband||[0,0];if(t.offset=function(e,[t,o],[i,n]){const[[r,a],[s,l]]=e;return[ie(t,r,a,i),ie(o,s,l,n)]}(t._bounds,t.offset,x),t.delta=te.sub(t.offset,h),this.computeMovement(),u&&(!t.last||n>32)){t.delta=te.sub(t.offset,h);const e=t.delta.map(Math.abs);te.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&n>0&&(t.velocity=[e[0]/n,e[1]/n],t.timeDelta=n)}}emit(){const e=this.state,t=this.shared,o=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!o.triggerAllEvents)return;const i=this.handler(se(se(se({},t),e),{},{[this.aliasKey]:e.values}));void 0!==i&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class je extends Ee{constructor(...e){super(...e),re(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=te.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=te.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,o=this.config;if(!t.axis&&e){const i="object"==typeof o.axisThreshold?o.axisThreshold[ge(e)]:o.axisThreshold;t.axis=function([e,t],o){const i=Math.abs(e),n=Math.abs(t);return i>n&&i>o?"x":n>i&&n>o?"y":void 0}(t._movement,i)}t._blocked=(o.lockDirection||!!o.axis)&&!t.axis||!!o.axis&&o.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const Me=e=>e,ze={enabled:(e=!0)=>e,eventOptions:(e,t,o)=>se(se({},o.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return te.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?te.toVector(e):void 0,transform(e,t,o){const i=e||o.shared.transform;return this.hasCustomTransform=!!i,i||Me},threshold:e=>te.toVector(e,0)},Te=se(se({},ze),{},{axis(e,t,{axis:o}){if(this.lockDirection="lock"===o,!this.lockDirection)return o},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>Te.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:o=1/0,top:i=-1/0,bottom:n=1/0}=e;return[[t,o],[i,n]]}}),Le={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};const Ie="undefined"!=typeof window&&window.document&&window.document.createElement;function Ae(){return Ie&&"ontouchstart"in window}const He={isBrowser:Ie,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Ae(),touchscreen:Ae()||Ie&&window.navigator.maxTouchPoints>1,pointer:Ie&&"onpointerdown"in window,pointerLock:Ie&&"exitPointerLock"in window.document},Oe={mouse:0,touch:0,pen:8},Re=se(se({},Te),{},{device(e,t,{pointer:{touch:o=!1,lock:i=!1,mouse:n=!1}={}}){return this.pointerLock=i&&He.pointerLock,He.touch&&o?"touch":this.pointerLock?"mouse":He.pointer&&!n?"pointer":He.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:o}){if(this.preventScrollDelay="number"==typeof o?o:o||void 0===o&&e?250:void 0,He.touchscreen&&!1!==o)return e||(void 0!==o?"y":void 0)},pointerCapture(e,t,{pointer:{capture:o=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&"pointer"===this.device&&o},threshold(e,t,{filterTaps:o=!1,tapsThreshold:i=3,axis:n}){const r=te.toVector(e,o?i:n?1:0);return this.filterTaps=o,this.tapsThreshold=i,r},swipe({velocity:e=.5,distance:t=50,duration:o=250}={}){return{velocity:this.transform(te.toVector(e)),distance:this.transform(te.toVector(t)),duration:o}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?se(se({},Oe),e):Oe,keyboardDisplacement:(e=10)=>e});function De(e){const[t,o]=e.overflow,[i,n]=e._delta,[r,a]=e._direction;(t<0&&i>0&&r<0||t>0&&i<0&&r>0)&&(e._movement[0]=e._movementBound[0]),(o<0&&n>0&&a<0||o>0&&n<0&&a>0)&&(e._movement[1]=e._movementBound[1])}const Ne=se(se({},ze),{},{device(e,t,{shared:o,pointer:{touch:i=!1}={}}){if(o.target&&!He.touch&&He.gesture)return"gesture";if(He.touch&&i)return"touch";if(He.touchscreen){if(He.pointer)return"pointer";if(He.touch)return"touch"}},bounds(e,t,{scaleBounds:o={},angleBounds:i={}}){const n=e=>{const t=Ce(Se(o,e),{min:-1/0,max:1/0});return[t.min,t.max]},r=e=>{const t=Ce(Se(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof o&&"function"!=typeof i?[n(),r()]:e=>[n(e),r(e)]},threshold(e,t,o){this.lockDirection="lock"===o.axis;return te.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});const Be=se(se({},Te),{},{mouseOnly:(e=!0)=>e});const We=Te;const Fe=Te;const Ue=se(se({},Te),{},{mouseOnly:(e=!0)=>e}),Je=new Map,Ve=new Map;function Ze(e){Je.set(e.key,e.engine),Ve.set(e.key,e.resolver)}const Ke={key:"drag",engine:class extends je{constructor(...e){super(...e),re(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),o=e.currentTarget.getBoundingClientRect(),i={left:t.left-o.left+e.offset[0],right:t.right-o.right+e.offset[0],top:t.top-o.top+e.offset[1],bottom:t.bottom-o.bottom+e.offset[1]};e._bounds=Te.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,o=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),i&&i.size>1&&o._pointerActive||(this.start(e),this.setupPointer(e),o._pointerId=xe(e),o._pointerActive=!0,this.computeValues(_e(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ge(e)?(o._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,o=this.config;if(!t._pointerActive)return;const i=xe(e);if(void 0!==t._pointerId&&i!==t._pointerId)return;const n=_e(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=te.sub(n,t._values),this.computeValues(n)),te.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):o.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===o.preventScrollAxis||"xy"===o.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(a){}const t=this.state,o=this.config;if(!t._active||!t._pointerActive)return;const i=xe(e);if(void 0!==t._pointerId&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[n,r]=t._distance;if(t.tap=n<=o.tapsThreshold&&r<=o.tapsThreshold,t.tap&&o.filterTaps)t._force=!0;else{const[e,i]=t._delta,[n,r]=t._movement,[a,s]=o.swipe.velocity,[l,c]=o.swipe.distance,d=o.swipe.duration;if(t.elapsedTime<d){const o=Math.abs(e/t.timeDelta),d=Math.abs(i/t.timeDelta);o>a&&Math.abs(n)>l&&(t.swipe[0]=Math.sign(e)),d>s&&Math.abs(r)>c&&(t.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,o=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,o,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=Le[e.key];if(t){const o=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),o._delta=t(this.config.keyboardDisplacement,i),o._keyboardActive=!0,te.addTo(o._movement,o._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Le&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:Re},Ge={key:"hover",engine:class extends je{constructor(...e){super(...e),re(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(_e(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;const t=this.state;if(!t._active)return;t._active=!1;const o=_e(e);t._movement=t._delta=te.sub(o,t._values),this.computeValues(o),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},resolver:Ue},Ye={key:"move",engine:class extends je{constructor(...e){super(...e),re(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(_e(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=_e(e),o=this.state;o._delta=te.sub(t,o._values),te.addTo(o._movement,o._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},resolver:Be},qe={key:"pinch",engine:class extends Ee{constructor(...e){super(...e),re(this,"ingKey","pinching"),re(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:o}=this.state;this.state.offset="wheel"===e?te.add(t,o):[(1+t[0])*o[0],t[1]+o[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,o]=e._movement;if(!e.axis){const i=30*Math.abs(t)-Math.abs(o);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,o=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>o.has(e))))return;if(o.size<2)return;this.start(e),t._touchIds=Array.from(o).slice(0,2);const i=be(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,o=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(o.keys()).every((e=>i.has(e))))return;if(o.size<2&&o.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const n=ve(...Array.from(o.values()));n&&this.pinchStart(e,n)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=be(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const o=ve(...Array.from(t.values()));o&&this.pinchMove(e,o)}pinchMove(e,t){const o=this.state,i=o._values[1],n=t.angle-i;let r=0;Math.abs(n)>270&&(r+=Math.sign(n)),this.computeValues([t.distance,t.angle-360*r]),o.origin=t.origin,o.turns=r,o._movement=[o._values[0]/o._initial[0]-1,o._values[1]-o._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(o){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const o=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=te.sub(t._movement,o),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!(Array.isArray(t)?t.find((t=>e[t])):e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-we(e)[1]/100*t.offset[0],0],te.addTo(t._movement,t._delta),De(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:Ne},Xe={key:"scroll",engine:class extends je{constructor(...e){super(...e),re(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,o=function(e){var t,o;const{scrollX:i,scrollY:n,scrollLeft:r,scrollTop:a}=e.currentTarget;return[null!==(t=null!=i?i:r)&&void 0!==t?t:0,null!==(o=null!=n?n:a)&&void 0!==o?o:0]}(e);t._delta=te.sub(o,t._values),te.addTo(t._movement,t._delta),this.computeValues(o),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},resolver:We},$e={key:"wheel",engine:class extends je{constructor(...e){super(...e),re(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=we(e),te.addTo(t._movement,t._delta),De(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:Fe};function Qe(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}const et={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(He.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},tt=["target","eventOptions","window","enabled","transform"];function ot(e={},t){const o={};for(const[i,n]of Object.entries(t))switch(typeof n){case"function":o[i]=n.call(o,e[i],i,e);break;case"object":o[i]=ot(e[i],n);break;case"boolean":n&&(o[i]=e[i])}return o}class it{constructor(e,t){re(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,o,i,n){const r=this._listeners,a=function(e,t=""){const o=le[e];return e+(o&&o[t]||t)}(t,o),s=se(se({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),n);e.addEventListener(a,i,s);const l=()=>{e.removeEventListener(a,i,s),r.delete(l)};return r.add(l),l}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class nt{constructor(){re(this,"_timeouts",new Map)}add(e,t,o=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,o,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class rt{constructor(e){re(this,"gestures",new Set),re(this,"_targetEventStore",new it(this)),re(this,"gestureEventStores",{}),re(this,"gestureTimeoutStores",{}),re(this,"handlers",{}),re(this,"config",{}),re(this,"pointerIds",new Set),re(this,"touchIds",new Set),re(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&at(e,"drag");t.wheel&&at(e,"wheel");t.scroll&&at(e,"scroll");t.move&&at(e,"move");t.pinch&&at(e,"pinch");t.hover&&at(e,"hover")}(this,e)}setEventIds(e){return me(e)?(this.touchIds=new Set(ye(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,o={}){const i=e,{target:n,eventOptions:r,window:a,enabled:s,transform:l}=i,c=Qe(i,tt);if(o.shared=ot({target:n,eventOptions:r,window:a,enabled:s,transform:l},et),t){const e=Ve.get(t);o[t]=ot(se({shared:o.shared},c),e)}else for(const d in c){const e=Ve.get(d);e&&(o[d]=ot(se({shared:o.shared},c[d]),e))}return o}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,o={};let i;if(!t.target||(i=t.target(),i)){if(t.enabled){for(const t of this.gestures){const n=this.config[t],r=st(o,n.eventOptions,!!i);if(n.enabled){new(Je.get(t))(this,e,t).bind(r)}}const n=st(o,t.eventOptions,!!i);for(const t in this.nativeHandlers)n(t,"",(o=>this.nativeHandlers[t](se(se({},this.state.shared),{},{event:o,args:e}))),void 0,!0)}for(const e in o)o[e]=Pe(...o[e]);if(!i)return o;for(const e in o){const{device:t,capture:n,passive:r}=ue(e);this._targetEventStore.add(i,t,"",o[e],{capture:n,passive:r})}}}}function at(e,t){e.gestures.add(t),e.gestureEventStores[t]=new it(e,t),e.gestureTimeoutStores[t]=new nt}const st=(e,t,o)=>(i,n,r,a={},s=!1)=>{var l,c;const d=null!==(l=a.capture)&&void 0!==l?l:t.capture,p=null!==(c=a.passive)&&void 0!==c?c:t.passive;let h=s?i:pe(i,n,d);o&&p&&(h+="Passive"),e[h]=e[h]||[],e[h].push(r)},lt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ct(e,t,o,i,n,r){if(!e.has(o))return;if(!Je.has(i))return;const a=o+"Start",s=o+"End";n[i]=e=>{let i;return e.first&&a in t&&t[a](e),o in t&&(i=t[o](e)),e.last&&s in t&&t[s](e),i},r[i]=r[i]||{}}function dt(e,t){const[o,i,n]=function(e){const t={},o={},i=new Set;for(let n in e)lt.test(n)?(i.add(RegExp.lastMatch),o[n]=e[n]):t[n]=e[n];return[o,t,i]}(e),r={};return ct(n,o,"onDrag","drag",r,t),ct(n,o,"onWheel","wheel",r,t),ct(n,o,"onScroll","scroll",r,t),ct(n,o,"onPinch","pinch",r,t),ct(n,o,"onMove","move",r,t),ct(n,o,"onHover","hover",r,t),{handlers:r,config:t,nativeHandlers:i}}function pt(e){return e.forEach(Ze),function(e,t){const{handlers:o,nativeHandlers:i,config:n}=dt(e,t||{});return function(e,t={},o,i){const n=r.useMemo((()=>new rt(e)),[]);if(n.applyHandlers(e,i),n.applyConfig(t,o),r.useEffect(n.effect.bind(n)),r.useEffect((()=>n.clean.bind(n)),[]),void 0===t.target)return n.bind.bind(n)}(o,n,void 0,i)}}const ht=q("assets/geojson/mapBoxStyle.json");function ut(){const[t,o]=e.useState(null),[i,n]=e.useState(null),[s,l]=e.useState(null),c={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},[d,p]=e.useState({navajo:!0,hopi:!0,zuni:!0,others:!1}),[h,u]=e.useState(!1),[m,g]=e.useState(!0),[f,v]=e.useState(1),[b,x]=e.useState(!1),[_,w]=e.useState(2),[S,k]=e.useState(!0),[P,C]=e.useState(!1),[E,j]=e.useState(0),[M,z]=e.useState(0),[T,L]=e.useState(0),[I,A]=e.useState(1),[H,O]=e.useState([]);e.useCallback((e=>{p((t=>({...t,[e]:!t[e]})))}),[]);const R=e.useCallback((()=>{p((e=>({navajo:!0,hopi:!0,zuni:!0,others:!e.others})))}),[]),D=s||c;e.useEffect((()=>{U.current&&(window.deckInstance=U.current)}),[]);const N=e.useRef(D.zoom);e.useEffect((()=>{if(i){const e=$(i);if(e&&e.coordinates){const t=((e,t,o,i)=>{const n=(o-e)*Math.PI/180,r=(i-t)*Math.PI/180,a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371})(D.latitude,D.longitude,e.coordinates.latitude,e.coordinates.longitude)<100&&D.zoom>=7.5;t&&!m?(g(!0),v(1)):!t&&m&&(v(0),setTimeout((()=>g(!1)),300))}}(N.current<7.5&&D.zoom>=7.5||N.current>=7.5&&D.zoom<7.5)&&(D.zoom>=7.5?(v(0),setTimeout((()=>g(!1)),300)):i||(g(!0),setTimeout((()=>v(1)),100))),N.current=D.zoom}),[D.latitude,D.longitude,D.zoom,i]);const{gestureBindings:B,goToHomeView:W}=function(e,t,o,i){const n={longitude:-109.141407,latitude:37.410576,zoom:6.24,pitch:47.17,bearing:-9.07,maxPitch:89,minPitch:0,minZoom:1,maxZoom:20,fov:60},r=()=>{var r,s;t&&t(null);const l=3e3;((null==(s=null==(r=window.deckInstance)?void 0:r.deck)?void 0:s.viewState)||{}).zoom,n.zoom<7.5&&(o&&o(!0),setTimeout((()=>{i&&i(1)}),2700)),e({...n,transitionDuration:l,transitionInterpolator:new a({speed:1.2,curve:1.5,screenSpeed:15,maxDuration:l}),transitionEasing:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2})};return{gestureBindings:(s={onDrag:({delta:[e,t],direction:[o],touches:i,first:n,movement:[a]})=>{3===i&&o<0?a<-100&&r():1===i&&o<0&&a<-200&&r()}},pt([Ke,qe,Xe,$e,Ye,Ge])(s,l||{})),goToHomeView:r};var s,l}(l,n,g,v),F=e.useRef(null),U=e.useRef(null),J=e.useCallback((e=>{var t;try{const o=$(e);if(!o)return;const i=3e3;setTimeout((()=>{n(e),j(0),z(0),L(0),A(1)}),i-500),p({navajo:!1,hopi:!1,zuni:!1,others:!1}),D.zoom<7.5&&(v(0),setTimeout((()=>{g(!1)}),300));const r=null==(t=o.camera)?void 0:t.viewpoint;if(!r)return;let s=o.camera.pitch||60;s<0&&(s=0),s>85&&(s=85),document.body.style.backgroundColor="rgba(0,255,0,0.1)",setTimeout((()=>document.body.style.backgroundColor=""),100);const c={longitude:r.longitude,latitude:r.latitude,zoom:o.camera.zoom||15,pitch:s,bearing:o.camera.bearing||0,transitionDuration:i,transitionInterpolator:new a({speed:1.2,curve:1.5,screenSpeed:15,maxDuration:i}),transitionEasing:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2};l(c)}catch(i){o(`Failed to select photo: ${i.message}`)}}),[]),V=e.useCallback((e=>{O(e)}),[]),Z=e.useCallback((()=>{if(!H||0===H.length)return[];let e=[...H];S&&e.sort(((e,t)=>e.photographer!==t.photographer?e.photographer.localeCompare(t.photographer):t.markerPosition[1]-e.markerPosition[1]));const t=[],o=Math.ceil(e.length/_);if(S){let i=[],n=null;for(e.forEach(((r,a)=>{var s;i.length>=o&&(r.photographer!==n||a===e.length-1||(null==(s=e[a+1])?void 0:s.photographer)!==r.photographer)&&(t.push(i),i=[]),n=r.photographer,i.push({...r,isPhotographerHeader:0===i.length||i.length>0&&i[i.length-1].photographer!==r.photographer})})),i.length>0&&t.push(i);t.length<_&&t.some((e=>e.length>o));){const e=t.findIndex((e=>e.length===Math.max(...t.map((e=>e.length)))));if(-1===e||t[e].length<=o)break;const i=t[e].splice(Math.ceil(t[e].length/2));i.length>0&&(i[0]&&(i[0]={...i[0],isPhotographerHeader:!0}),t.push(i))}}else for(let i=0;i<_;i++){const n=e.slice(i*o,(i+1)*o);t.push(n)}return t}),[H,_,S]),K=e.useMemo((()=>[ee({onPhotoSelect:J,selectedPhotoId:i,onLabelDataUpdate:V,showLabelConnectors:P,showLabels:b,zoomLevel:D.zoom})]),[i,J,E,M,T,I,V,P,H,_]),X=i?$(i):null,[Q,te]=e.useState({visible:!1,x:0,y:0});return e.useEffect((()=>{const e=e=>{const t=document.querySelector(".deck-canvas");if(t){const o=t.getBoundingClientRect(),i=e.clientX-o.left,n=e.clientY-o.top;te({visible:!0,x:i,y:n}),setTimeout((()=>{te({visible:!1,x:i,y:n})}),800)}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),y.jsxs("div",{ref:F,style:{width:"100vw",height:"100vh",position:"relative",touchAction:"none"},...B(),children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"\n        @keyframes spin360 {\n          from { transform: rotate(0deg) scale(1); }\n          50% { transform: rotate(180deg) scale(1.5); }\n          to { transform: rotate(360deg) scale(1); }\n        }\n        \n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        \n        .rotation-indicator {\n          position: absolute;\n          width: 50px;\n          height: 50px;\n          border: 3px solid white;\n          border-radius: 50%;\n          pointer-events: none;\n          z-index: 1000;\n          transform-origin: center;\n          animation: spin360 0.8s ease-out, fadeOut 0.8s ease-out;\n        }\n      "}}),Q.visible&&y.jsx("div",{className:"rotation-indicator",style:{left:Q.x-25+"px",top:Q.y-25+"px"}}),b&&y.jsx(y.Fragment,{children:D.zoom<7.5&&y.jsx("div",{className:"photo-labels-container",style:{position:"absolute",top:"15vh",right:0,bottom:"15vh",width:1===_?"300px":2===_?"460px":"600px",paddingRight:"5px",zIndex:10,pointerEvents:"none",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"row",justifyContent:"flex-start",background:"transparent",border:"none",maxHeight:"70vh",padding:"0",margin:"0"},children:Z().map(((e,t)=>y.jsx("div",{style:{display:"flex",flexDirection:"column",width:1===_?"100%":2===_?"50%":"33.33%",paddingRight:t<_-1?"5px":"0"},children:e.map(((e,t)=>y.jsxs(r.Fragment,{children:[S&&e.isPhotographerHeader&&y.jsx("div",{className:"photographer-header",style:{margin:"5px 0 2px 0",backgroundColor:"rgba(0, 0, 0, 0.4)",color:"Jackson"===e.photographer?"rgb(255, 155, 132)":"rgb(132, 190, 255)",padding:"2px 5px",fontSize:"10px",fontWeight:"bold",width:"100%",textAlign:"left",pointerEvents:"none",textTransform:"uppercase",letterSpacing:"0.5px",borderLeft:"Jackson"===e.photographer?"3px solid rgb(255, 87, 51)":"3px solid rgb(75, 144, 226)",textShadow:"0px 0px 2px rgba(0,0,0,0.8)"},children:e.photographer}),y.jsx("div",{className:"photo-label","data-photographer":e.photographer,style:{margin:"0",backgroundColor:"rgba(0, 0, 0, 0)",color:"white",borderRadius:"0",padding:"0",fontSize:"12px",fontWeight:"bold",cursor:"pointer",pointerEvents:"auto",width:"100%",transition:"all 0.2s ease-out",opacity:i===e.id?1:.8,transform:"scale(1)",boxShadow:"none",textAlign:"left",height:"24px",display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:S?"10px":"5px",borderLeft:i===e.id?"Jackson"===e.photographer?"3px solid rgb(255, 87, 51)":"3px solid rgb(75, 144, 226)":"3px solid transparent",textShadow:"0px 0px 3px rgba(0,0,0,0.9), 0px 0px 1px #000"},onClick:()=>J(e.id),children:e.label})]},e.id)))},`column-${t}`)))})}),y.jsx("div",{onClick:W,style:{position:"absolute",bottom:"2vw",left:"50%",transform:"translateX(-50%)",zIndex:15,background:"transparent",border:"none",borderRadius:"8px",width:"128px",height:"128px",overflow:"visible",cursor:"pointer"},title:"Return to home view (you can also swipe left with three fingers or long drag left)",children:y.jsxs("div",{style:{width:"120px",height:"120px",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",position:"absolute",top:"4px",left:"4px",backgroundColor:"transparent",overflow:"hidden"},children:[y.jsx("div",{style:{position:"absolute",top:-4,left:-4,width:"calc(100% + 8px)",height:"calc(100% + 8px)",borderRadius:"8px",border:"4px solid rgb(255, 255, 255)",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",pointerEvents:"none",zIndex:2}}),y.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/-110.2,36.5,4.5,0/120x120@2x?attribution=false&logo=false&access_token=${G})`,backgroundSize:"cover",backgroundPosition:"center",opacity:1}}),y.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:[y.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:y.jsx("path",{d:"M22 42 C38 30 50 33 60 33 C75 33 90 42 105 48 C102 60 97 72 90 82 C75 90 60 87 38 75 C22 60 22 42 22 42 Z",fill:"hsla(0, 99%, 61%, 0.5)",strokeWidth:"1.5",stroke:"hsl(0, 99%, 41%)"})}),y.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:y.jsx("circle",{cx:"60",cy:"57",r:"12",fill:"hsla(294, 66%, 34%, 0.5)",strokeWidth:"1.5",stroke:"hsl(294, 66%, 24%)"})}),y.jsx("svg",{width:"120",height:"120",viewBox:"0 0 120 120",style:{position:"absolute",top:0,left:0},children:y.jsx("path",{d:"M38 72 L57 82 L68 72 L53 60 Z",fill:"hsla(249, 70%, 59%, 0.5)",strokeWidth:"1.5",stroke:"hsl(249, 70%, 39%)"})})]}),y.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.1) 100%)",pointerEvents:"none"}}),y.jsx("div",{style:{position:"absolute",border:"1px solid rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"50%",width:"10px",height:"10px",transform:"translate(-50%, -50%)",left:`${Math.min(Math.max((D.longitude+118)/16*100,0),100)}%`,top:`${Math.min(Math.max((45-D.latitude)/15*100,0),100)}%`,pointerEvents:"none",transition:"all 0.3s ease-out",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)",zIndex:1}})]})}),D.zoom<7.5&&y.jsxs("div",{style:{position:"absolute",top:"2vw",left:"2vw",zIndex:10},children:[y.jsx("h1",{className:"geographica-hand",style:{margin:0,padding:0,color:"white",fontSize:"6rem",letterSpacing:"0em",textShadow:"3px 3px 6px rgba(0,0,0,0.6)",lineHeight:"1.1"},children:"Tied To The Land"}),y.jsx("h2",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2.5rem",maxWidth:"45vw",textShadow:"2px 2px 4px rgba(0,0,0,0.6)",lineHeight:"1.2"},children:"Explore the Jackson-Hillers photographs situated in original Indigenous territories and their history."})]}),D.zoom<7.5&&y.jsxs("div",{style:{position:"absolute",bottom:"5vw",left:"5vw",zIndex:10,maxWidth:"30vw",background:"transparent"},children:[y.jsx("h2",{className:"geographica-hand",onClick:R,style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"left",cursor:"pointer",transition:"transform 0.3s, opacity 0.3s",transform:"scale(1)",opacity:"1"},children:"The People"}),y.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"2px 2px 4px rgba(0,0,0,0.6)",lineHeight:"1.4",textAlign:"left",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{opacity:"1",transition:"opacity 0.3s"},children:[y.jsx("div",{style:{marginTop:"0.5rem"},children:y.jsx("span",{className:"geographica-hand",style:{color:"white",fontSize:"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1"},children:"Diné"})}),y.jsx("div",{style:{marginTop:"0.5rem"},children:y.jsx("span",{className:"geographica-hand",style:{color:"white",fontSize:"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1"},children:"Hopi"})}),y.jsx("div",{style:{marginTop:"0.5rem"},children:y.jsx("span",{className:"geographica-hand",style:{color:"white",fontSize:"3.5rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1"},children:"Zuni"})})]}),y.jsx("div",{style:{marginTop:"1.5rem",display:"flex",alignItems:"center",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem",opacity:.9},children:y.jsx("span",{onClick:()=>x(!b),style:{color:"white",letterSpacing:"0.05rem",cursor:"pointer",textDecoration:b?"underline":"none",opacity:b?1:.7},children:"SHOW_LABELS"})}),b&&y.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",fontFamily:"monospace",fontSize:"0.7rem"},children:[y.jsx("div",{style:{marginBottom:"0.3rem"},children:y.jsx("span",{onClick:()=>k(!S),style:{color:"white",cursor:"pointer",textDecoration:S?"underline":"none",opacity:S?1:.7},children:"GROUP_BY_PHOTOGRAPHER"})}),y.jsx("div",{style:{marginBottom:"0.3rem"},children:y.jsx("span",{onClick:()=>C(!P),style:{color:"white",cursor:"pointer",textDecoration:P?"underline":"none",opacity:P?1:.7},children:"SHOW_CONNECTORS"})}),y.jsxs("div",{style:{color:"white",marginBottom:"0.3rem"},children:[y.jsx("span",{style:{marginRight:"6px"},children:"COLUMNS:"}),y.jsxs("span",{style:{display:"inline-flex",gap:"10px"},children:[y.jsx("span",{onClick:()=>w(1),style:{cursor:"pointer",textDecoration:1===_?"underline":"none",fontWeight:1===_?"bold":"normal"},children:"1"}),y.jsx("span",{onClick:()=>w(2),style:{cursor:"pointer",textDecoration:2===_?"underline":"none",fontWeight:2===_?"bold":"normal"},children:"2"}),y.jsx("span",{onClick:()=>w(3),style:{cursor:"pointer",textDecoration:3===_?"underline":"none",fontWeight:3===_?"bold":"normal"},children:"3"})]})]})]})]})]}),D.zoom<7.5&&y.jsxs("div",{style:{position:"absolute",top:"2vw",right:"2vw",zIndex:10,maxWidth:"30vw",background:"transparent"},children:[y.jsx("h2",{className:"geographica-hand",style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right"},children:"The Photographers"}),y.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.4",textAlign:"right",display:"flex",flexDirection:"column"},children:[y.jsx("span",{children:"John K. Hillers"}),y.jsx("span",{children:"William Henry Jackson"})]})]}),D.zoom<7.5&&y.jsxs("div",{style:{position:"absolute",top:"20vw",right:"2vw",zIndex:10,maxWidth:"30vw",background:"transparent"},children:[y.jsx("h2",{className:"geographica-hand",style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right"},children:"National Parks"}),y.jsxs("div",{className:"aldine-regular",style:{margin:"0.5rem 0 0 0",padding:0,color:"white",fontSize:"2rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.4",textAlign:"right",display:"flex",flexDirection:"column"},children:[y.jsx("span",{children:"Yellowstone"}),y.jsx("span",{children:"Grand Canyon"}),y.jsx("span",{children:"Chaco Culture"})]})]}),D.zoom<7.5&&y.jsx("div",{style:{position:"absolute",top:"38vw",right:"2vw",zIndex:10,maxWidth:"30vw",background:"transparent"},children:y.jsx("h2",{className:"geographica-hand",style:{margin:0,padding:0,color:"white",fontSize:"4rem",textShadow:"3px 3px 8px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"right"},children:"The Bureau of Ethnography and US Geological Survey"})}),t&&y.jsxs("div",{style:{position:"absolute",top:50,left:10,zIndex:10,background:"red",color:"white",padding:"10px"},children:["Error: ",t]}),X&&m&&y.jsxs("div",{style:{position:"absolute",top:10,right:10,zIndex:10,background:"rgba(255, 255, 255, 0.95)",padding:"12px",borderRadius:"6px",width:"450px",boxShadow:"0 2px 15px rgba(0,0,0,0.4)",maxHeight:"90vh",overflowY:"auto",animation:"fadeIn 500ms ease-in-out forwards"},children:[y.jsx("div",{style:{position:"absolute",top:"5px",right:"5px"},children:y.jsx("button",{onClick:()=>n(null),style:{padding:"3px 6px",background:"rgba(0,0,0,0.15)",color:"#333",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"×"})}),y.jsx("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxHeight:"500px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f5f5f5",margin:"0 0 10px 0"},children:y.jsx("img",{src:X.image_url.startsWith("http")?X.image_url:q(X.image_url.replace(/^\//,"")),alt:X.name,style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain"}})}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[y.jsxs("div",{style:{flex:"1"},children:[y.jsx("h3",{className:"aldine-bold",style:{margin:"0 0 2px 0",fontSize:"18px"},children:X.name}),y.jsxs("p",{className:"aldine-text",style:{margin:"0",fontSize:"14px",color:"Jackson"===X.photographer?"#c43e1c":"#2761ac"},children:[X.photographer,", ",X.year]})]}),y.jsxs("div",{style:{flex:"1",textAlign:"right",fontSize:"12px",color:"#555"},children:[y.jsx("p",{style:{margin:"0"},children:"Jackson"===X.photographer?"Western US Geological Survey":"Bureau of American Ethnology"}),y.jsx("p",{style:{margin:"0",fontStyle:"italic"},children:"Jackson"===X.photographer?"1875-1876":"1879"})]})]}),y.jsx("p",{className:"aldine-text",style:{margin:"0 0 10px 0",fontSize:"14px",lineHeight:"1.4"},children:X.description}),y.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px",padding:"6px",background:"rgba(0,0,0,0.03)",borderRadius:"4px"},children:y.jsxs("p",{style:{margin:"0",fontStyle:"italic"},children:["Indigenous territories documentary photography -","Jackson"===X.photographer?" Part of early extensive photographic expeditions documenting the Southwest.":" Some of the earliest photographic record of traditional Pueblo life."]})})]}),y.jsx(Y,{styleUrl:ht,layers:K,viewState:s,onViewStateChange:({viewState:e})=>{l(e)},territoriesVisible:d,showMapboxMarkers:h,deckRef:U})]})}b.createRoot(document.getElementById("root")).render(y.jsx(ut,{}));
